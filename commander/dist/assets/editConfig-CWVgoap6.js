import{l as ye,q as we,s as Ce,g as he,p as ke,aB as q,a2 as Pe,E as T,K as w,J as be,aC as _e,aD as Fe,aE as g,aF as Te,c as Be,af as Ie,f as l,h as t,F as p,a3 as E,Z as L,aG as Re,i as Se,a4 as De,P as U,Y as Ne,O as Ae,aH as Ee,_ as Ue,k as B,o as v,w as a,D as z,C as ze,y as I,aI as He,aJ as Me,aK as Ge,t as H,v as Y,z as V}from"./index-792hYoSc.js";import{V as Z,a as M}from"./VRow-DyhDK8Oc.js";import{u as Oe,V as Q,a as $e,m as je,b as Je,c as Ke}from"./autofocus-G5fhcZjD.js";import{a as qe,V as W,m as Le}from"./VLabel-BBm6jOZi.js";import{V as X,a as ee,c as te,b as ae}from"./VExpansionPanels-Ditc0RPz.js";import{V as le}from"./VTable-CpepR7Zt.js";const Ye={data(){return{backendConfigText:""}},mounted(){this.backendConfigText=this.getBackendConfig},computed:{...ye(we,["getBackendConfig","getObsSceneData"])},methods:{saveConfig(){Ce.$emit("websocket:send",{method:"update_config",params:{data:this.backendConfigText}})}}},Ze=ke({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Je(),...Le(),...je()},"VTextarea"),Qe=he()({name:"VTextarea",directives:{vIntersect:q},inheritAttrs:!1,props:Ze(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,o){let{attrs:C,emit:h,slots:i}=o;const s=Pe(e,"modelValue"),{isFocused:u,focus:f,blur:ne}=qe(e),{onIntersect:oe}=Ke(e),ue=T(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),se=T(()=>{if(C.maxlength)return C.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),G=w(),k=w(),O=be(""),P=w(),b=Oe(e),ie=T(()=>e.persistentPlaceholder||u.value||e.active);function R(){b.isSuppressing.value&&b.update(),P.value!==document.activeElement&&P.value?.focus(),u.value||f()}function re(n){R(),h("click:control",n)}function de(n){h("mousedown:control",n)}function ce(n){n.stopPropagation(),R(),U(()=>{s.value="",Ee(e["onClick:clear"],n)})}function fe(n){const r=n.target;if(s.value=r.value,e.modelModifiers?.trim){const d=[r.selectionStart,r.selectionEnd];U(()=>{r.selectionStart=d[0],r.selectionEnd=d[1]})}}const m=w(),y=w(Number(e.rows)),S=T(()=>["plain","underlined"].includes(e.variant));_e(()=>{e.autoGrow||(y.value=Number(e.rows))});function x(){e.autoGrow&&U(()=>{if(!m.value||!k.value)return;const n=getComputedStyle(m.value),r=getComputedStyle(k.value.$el),d=parseFloat(n.getPropertyValue("--v-field-padding-top"))+parseFloat(n.getPropertyValue("--v-input-padding-top"))+parseFloat(n.getPropertyValue("--v-field-padding-bottom")),D=m.value.scrollHeight,F=parseFloat(n.lineHeight),N=Math.max(parseFloat(e.rows)*F+d,parseFloat(r.getPropertyValue("--v-input-control-height"))),A=parseFloat(e.maxRows)*F+d||1/0,c=Ae(D??0,N,A);y.value=Math.floor((c-d)/F),O.value=Ne(c)})}Fe(x),g(s,x),g(()=>e.rows,x),g(()=>e.maxRows,x),g(()=>e.density,x),g(y,n=>{h("update:rows",n)});let _;return g(m,n=>{n?(_=new ResizeObserver(x),_.observe(m.value)):_?.disconnect()}),Te(()=>{_?.disconnect()}),Be(()=>{const n=!!(i.counter||e.counter||e.counterValue),r=!!(n||i.details),[d,D]=Ie(C),{modelValue:F,...N}=W.filterProps(e),A={...Q.filterProps(e),"onClick:clear":ce};return l(W,E({ref:G,modelValue:s.value,"onUpdate:modelValue":c=>s.value=c,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":S.value},e.class],style:e.style},d,N,{centerAffix:y.value===1&&!S.value,focused:u.value}),{...i,default:c=>{let{id:ve,isDisabled:$,isDirty:j,isReadonly:me,isValid:xe,hasDetails:ge}=c;return l(Q,E({ref:k,style:{"--v-textarea-control-height":O.value},onClick:re,onMousedown:de,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},A,{id:ve.value,active:ie.value||j.value,centerAffix:y.value===1&&!S.value,dirty:j.value||e.dirty,disabled:$.value,focused:u.value,details:ge.value,error:xe.value===!1}),{...i,default:Ve=>{let{props:{class:J,...K}}=Ve;return t(p,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),L(t("textarea",E({ref:P,class:J,value:s.value,onInput:fe,autofocus:e.autofocus,readonly:me.value,disabled:$.value,placeholder:e.placeholder,rows:e.rows,name:b.fieldName.value,autocomplete:b.fieldAutocomplete.value,onFocus:R,onBlur:ne},K,D),null),[[q,{handler:oe},null,{once:!0}]]),e.autoGrow&&L(t("textarea",{class:Se([J,"v-textarea__sizer"]),id:`${K.id}-sizer`,"onUpdate:modelValue":pe=>s.value=pe,ref:m,readonly:!0,"aria-hidden":"true"},null),[[Re,s.value]]),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:r?c=>t(p,null,[i.details?.(c),n&&t(p,null,[t("span",null,null),l($e,{active:e.persistentCounter||u.value,value:ue.value,max:se.value,disabled:e.disabled},i.counter)])]):void 0})}),De({},G,k,P)}});function We(e,o,C,h,i,s){return v(),B(z,{class:"overflow-auto mx-auto","max-height":"100%","max-width":"100%",elevation:"0",color:"transparent","min-height":"100%"},{default:a(()=>[l(Z,{class:"mx-3 my-2 mb-0 pb-0"},{default:a(()=>[l(M,{cols:"8"},{default:a(()=>[l(Qe,{style:{"min-height":"calc(100vh - 90px)"},modelValue:i.backendConfigText,"onUpdate:modelValue":o[0]||(o[0]=u=>i.backendConfigText=u),variant:"outlined"},null,8,["modelValue"])]),_:1}),l(M,null,{default:a(()=>[l(z,{class:"px-4 py-3"},{default:a(()=>[l(Z,{"align-content":"center",justify:"center",align:"center",dense:""},{default:a(()=>[l(M,{cols:"12"},{default:a(()=>[l(ze,{width:"100%","prepend-icon":"mdi-content-save",color:"grey-darken-3",variant:"flat",elevation:"0",onClick:s.saveConfig},{default:a(()=>[...o[1]||(o[1]=[I(" Save Config ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),l(z,{class:"mt-3",color:"transparent",elevation:"0"},{default:a(()=>[l(He,{flat:"",density:"compact"},{default:a(()=>[l(Me,{class:"d-flex align-center"},{default:a(()=>[...o[2]||(o[2]=[I(" OBS Scenes ",-1)])]),_:1})]),_:1}),l(Ge,{class:"pa-0"},{default:a(()=>[t("div",null,[l(X,{color:"grey-darken-4"},{default:a(()=>[(v(!0),H(p,null,Y(e.getObsSceneData,u=>(v(),B(ee,{key:u.uuid||u.index},{default:a(()=>[l(te,null,{default:a(()=>[I(V(u.name),1)]),_:2},1024),l(ae,{class:"pa-0"},{default:a(()=>[l(le,null,{default:a(()=>[t("tbody",null,[t("tr",null,[o[3]||(o[3]=t("td",null,"UUID",-1)),t("td",null,V(u.uuid),1)]),t("tr",null,[o[4]||(o[4]=t("td",null,"Index",-1)),t("td",null,V(u.index),1)])])]),_:2},1024),u.items===0?(v(),H(p,{key:0},[],64)):(v(),B(X,{key:1,multiple:"",class:"mt-2"},{default:a(()=>[(v(!0),H(p,null,Y(u.items,f=>(v(),B(ee,{color:"grey-darken-3",key:f.uuid||f.id},{default:a(()=>[l(te,null,{default:a(()=>[I(V(f.name),1)]),_:2},1024),l(ae,{class:"pa-0"},{default:a(()=>[l(le,null,{default:a(()=>[t("tbody",null,[t("tr",null,[o[5]||(o[5]=t("td",null,"UUID",-1)),t("td",null,V(f.uuid),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"ID",-1)),t("td",null,V(f.id),1)])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const ot=Ue(Ye,[["render",We]]);export{ot as default};
