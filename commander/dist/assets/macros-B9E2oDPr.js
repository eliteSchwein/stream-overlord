import{l as p,q as h,b8 as w,_ as f,k as c,o as e,w as a,f as s,h as t,t as d,F as _,v as g,z as l,y as C,C as M,as as k,a5 as b,D as v}from"./index-YVDQipzS.js";import{b as B,a as S,V as T}from"./VExpansionPanels-yoGvsG55.js";import{V as $}from"./VTable-CHcDXEIY.js";const E={props:["macro","name"],data(){return{loading:!1,icon:"mdi-play",color:""}},computed:{...p(h,["getRestApi"])},methods:{async triggerMacro(){this.loading||this.color!==""||(this.loading=!0,await fetch(`${this.getRestApi}/api/macro`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({macro:this.name})}),this.loading=!1,this.color="success",this.icon="mdi-check",await w(2500),this.color="",this.icon="mdi-play")}}};function N(u,r,i,x,n,m){return e(),c(S,null,{title:a(()=>[t("div",null,[s(M,{loading:n.loading,onClick:k(m.triggerMacro,["stop"]),icon:n.icon,color:n.color,class:"mr-2",size:"small",density:"compact",variant:"plain"},null,8,["loading","onClick","icon","color"]),C(" "+l(i.name),1)])]),default:a(()=>[s(B,{class:"pa-0"},{default:a(()=>[s($,null,{default:a(()=>[r[0]||(r[0]=t("thead",null,[t("tr",null,[t("th",{class:"text-left",style:{width:"220px"}}," Channel "),t("th",{class:"text-left",style:{width:"220px"}}," Method "),t("th",{class:"text-left"}," Data ")])],-1)),t("tbody",null,[(e(!0),d(_,null,g(i.macro.tasks,o=>(e(),d("tr",null,[t("td",null,l(o.channel),1),t("td",null,l(o.method),1),t("td",null,l(o.data),1)]))),256))])]),_:1})]),_:1})]),_:1})}const P=f(E,[["render",N]]),A={computed:{...p(h,["getMacros"])}};function D(u,r,i,x,n,m){const o=P;return e(),c(v,{class:"overflow-auto mx-auto","max-height":"100%",elevation:"0",color:"transparent","max-width":"100%"},{default:a(()=>[s(b,{class:"mx-3 my-2"},{default:a(()=>[s(T,null,{default:a(()=>[(e(!0),d(_,null,g(u.getMacros,(y,V)=>(e(),c(o,{macro:y,name:V},null,8,["macro","name"]))),256))]),_:1})]),_:1})]),_:1})}const O=f(A,[["render",D]]);export{O as default};
