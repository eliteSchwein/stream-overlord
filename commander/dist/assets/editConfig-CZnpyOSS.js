import{j as Te,k as C,o as i,E as fe,F as Be,G as Fe,v as oe,g as Re,p as Se,bl as ue,H as Ie,S as N,at as B,R as Ae,P as De,as as Ne,aB as Ee,X as F,bm as ze,e as Me,bc as Ue,f as t,i as l,ai as p,K as W,ad as se,bn as He,h as Oe,aD as ie,aP as Ge,ay as E,aw as $e,bo as We,aV as je,w as a,aY as Xe,aZ as re,a_ as z,V as j,q as X,l as d,bp as q,z as w,aX as M,t as x,b9 as qe}from"./index-sh4r9RDP.js";import{n as Ke}from"./no_obs-C_D82FvN.js";import{u as Le,V as de,a as Ye,m as Ze,b as Je,c as Qe}from"./autofocus-DCxF1Nw3.js";import{a as et,V as ce,m as tt}from"./VLabel-WVrNldR9.js";import{b as K,V as L,c as Y,a as Z}from"./VExpansionPanels-C6lO4yN4.js";import{V as J}from"./VTable-B-PUZ0CQ.js";const at=Te({__name:"CopyButton",props:["content"],setup(e){function n(y){navigator.clipboard.writeText(y)}return(y,V)=>(i(),C(fe,{icon:"mdi-content-copy",size:"x-small",onClick:V[0]||(V[0]=c=>n(e.content))}))}}),lt={data(){return{noObs:Ke,backendConfigText:"",voiceFilter:""}},mounted(){this.backendConfigText=this.getBackendConfig,this.backendConfigText===""&&oe.$on("websocket:connected",()=>{setTimeout(()=>{this.backendConfigText=this.getBackendConfig},250)})},computed:{...Be(Fe,["getBackendConfig","getObsSceneData","getScene","getVoices"])},methods:{saveConfig(){oe.$emit("websocket:send",{method:"update_config",params:{data:this.backendConfigText}})}}},nt=Se({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Je(),...tt(),...Ze()},"VTextarea"),ot=Re()({name:"VTextarea",directives:{vIntersect:ue},inheritAttrs:!1,props:nt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,n){let{attrs:y,emit:V,slots:c}=n;const r=Ie(e,"modelValue"),{isFocused:f,focus:u,blur:v}=et(e),{onIntersect:S}=Qe(e),ve=N(()=>typeof e.counterValue=="function"?e.counterValue(r.value):(r.value||"").toString().length),me=N(()=>{if(y.maxlength)return y.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),Q=B(),I=B(),ee=Ae(""),b=B(),U=B(0),{platform:ge}=De(),A=Le(e),xe=N(()=>e.persistentPlaceholder||f.value||e.active);function H(){A.isSuppressing.value&&A.update(),b.value!==document.activeElement&&b.value?.focus(),f.value||u()}function pe(o){H(),V("click:control",o)}function ye(o){V("mousedown:control",o)}function Ve(o){o.stopPropagation(),H(),E(()=>{r.value="",We(e["onClick:clear"],o)})}function he(o){const s=o.target;if(!e.modelModifiers?.trim){r.value=s.value;return}const m=s.value,T=s.selectionStart,h=s.selectionEnd;r.value=m,E(()=>{let k=0;m.trimStart().length===s.value.length&&(k=m.length-s.value.length),T!=null&&(s.selectionStart=T-k),h!=null&&(s.selectionEnd=h-k)})}const _=B(),R=B(Number(e.rows)),O=N(()=>["plain","underlined"].includes(e.variant));Ne(()=>{e.autoGrow||(R.value=Number(e.rows))});function P(){E(()=>{if(!b.value)return;if(ge.value.firefox){U.value=12;return}const{offsetWidth:o,clientWidth:s}=b.value;U.value=Math.max(0,o-s)}),e.autoGrow&&E(()=>{if(!_.value||!I.value)return;const o=getComputedStyle(_.value),s=getComputedStyle(I.value.$el),m=parseFloat(o.getPropertyValue("--v-field-padding-top"))+parseFloat(o.getPropertyValue("--v-input-padding-top"))+parseFloat(o.getPropertyValue("--v-field-padding-bottom")),T=_.value.scrollHeight,h=parseFloat(o.lineHeight),k=Math.max(parseFloat(e.rows)*h+m,parseFloat(s.getPropertyValue("--v-input-control-height"))),G=parseFloat(e.maxRows)*h+m||1/0,g=$e(T??0,k,G);R.value=Math.floor((g-m)/h),ee.value=ie(g)})}Ee(P),F(r,P),F(()=>e.rows,P),F(()=>e.maxRows,P),F(()=>e.density,P),F(R,o=>{V("update:rows",o)});let D;return F(_,o=>{o?(D=new ResizeObserver(P),D.observe(_.value)):D?.disconnect()}),ze(()=>{D?.disconnect()}),Me(()=>{const o=!!(c.counter||e.counter||e.counterValue),s=!!(o||c.details),[m,T]=Ue(y),{modelValue:h,...k}=ce.filterProps(e),G={...de.filterProps(e),"onClick:clear":Ve};return t(ce,W({ref:Q,modelValue:r.value,"onUpdate:modelValue":g=>r.value=g,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":O.value},e.class],style:[{"--v-textarea-scroll-bar-width":ie(U.value)},e.style]},m,k,{centerAffix:R.value===1&&!O.value,focused:f.value}),{...c,default:g=>{let{id:ke,isDisabled:te,isDirty:ae,isReadonly:we,isValid:Ce,hasDetails:be}=g;return t(de,W({ref:I,style:{"--v-textarea-control-height":ee.value},onClick:pe,onMousedown:ye,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},G,{id:ke.value,active:xe.value||ae.value,centerAffix:R.value===1&&!O.value,dirty:ae.value||e.dirty,disabled:te.value,focused:f.value,details:be.value,error:Ce.value===!1}),{...c,default:_e=>{let{props:{class:le,...ne},controlRef:Pe}=_e;return l(p,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[e.prefix]),se(l("textarea",W({ref:$=>b.value=Pe.value=$,class:le,value:r.value,onInput:he,autofocus:e.autofocus,readonly:we.value,disabled:te.value,placeholder:e.placeholder,rows:e.rows,name:A.fieldName.value,autocomplete:A.fieldAutocomplete.value,onFocus:H,onBlur:v},ne,T),null),[[ue,{handler:S},null,{once:!0}]]),e.autoGrow&&se(l("textarea",{class:Oe([le,"v-textarea__sizer"]),id:`${ne.id}-sizer`,"onUpdate:modelValue":$=>r.value=$,ref:_,readonly:!0,"aria-hidden":"true"},null),[[He,r.value]]),e.suffix&&l("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:s?g=>l(p,null,[c.details?.(g),o&&l(p,null,[l("span",null,null),t(Ye,{active:e.persistentCounter||f.value,value:ve.value,max:me.value,disabled:e.disabled},c.counter)])]):void 0})}),Ge({},Q,I,b)}}),ut={key:0};function st(e,n,y,V,c,r){const f=at;return i(),C(z,{class:"overflow-auto mx-auto","max-height":"100%","max-width":"100%",elevation:"0",color:"transparent","min-height":"100%"},{default:a(()=>[t(Xe,{class:"mx-3 my-2 mb-0 pb-0"},{default:a(()=>[t(re,{cols:"12",md:"8",xl:"10"},{default:a(()=>[t(z,{class:"sticky pa-0",color:"transparent",elevation:"0"},{default:a(()=>[t(j,{flat:"",density:"compact"},{default:a(()=>[t(X,{class:"d-flex align-center"},{default:a(()=>[...n[1]||(n[1]=[d(" Bot Configuration ",-1)])]),_:1}),t(fe,{"prepend-icon":"mdi-content-save",color:"grey-darken-3",variant:"flat",elevation:"0",onClick:r.saveConfig},{default:a(()=>[...n[2]||(n[2]=[d(" Save Config ",-1)])]),_:1},8,["onClick"])]),_:1}),t(q,{class:"pa-0"},{default:a(()=>[t(ot,{class:"my-0",style:{"min-height":"calc(100vh - 110px)"},modelValue:c.backendConfigText,"onUpdate:modelValue":n[0]||(n[0]=u=>c.backendConfigText=u),variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(re,null,{default:a(()=>[t(z,{color:"transparent",elevation:"0"},{default:a(()=>[t(j,{flat:"",density:"compact"},{default:a(()=>[t(X,{class:"d-flex align-center"},{default:a(()=>[...n[3]||(n[3]=[d(" OBS Scenes ",-1)])]),_:1})]),_:1}),t(q,{class:"pa-0"},{default:a(()=>[e.getScene?.background?(i(),w("div",ut,[t(K,{color:"grey-darken-4"},{default:a(()=>[(i(!0),w(p,null,M(e.getObsSceneData,u=>(i(),C(L,{key:u.uuid||u.index},{default:a(()=>[t(Y,null,{default:a(()=>[d(x(u.name),1)]),_:2},1024),t(Z,{class:"pa-0"},{default:a(()=>[t(J,null,{default:a(()=>[l("tbody",null,[l("tr",null,[n[4]||(n[4]=l("td",null,"UUID",-1)),l("td",null,[d(x(u.uuid)+" ",1),t(f,{content:u.uuid},null,8,["content"])])]),l("tr",null,[n[5]||(n[5]=l("td",null,"Index",-1)),l("td",null,[d(x(u.index)+" ",1),t(f,{content:u.index},null,8,["content"])])])])]),_:2},1024),u.items===0?(i(),w(p,{key:0},[],64)):(i(),C(K,{key:1,multiple:"",class:"mt-2"},{default:a(()=>[(i(!0),w(p,null,M(u.items,v=>(i(),C(L,{color:"grey-darken-3",key:v.uuid||v.id},{default:a(()=>[t(Y,null,{default:a(()=>[d(x(v.name),1)]),_:2},1024),t(Z,{class:"pa-0"},{default:a(()=>[t(J,{class:"wrap-anywhere"},{default:a(()=>[l("tbody",null,[l("tr",null,[n[6]||(n[6]=l("td",null,"UUID",-1)),l("td",null,[d(x(v.uuid)+" ",1),t(f,{content:v.uuid},null,8,["content"])])]),l("tr",null,[n[7]||(n[7]=l("td",null,"ID",-1)),l("td",null,[d(x(v.id)+" ",1),t(f,{content:v.id},null,8,["content"])])])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(i(),C(qe,{key:1,"aspect-ratio":"16/9",cover:"",src:c.noObs},null,8,["src"]))]),_:1})]),_:1}),t(z,{class:"mt-3",color:"transparent",elevation:"0"},{default:a(()=>[t(j,{flat:"",density:"compact"},{default:a(()=>[t(X,{class:"d-flex align-center"},{default:a(()=>[...n[8]||(n[8]=[d(" Available Voices ",-1)])]),_:1})]),_:1}),t(q,{class:"pa-0"},{default:a(()=>[t(K,{color:"grey-darken-4"},{default:a(()=>[(i(!0),w(p,null,M(e.getVoices,(u,v)=>(i(),C(L,null,{default:a(()=>[t(Y,null,{default:a(()=>[d(x(v),1)]),_:2},1024),t(Z,{class:"pa-0"},{default:a(()=>[t(J,{class:"wrap-anywhere"},{default:a(()=>[l("tbody",null,[(i(!0),w(p,null,M(u,S=>(i(),w("tr",null,[l("td",null,[d(x(S)+" ",1),t(f,{content:S},null,8,["content"])])]))),256))])]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const mt=je(lt,[["render",st]]);export{mt as default};
