import{j as Qe,k as U,o as S,V as Be,w as p,f as t,l as O,t as z,q as _e,s as Xe,i as s,v as ge,x as yt,y as kt,z as H,A as fe,B as L,C as bt,D as Vt,E as pe,F as Je,G as Ye,g as me,p as le,H as ye,I as $,e as ke,J as Ze,K as _,L as de,M as et,N as tt,m as lt,O as wt,b as Se,P as Ce,Q as at,R as Ct,S as St,T as Le,U as Ee,W as xt,X as It,Y as Pt,Z as At,_ as Tt,$ as $e,a0 as Bt,a1 as N,a2 as ne,a3 as _t,a4 as Ge,a5 as Dt,a6 as Rt,a7 as he,a8 as Mt,a9 as W,aa as De,ab as Et,ac as Lt,ad as $t,ae as Gt,af as Ft,ag as Ot,ah as zt,ai as Fe,aj as nt,ak as Nt,al as ae,am as Oe,an as ve,ao as Ut,ap as ot,aq as Ie,ar as Ht,as as st,at as it,au as Kt,u as qt,av as jt,aw as Wt,ax as Qt,ay as we,n as Xt,h as Jt,a as Yt,az as Zt,aA as ze,aB as el,aC as tl,aD as ll,aE as al,aF as Ne,aG as nl,aH as ol,aI as sl,aJ as il,aK as ul,aL as rl,aM as cl,aN as Ue,aO as He,aP as dl,aQ as ut,aR as Pe,aS as Re,aT as vl,aU as Ae,aV as rt}from"./index-HKGCl0_C.js";import{V as ml,a as Ke,m as fl}from"./VSwitch-E9U553UR.js";import{V as ct,a as dt,b as vt}from"./VExpansionPanels-DHO2Kf7R.js";import{V as mt}from"./VTable-DbuK1JdK.js";import{V as Me,m as pl}from"./VTextField-BHG0TdRd.js";import{u as hl}from"./autofocus-lhaKCvWO.js";import{u as gl}from"./VLabel-Cq9JlMrZ.js";import{m as yl,V as qe,a as kl}from"./VSlideGroup-I0MnTyPu.js";import{V as je}from"./VAlert-4Vq8DitR.js";const bl={class:"d-flex ga-1 mr-3"},Vl=Qe({__name:"AutoMacro",props:{autoMacro:{}},setup(e){function i(n){n.enabled=!n.enabled,ge.$emit("websocket:send",{method:"toggle_auto_macro",params:{name:n.name,enable:n.enabled}})}return(n,a)=>(S(),U(Be,{flat:"",density:"compact",rounded:"",class:"mb-2"},{append:p(()=>[s("div",bl,[t(ml,{"hide-details":"",density:"compact","model-value":e.autoMacro.enabled,onClick:a[0]||(a[0]=l=>i(e.autoMacro))},null,8,["model-value"])])]),default:p(()=>[t(_e,{class:"d-flex align-center",style:{"font-size":"1rem"}},{default:p(()=>[O(z(e.autoMacro.name),1)]),_:1}),t(Xe,{active:e.autoMacro.enabled,"model-value":100/e.autoMacro.interval*e.autoMacro.current_interval,location:"bottom",absolute:"",rounded:"",color:"grey-darken-1"},null,8,["active","model-value"])]),_:1}))}}),wl={key:0},Cl={key:1},Sl={key:2},xl={key:3},Il={key:4},Pl=Qe({__name:"ActiveAlert",props:{alert:{}},setup(e){function i(n){ge.$emit("websocket:send",{method:"remove_event",params:{"event-uuid":n}})}return(n,a)=>(S(),U(ct,{color:e.alert.active?"green-darken-2":"grey-darken-3",title:"Alert: "+e.alert["event-uuid"]+" - "+yt(kt)(e.alert.duration)},{default:p(()=>[t(dt,{class:"pa-0"},{default:p(()=>[t(mt,null,{default:p(()=>[a[7]||(a[7]=s("thead",null,[s("tr",null,[s("th",{class:"text-left",style:{width:"220px"}}," Name "),s("th",{class:"text-left"}," Value ")])],-1)),s("tbody",null,[s("tr",null,[s("td",null,[t(L,{icon:"mdi-broadcast"}),a[1]||(a[1]=O(" Channel",-1))]),s("td",null,z(e.alert.channel),1)]),e.alert.icon?(S(),H("tr",wl,[s("td",null,[t(L,{icon:"mdi-circle-slice-1"}),a[2]||(a[2]=O(" Icon",-1))]),s("td",null,z(e.alert.icon),1)])):fe("",!0),e.alert.message?(S(),H("tr",Cl,[s("td",null,[t(L,{icon:"mdi-message"}),a[3]||(a[3]=O(" Message",-1))]),s("td",null,z(e.alert.message),1)])):fe("",!0),e.alert.sound?(S(),H("tr",Sl,[s("td",null,[t(L,{icon:"mdi-volume-low"}),a[4]||(a[4]=O(" Sound",-1))]),s("td",null,z(e.alert.sound),1)])):fe("",!0),e.alert.video?(S(),H("tr",xl,[s("td",null,[t(L,{icon:"mdi-video"}),a[5]||(a[5]=O(" Video",-1))]),s("td",null,z(e.alert.video),1)])):fe("",!0),e.alert.lamp_color?(S(),H("tr",Il,[s("td",null,[t(L,{icon:"mdi-lamp"}),a[6]||(a[6]=O(" Lamp Color",-1))]),s("td",null,z(e.alert.lamp_color),1)])):fe("",!0)])]),_:1}),t(bt,null,{default:p(()=>[t(Vt),t(pe,{variant:"text",color:e.alert.active?"error":"",onClick:a[0]||(a[0]=l=>i(e.alert["event-uuid"]))},{default:p(()=>[t(L,{icon:"mdi-trash-can"})]),_:1},8,["color"])]),_:1})]),_:1})]),_:1},8,["color","title"]))}}),Al={data(){return{giveawayTemplate:{content:"",interval:null},times:[{title:"1 min",value:1},{title:"5 min",value:5},{title:"10 min",value:10},{title:"15 min",value:15},{title:"30 min",value:30},{title:"1h",value:60}]}},computed:{...Je(Ye,["getGiveaway"])},methods:{sendGiveaway(){ge.$emit("websocket:send",{method:"start_giveaway",params:{content:this.giveawayTemplate.content,duration:this.giveawayTemplate.interval}})},stopGiveaway(){ge.$emit("websocket:send",{method:"stop_giveaway",params:{}})},deleteUser(e){ge.$emit("websocket:send",{method:"remove_giveaway_user",params:{user:e}})}}},Tl=le({indeterminate:Boolean,indeterminateIcon:{type:de,default:"$checkboxIndeterminate"},...fl({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Bl=me()({name:"VCheckboxBtn",props:Tl(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,i){let{slots:n}=i;const a=ye(e,"indeterminate"),l=ye(e,"modelValue");function c(d){a.value&&(a.value=!1)}const r=$(()=>a.value?e.indeterminateIcon:e.falseIcon),u=$(()=>a.value?e.indeterminateIcon:e.trueIcon);return ke(()=>{const d=Ze(Ke.filterProps(e),["modelValue"]);return t(Ke,_(d,{modelValue:l.value,"onUpdate:modelValue":[g=>l.value=g,c],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:r.value,trueIcon:u.value,"aria-checked":a.value?"mixed":void 0}),n)}),{}}}),ft=Symbol.for("vuetify:v-chip-group"),_l=le({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Ce},...yl({scrollToActive:!1}),...Se(),...wt({selectedClass:"v-chip--selected"}),...lt(),...tt(),...et({variant:"tonal"})},"VChipGroup");me()({name:"VChipGroup",props:_l(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:n}=i;const{themeClasses:a}=at(e),{isSelected:l,select:c,next:r,prev:u,selected:d}=Ct(e,ft);return St({VChip:{baseColor:$(()=>e.baseColor),color:$(()=>e.color),disabled:$(()=>e.disabled),filter:$(()=>e.filter),variant:$(()=>e.variant)}}),ke(()=>{const g=qe.filterProps(e);return t(qe,_(g,{class:["v-chip-group",{"v-chip-group--column":e.column},a.value,e.class],style:e.style}),{default:()=>[n.default?.({isSelected:l,select:c,next:r,prev:u,selected:d.value})]})}),{}}});const Dl=le({activeClass:String,appendAvatar:String,appendIcon:de,baseColor:String,closable:Boolean,closeIcon:{type:de,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:de,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:de,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:Fe(),onClickOnce:Fe(),...zt(),...Se(),...Ot(),...Ft(),...Gt(),...$t(),...Lt(),...Et(),...lt({tag:"span"}),...tt(),...et({variant:"tonal"})},"VChip"),We=me()({name:"VChip",directives:{vRipple:Le},props:Dl(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,i){let{attrs:n,emit:a,slots:l}=i;const{t:c}=Ee(),{borderClasses:r}=xt(e),{densityClasses:u}=It(e),{elevationClasses:d}=Pt(e),{roundedClasses:g}=At(e),{sizeClasses:v}=Tt(e),{themeClasses:D}=at(e),G=ye(e,"modelValue"),b=$e(e,ft,!1),Q=$e(e,kl,!1),y=Bt(e,n),V=$(()=>e.link!==!1&&y.isLink.value),w=N(()=>!e.disabled&&e.link!==!1&&(!!b||e.link||y.isClickable.value)),X=$(()=>({"aria-label":c(e.closeLabel),disabled:e.disabled,onClick(I){I.preventDefault(),I.stopPropagation(),G.value=!1,a("click:close",I)}}));ne(G,I=>{I?(b?.register(),Q?.register()):(b?.unregister(),Q?.unregister())});const{colorClasses:K,colorStyles:q,variantClasses:oe}=_t(()=>({color:!b||b.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function x(I){a("click",I),w.value&&(y.navigate?.(I),b?.toggle())}function F(I){(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),x(I))}return()=>{const I=y.isLink.value?"a":e.tag,J=!!(e.appendIcon||e.appendAvatar),j=!!(J||l.append),se=!!(l.close||e.closable),R=!!(l.filter||e.filter)&&b,re=!!(e.prependIcon||e.prependAvatar),ce=!!(re||l.prepend);return G.value&&Ge(t(I,_(y.linkProps,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":w.value,"v-chip--filter":R,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&y.isActive?.value},D.value,r.value,K.value,u.value,d.value,g.value,v.value,oe.value,b?.selectedClass.value,e.class],style:[q.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:w.value?0:void 0,onClick:x,onKeydown:w.value&&!V.value&&F}),{default:()=>[Dt(w.value,"v-chip"),R&&t(Rt,{key:"filter"},{default:()=>[Ge(s("div",{class:"v-chip__filter"},[l.filter?t(he,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},l.filter):t(L,{key:"filter-icon",icon:e.filterIcon},null)]),[[Mt,b.isSelected.value]])]}),ce&&s("div",{key:"prepend",class:"v-chip__prepend"},[l.prepend?t(he,{key:"prepend-defaults",disabled:!re,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},l.prepend):s(W,null,[e.prependIcon&&t(L,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&t(De,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),s("div",{class:"v-chip__content","data-no-activator":""},[l.default?.({isSelected:b?.isSelected.value,selectedClass:b?.selectedClass.value,select:b?.select,toggle:b?.toggle,value:b?.value.value,disabled:e.disabled})??z(e.text)]),j&&s("div",{key:"append",class:"v-chip__append"},[l.append?t(he,{key:"append-defaults",disabled:!J,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},l.append):s(W,null,[e.appendIcon&&t(L,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&t(De,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),se&&s("button",_({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},X.value),[l.close?t(he,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},l.close):t(L,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}),[[Le,w.value&&e.ripple,null]])}}}),Rl=le({renderless:Boolean,...Se()},"VVirtualScrollItem"),Ml=me()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Rl(),emits:{"update:height":e=>!0},setup(e,i){let{attrs:n,emit:a,slots:l}=i;const{resizeRef:c,contentRect:r}=nt(void 0,"border");ne(()=>r.value?.height,u=>{u!=null&&a("update:height",u)}),ke(()=>e.renderless?s(W,null,[l.default?.({itemRef:c})]):s("div",_({ref:c,class:["v-virtual-scroll__item",e.class],style:e.style},n),[l.default?.()]))}}),El=-1,Ll=1,Te=100,$l=le({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function Gl(e,i){const n=Nt(),a=ae(0);Oe(()=>{a.value=parseFloat(e.itemHeight||0)});const l=ae(0),c=ae(Math.ceil((parseInt(e.height)||n.height.value)/(a.value||16))||1),r=ae(0),u=ae(0),d=ve(),g=ve();let v=0;const{resizeRef:D,contentRect:G}=nt();Oe(()=>{D.value=d.value});const b=N(()=>d.value===document.documentElement?n.height.value:G.value?.height||parseInt(e.height)||0),Q=N(()=>!!(d.value&&g.value&&b.value&&a.value));let y=Array.from({length:i.value.length}),V=Array.from({length:i.value.length});const w=ae(0);let X=-1;function K(m){return y[m]||a.value}const q=Ut(()=>{const m=performance.now();V[0]=0;const k=i.value.length;for(let A=1;A<=k;A++)V[A]=(V[A-1]||0)+K(A-1);w.value=Math.max(w.value,performance.now()-m)},w),oe=ne(Q,m=>{m&&(oe(),v=g.value.offsetTop,q.immediate(),Y(),~X&&st(()=>{it&&window.requestAnimationFrame(()=>{ie(X),X=-1})}))});ot(()=>{q.clear()});function x(m,k){const A=y[m],M=a.value;a.value=M?Math.min(a.value,k):k,(A!==k||M!==a.value)&&(y[m]=k,q())}function F(m){m=Ie(m,0,i.value.length);const k=Math.floor(m),A=m%1,M=k+1,o=V[k]||0,h=V[M]||o;return o+(h-o)*A}function I(m){return Fl(V,m)}let J=0,j=0,se=0;ne(b,(m,k)=>{k&&(Y(),m<k&&requestAnimationFrame(()=>{j=0,Y()}))});let R=-1;function re(){if(!d.value||!g.value)return;const m=d.value.scrollTop,k=performance.now();k-se>500?(j=Math.sign(m-J),v=g.value.offsetTop):j=m-J,J=m,se=k,window.clearTimeout(R),R=window.setTimeout(ce,500),Y()}function ce(){!d.value||!g.value||(j=0,se=0,window.clearTimeout(R),Y())}let be=-1;function Y(){cancelAnimationFrame(be),be=requestAnimationFrame(Ve)}function Ve(){if(!d.value||!b.value||!a.value)return;const m=J-v,k=Math.sign(j),A=Math.max(0,m-Te),M=Ie(I(A),0,i.value.length),o=m+b.value+Te,h=Ie(I(o)+1,M+1,i.value.length);if((k!==El||M<l.value)&&(k!==Ll||h>c.value)){const T=F(l.value)-F(M),Z=F(h)-F(c.value);Math.max(T,Z)>Te?(l.value=M,c.value=h):(M<=0&&(l.value=M),h>=i.value.length&&(c.value=h))}r.value=F(l.value),u.value=F(i.value.length)-F(c.value)}function ie(m){const k=F(m);!d.value||m&&!k?X=m:d.value.scrollTop=k}const xe=N(()=>i.value.slice(l.value,c.value).map((m,k)=>{const A=k+l.value;return{raw:m,index:A,key:Ht(m,e.itemKey,A)}}));return ne(i,()=>{y=Array.from({length:i.value.length}),V=Array.from({length:i.value.length}),q.immediate(),Y()},{deep:1}),{calculateVisibleItems:Y,containerRef:d,markerRef:g,computedItems:xe,paddingTop:r,paddingBottom:u,scrollToIndex:ie,handleScroll:re,handleScrollend:ce,handleItemResize:x}}function Fl(e,i){let n=e.length-1,a=0,l=0,c=null,r=-1;if(e[n]<i)return n;for(;a<=n;)if(l=a+n>>1,c=e[l],c>i)n=l-1;else if(c<i)r=l,a=l+1;else return c===i?l:a;return r}const Ol=le({items:{type:Array,default:()=>[]},renderless:Boolean,...$l(),...Se(),...Yt()},"VVirtualScroll"),zl=me()({name:"VVirtualScroll",props:Ol(),setup(e,i){let{slots:n}=i;const a=Kt("VVirtualScroll"),{dimensionStyles:l}=qt(e),{calculateVisibleItems:c,containerRef:r,markerRef:u,handleScroll:d,handleScrollend:g,handleItemResize:v,scrollToIndex:D,paddingTop:G,paddingBottom:b,computedItems:Q}=Gl(e,$(()=>e.items));return jt(()=>e.renderless,()=>{function y(){const w=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";r.value===document.documentElement?(document[w]("scroll",d,{passive:!0}),document[w]("scrollend",g)):(r.value?.[w]("scroll",d,{passive:!0}),r.value?.[w]("scrollend",g))}Wt(()=>{r.value=Qt(a.vnode.el,!0),y(!0)}),ot(y)}),ke(()=>{const y=Q.value.map(V=>t(Ml,{key:V.key,renderless:e.renderless,"onUpdate:height":w=>v(V.index,w)},{default:w=>n.default?.({item:V.raw,index:V.index,...w})}));return e.renderless?s(W,null,[s("div",{ref:u,class:"v-virtual-scroll__spacer",style:{paddingTop:we(G.value)}},null),y,s("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:we(b.value)}},null)]):s("div",{ref:r,class:Jt(["v-virtual-scroll",e.class]),onScrollPassive:d,onScrollend:g,style:Xt([l.value,e.style])},[s("div",{ref:u,class:"v-virtual-scroll__container",style:{paddingTop:we(G.value),paddingBottom:we(b.value)}},[y])])}),{calculateVisibleItems:c,scrollToIndex:D}}});function Nl(e,i){const n=ae(!1);let a;function l(u){cancelAnimationFrame(a),n.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{n.value=!1})})}async function c(){await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>{if(n.value){const d=ne(n,()=>{d(),u()})}else u()})}async function r(u){if(u.key==="Tab"&&i.value?.focus(),!["PageDown","PageUp","Home","End"].includes(u.key))return;const d=e.value?.$el;if(!d)return;(u.key==="Home"||u.key==="End")&&d.scrollTo({top:u.key==="Home"?0:d.scrollHeight,behavior:"smooth"}),await c();const g=d.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(u.key==="PageDown"||u.key==="Home"){const v=d.getBoundingClientRect().top;for(const D of g)if(D.getBoundingClientRect().top>=v){D.focus();break}}else{const v=d.getBoundingClientRect().bottom;for(const D of[...g].reverse())if(D.getBoundingClientRect().bottom<=v){D.focus();break}}}return{onScrollPassive:l,onKeydown:r}}const Ul=le({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function Hl(e,i){const{t:n}=Ee(),a=Zt(),l=N(()=>`menu-${a}`),c=$(()=>ze(i)),r=$(()=>l.value),u=$(()=>n(ze(i)?e.closeText:e.openText));return{menuId:l,ariaExpanded:c,ariaControls:r,ariaLabel:u}}const Kl=le({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:de,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...Ul(),...dl({itemChildren:!1})},"Select"),ql=le({...Kl(),...Ze(pl({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...rl({transition:{component:cl}})},"VSelect"),jl=me()({name:"VSelect",props:ql(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,i){let{slots:n}=i;const{t:a}=Ee(),l=ve(),c=ve(),r=ve(),{items:u,transformIn:d,transformOut:g}=el(e),v=ye(e,"modelValue",[],o=>d(o===null?[null]:tl(o)),o=>{const h=g(o);return e.multiple?h:h[0]??null}),D=N(()=>typeof e.counterValue=="function"?e.counterValue(v.value):typeof e.counterValue=="number"?e.counterValue:v.value.length),G=gl(e),b=hl(e),Q=N(()=>v.value.map(o=>o.value)),y=ae(!1);let V="",w=-1,X;const K=N(()=>e.hideSelected?u.value.filter(o=>!v.value.some(h=>(e.valueComparator||Ce)(h,o))):u.value),q=N(()=>e.hideNoData&&!K.value.length||G.isReadonly.value||G.isDisabled.value),oe=ye(e,"menu"),x=N({get:()=>oe.value,set:o=>{oe.value&&!o&&c.value?.Î¨openChildren.size||o&&q.value||(oe.value=o)}}),{menuId:F,ariaExpanded:I,ariaControls:J,ariaLabel:j}=Hl(e,x),se=N(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),R=ve(),re=Nl(R,l);function ce(o){e.openOnClear&&(x.value=!0)}function be(){q.value||(x.value=!x.value)}function Y(o){Ue(o)&&Ve(o)}function Ve(o){if(!o.key||G.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(o.key)&&o.preventDefault(),["Enter","ArrowDown"," "].includes(o.key)&&(x.value=!0),["Escape","Tab"].includes(o.key)&&(x.value=!1),o.key==="Home"?R.value?.focus("first"):o.key==="End"&&R.value?.focus("last");const h=1e3;if(!Ue(o))return;const T=performance.now();T-X>h&&(V="",w=-1),V+=o.key.toLowerCase(),X=T;const Z=K.value;function ee(){let P=f();return P||V.at(-1)===V.at(-2)&&(V=V.slice(0,-1),P=f(),P)||(w=-1,P=f(),P)?P:(V=o.key.toLowerCase(),f())}function f(){for(let P=w+1;P<Z.length;P++){const te=Z[P];if(te.title.toLowerCase().startsWith(V))return[te,P]}}const C=ee();if(!C)return;const[B,ue]=C;w=ue,R.value?.focus(ue),e.multiple||(v.value=[B])}function ie(o){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!o.props.disabled)if(e.multiple){const T=v.value.findIndex(ee=>(e.valueComparator||Ce)(ee.value,o.value)),Z=h??!~T;if(~T){const ee=Z?[...v.value,o]:[...v.value];ee.splice(T,1),v.value=ee}else Z&&(v.value=[...v.value,o])}else{const T=h!==!1;v.value=T?[o]:[],st(()=>{x.value=!1})}}function xe(o){R.value?.$el.contains(o.relatedTarget)||(x.value=!1)}function m(){e.eager&&r.value?.calculateVisibleItems()}function k(){y.value&&l.value?.focus()}function A(o){y.value=!0}function M(o){if(o==null)v.value=[];else if(He(l.value,":autofill")||He(l.value,":-webkit-autofill")){const h=u.value.find(T=>T.title===o);h&&ie(h)}else l.value&&(l.value.value="")}return ne(x,()=>{if(!e.hideSelected&&x.value&&v.value.length){const o=K.value.findIndex(h=>v.value.some(T=>(e.valueComparator||Ce)(T.value,h.value)));it&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{o>=0&&r.value?.scrollToIndex(o)})}}),ne(u,(o,h)=>{x.value||y.value&&e.hideNoData&&!h.length&&o.length&&(x.value=!0)}),ke(()=>{const o=!!(e.chips||n.chip),h=!!(!e.hideNoData||K.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),T=v.value.length>0,Z=Me.filterProps(e),ee=T||!y.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return t(Me,_({ref:l},Z,{modelValue:v.value.map(f=>f.props.title).join(", "),name:void 0,"onUpdate:modelValue":M,focused:y.value,"onUpdate:focused":f=>y.value=f,validationValue:v.externalValue,counterValue:D.value,dirty:T,class:["v-select",{"v-select--active-menu":x.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":v.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:ee,"onClick:clear":ce,"onMousedown:control":be,onBlur:xe,onKeydown:Ve,"aria-expanded":I.value,"aria-controls":J.value,"aria-label":j.value,title:j.value}),{...n,default:()=>s(W,null,[s("select",{hidden:!0,multiple:e.multiple,name:b.fieldName.value},[u.value.map(f=>s("option",{key:f.value,value:f.value,selected:Q.value.includes(f.value)},null))]),t(ll,_({id:F.value,ref:c,modelValue:x.value,"onUpdate:modelValue":f=>x.value=f,activator:"parent",contentClass:"v-select__content",disabled:q.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:m,onAfterLeave:k},se.value),{default:()=>[h&&t(al,_({ref:R,selected:Q.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:f=>f.preventDefault(),onKeydown:Y,onFocusin:A,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},re,e.listProps),{default:()=>[n["prepend-item"]?.(),!K.value.length&&!e.hideNoData&&(n["no-data"]?.()??t(Ne,{key:"no-data",title:a(e.noDataText)},null)),t(zl,{ref:r,renderless:!0,items:K.value,itemKey:"value"},{default:f=>{let{item:C,index:B,itemRef:ue}=f;const P=nl(C.props),te=_(C.props,{ref:ue,key:C.value,onClick:()=>ie(C,null)});return C.type==="divider"?n.divider?.({props:C.raw,index:B})??t(ol,_(C.props,{key:`divider-${B}`}),null):C.type==="subheader"?n.subheader?.({props:C.raw,index:B})??t(sl,_(C.props,{key:`subheader-${B}`}),null):n.item?.({item:C,index:B,props:te})??t(Ne,_(te,{role:"option"}),{prepend:E=>{let{isSelected:ht}=E;return s(W,null,[e.multiple&&!e.hideSelected?t(Bl,{key:C.value,modelValue:ht,ripple:!1,tabindex:"-1",onClick:gt=>gt.preventDefault()},null):void 0,P.prependAvatar&&t(De,{image:P.prependAvatar},null),P.prependIcon&&t(L,{icon:P.prependIcon},null)])}})}}),n["append-item"]?.()]})]}),v.value.map((f,C)=>{function B(E){E.stopPropagation(),E.preventDefault(),ie(f,!1)}const ue=_(We.filterProps(f.props),{"onClick:close":B,onKeydown(E){E.key!=="Enter"&&E.key!==" "||(E.preventDefault(),E.stopPropagation(),B(E))},onMousedown(E){E.preventDefault(),E.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0}),P=o?!!n.chip:!!n.selection,te=P?il(o?n.chip({item:f,index:C,props:ue}):n.selection({item:f,index:C})):void 0;if(!(P&&!te))return s("div",{key:f.value,class:"v-select__selection"},[o?n.chip?t(he,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:f.title}}},{default:()=>[te]}):t(We,_({key:"chip",closable:e.closableChips,size:"small",text:f.title,disabled:f.props.disabled},ue),null):te??s("span",{class:"v-select__selection-text"},[f.title,e.multiple&&C<v.value.length-1&&s("span",{class:"v-select__selection-comma"},[O(",")])])])})]),"append-inner":function(){for(var f=arguments.length,C=new Array(f),B=0;B<f;B++)C[B]=arguments[B];return s(W,null,[n["append-inner"]?.(...C),e.menuIcon?t(L,{class:"v-select__menu-icon",color:l.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),ul({isFocused:y,menu:x,select:ie},l)}}),Wl={class:"d-flex ga-1"},Ql={class:"d-flex ga-1"};function Xl(e,i,n,a,l,c){return S(),U(rt,{color:"grey-darken-3",rounded:"3",subtitle:"Giveaway"},{default:p(()=>[e.getGiveaway.winner?(S(),U(Pe,{key:0},{default:p(()=>[t(Be,{flat:"",density:"compact",rounded:"",class:"mb-2",color:"green-darken-2"},{append:p(()=>[s("div",Wl,[t(pe,{icon:"mdi-broom",onClick:c.stopGiveaway},null,8,["onClick"])])]),default:p(()=>[t(_e,{class:"d-flex align-center",style:{"font-size":"1rem"}},{default:p(()=>[O(" gewinner: "+z(e.getGiveaway.winner.name),1)]),_:1})]),_:1})]),_:1})):e.getGiveaway.active?(S(),U(Pe,{key:1},{default:p(()=>[t(Be,{flat:"",density:"compact",rounded:"",class:"mb-2",color:"teal-darken-3"},{append:p(()=>[s("div",Ql,[t(pe,{icon:"mdi-stop-circle",onClick:c.stopGiveaway},null,8,["onClick"])])]),default:p(()=>[t(_e,{class:"d-flex align-center",style:{"font-size":"1rem"}},{default:p(()=>[O(" aktiv: "+z(e.getGiveaway.content),1)]),_:1}),t(Xe,{"model-value":100/e.getGiveaway.interval*e.getGiveaway.currentInterval,location:"bottom",absolute:"",rounded:"",color:"teal-lighten-1"},null,8,["model-value"])]),_:1}),t(vt,null,{default:p(()=>[t(ct,{title:e.getGiveaway.users.length+" Teilnehmer",color:"grey-darken-2"},{default:p(()=>[t(dt,{class:"pa-0"},{default:p(()=>[t(mt,null,{default:p(()=>[i[2]||(i[2]=s("thead",null,[s("tr",null,[s("th",{class:"text-left"}," Name "),s("th",{class:"text-left",style:{width:"50px"}})])],-1)),s("tbody",null,[(S(!0),H(W,null,Re(e.getGiveaway.users,r=>(S(),H("tr",null,[s("td",null,z(r.displayName),1),s("td",null,[t(pe,{icon:"mdi-trash-can",color:"red",variant:"text",density:"compact",onClick:u=>c.deleteUser(r.id)},null,8,["onClick"])])]))),256))])]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})]),_:1})):(S(),U(Pe,{key:2},{default:p(()=>[t(vl,null,{default:p(()=>[t(Ae,{cols:"12",md:"8",xl:"10"},{default:p(()=>[t(Me,{class:"mt-1",label:"Was wird verlost?",variant:"outlined",modelValue:l.giveawayTemplate.content,"onUpdate:modelValue":i[0]||(i[0]=r=>l.giveawayTemplate.content=r),density:"compact","hide-details":""},null,8,["modelValue"])]),_:1}),t(Ae,{cols:"9",md:"2",xl:"1"},{default:p(()=>[t(jl,{class:"mt-1",label:"Dauer",items:l.times,modelValue:l.giveawayTemplate.interval,"onUpdate:modelValue":i[1]||(i[1]=r=>l.giveawayTemplate.interval=r),variant:"outlined",density:"compact","hide-details":""},null,8,["items","modelValue"])]),_:1}),t(Ae,{cols:"3",md:"2",xl:"1"},{default:p(()=>[t(pe,{onClick:c.sendGiveaway,"prepend-icon":"mdi-send",variant:"tonal",class:"mt-1",width:"100%"},{default:p(()=>[...i[3]||(i[3]=[O("Erstellen",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}))]),_:1})}const pt=ut(Al,[["render",Xl]]),Jl={components:{Giveaway:pt},computed:{...Je(Ye,["getAlerts","getAutoMacros"])},methods:{}},Yl={key:1,class:"mt-5 mx-5"},Zl={key:3,class:"mt-5 mx-5"};function ea(e,i,n,a,l,c){const r=pt,u=Pl,d=Vl;return S(),U(rt,{class:"overflow-auto mx-auto","max-height":"100%","max-width":"100%",elevation:"0",color:"transparent"},{default:p(()=>[t(r,{class:"mt-5 mx-5"}),e.getAlerts.length===0?(S(),U(je,{key:0,class:"mt-5 mx-5",type:"info",color:"gray-darken-3",text:"There are currently no alerts in the Query!"})):(S(),H("div",Yl,[t(vt,null,{default:p(()=>[(S(!0),H(W,null,Re(e.getAlerts,g=>(S(),U(u,{alert:g},null,8,["alert"]))),256))]),_:1})])),e.getAutoMacros.length===0?(S(),U(je,{key:2,class:"mt-5 mx-5",type:"info",color:"gray-darken-3",text:"There are currently no auto macros!"})):(S(),H("div",Zl,[(S(!0),H(W,null,Re(e.getAutoMacros,g=>(S(),U(d,{autoMacro:g},null,8,["autoMacro"]))),256))]))]),_:1})}const ca=ut(Jl,[["render",ea]]);export{ca as default};
