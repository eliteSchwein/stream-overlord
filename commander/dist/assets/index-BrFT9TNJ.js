import{j as et,k as Z,o as B,V as ze,w as b,f as o,l as Y,t as J,q as Ee,s as tt,i as r,v as Ve,x as At,y as Tt,z as ee,A as pe,B as F,C as _t,D as Bt,E as ye,F as lt,G as at,g as me,p as ne,H as we,I as q,e as ge,J as nt,K,L as de,M as ot,m as Oe,N as Rt,b as Ce,O as zt,P as st,Q as it,R as W,S as z,T as Pe,U as Et,W as Ae,X as re,Y as $e,h as ke,n as ut,Z as Dt,_ as rt,$ as ct,a0 as Ie,a1 as dt,a2 as Mt,a3 as Ge,a4 as Le,a5 as Ft,a6 as Ot,a7 as Lt,a8 as $t,a9 as Gt,aa as He,ab as Ht,ac as Nt,ad as Ne,ae as Ut,af as Kt,ag as be,ah as Wt,ai as ae,aj as De,ak as qt,al as jt,am as Qt,an as Xt,ao as Yt,ap as Jt,aq as Zt,ar as Ue,as as Ke,at as he,au as el,av as vt,aw as Te,ax as tl,ay as ft,az as ll,u as al,aA as nl,aB as ol,aC as sl,aD as xe,a as il,aE as ul,aF as We,aG as rl,aH as cl,aI as dl,aJ as vl,aK as qe,aL as fl,aM as ml,aN as hl,aO as gl,aP as pl,aQ as yl,aR as kl,aS as je,aT as Qe,aU as bl,aV as mt,aW as _e,aX as Me,aY as Vl,aZ as Be,a_ as ht}from"./index-DSLZf3Mx.js";import{V as wl,a as Xe,m as Sl}from"./VSwitch-DoL4jTMi.js";import{V as gt,a as pt,b as yt}from"./VExpansionPanels-BeHAVoCs.js";import{V as kt}from"./VTable-BPQom1w4.js";import{V as Fe,m as Cl}from"./VTextField-k3vX8waA.js";import{u as xl}from"./VLabel-Dvy5tF5l.js";import{V as Ye}from"./VAlert-DKi3FleV.js";import"./autofocus-yJNxGqL3.js";const Il={class:"d-flex ga-1 mr-3"},Pl=et({__name:"AutoMacro",props:{autoMacro:{}},setup(e){function s(n){n.enabled=!n.enabled,Ve.$emit("websocket:send",{method:"toggle_auto_macro",params:{name:n.name,enable:n.enabled}})}return(n,l)=>(B(),Z(ze,{flat:"",density:"compact",rounded:"",class:"mb-2"},{append:b(()=>[r("div",Il,[o(wl,{"hide-details":"",density:"compact","model-value":e.autoMacro.enabled,onClick:l[0]||(l[0]=a=>s(e.autoMacro))},null,8,["model-value"])])]),default:b(()=>[o(Ee,{class:"d-flex align-center",style:{"font-size":"1rem"}},{default:b(()=>[Y(J(e.autoMacro.name),1)]),_:1}),o(tt,{active:e.autoMacro.enabled,"model-value":100/e.autoMacro.interval*e.autoMacro.current_interval,location:"bottom",absolute:"",rounded:"",color:"grey-darken-1"},null,8,["active","model-value"])]),_:1}))}}),Al={key:0},Tl={key:1},_l={key:2},Bl={key:3},Rl={key:4},zl=et({__name:"ActiveAlert",props:{alert:{}},setup(e){function s(n){Ve.$emit("websocket:send",{method:"remove_event",params:{"event-uuid":n}})}return(n,l)=>(B(),Z(gt,{color:e.alert.active?"green-darken-2":"grey-darken-3",title:"Alert: "+e.alert["event-uuid"]+" - "+At(Tt)(e.alert.duration)},{default:b(()=>[o(pt,{class:"pa-0"},{default:b(()=>[o(kt,null,{default:b(()=>[l[7]||(l[7]=r("thead",null,[r("tr",null,[r("th",{class:"text-left",style:{width:"220px"}}," Name "),r("th",{class:"text-left"}," Value ")])],-1)),r("tbody",null,[r("tr",null,[r("td",null,[o(F,{icon:"mdi-broadcast"}),l[1]||(l[1]=Y(" Channel",-1))]),r("td",null,J(e.alert.channel),1)]),e.alert.icon?(B(),ee("tr",Al,[r("td",null,[o(F,{icon:"mdi-circle-slice-1"}),l[2]||(l[2]=Y(" Icon",-1))]),r("td",null,J(e.alert.icon),1)])):pe("",!0),e.alert.message?(B(),ee("tr",Tl,[r("td",null,[o(F,{icon:"mdi-message"}),l[3]||(l[3]=Y(" Message",-1))]),r("td",null,J(e.alert.message),1)])):pe("",!0),e.alert.sound?(B(),ee("tr",_l,[r("td",null,[o(F,{icon:"mdi-volume-low"}),l[4]||(l[4]=Y(" Sound",-1))]),r("td",null,J(e.alert.sound),1)])):pe("",!0),e.alert.video?(B(),ee("tr",Bl,[r("td",null,[o(F,{icon:"mdi-video"}),l[5]||(l[5]=Y(" Video",-1))]),r("td",null,J(e.alert.video),1)])):pe("",!0),e.alert.lamp_color?(B(),ee("tr",Rl,[r("td",null,[o(F,{icon:"mdi-lamp"}),l[6]||(l[6]=Y(" Lamp Color",-1))]),r("td",null,J(e.alert.lamp_color),1)])):pe("",!0)])]),_:1}),o(_t,null,{default:b(()=>[o(Bt),o(ye,{variant:"text",color:e.alert.active?"error":"",onClick:l[0]||(l[0]=a=>s(e.alert["event-uuid"]))},{default:b(()=>[o(F,{icon:"mdi-trash-can"})]),_:1},8,["color"])]),_:1})]),_:1})]),_:1},8,["color","title"]))}}),El={data(){return{giveawayTemplate:{content:"",interval:null},times:[{title:"1 min",value:1},{title:"5 min",value:5},{title:"10 min",value:10},{title:"15 min",value:15},{title:"30 min",value:30},{title:"1h",value:60}]}},computed:{...lt(at,["getGiveaway"])},methods:{sendGiveaway(){Ve.$emit("websocket:send",{method:"start_giveaway",params:{content:this.giveawayTemplate.content,duration:this.giveawayTemplate.interval}})},stopGiveaway(){Ve.$emit("websocket:send",{method:"stop_giveaway",params:{}})},deleteUser(e){Ve.$emit("websocket:send",{method:"remove_giveaway_user",params:{user:e}})}}},Dl=ne({indeterminate:Boolean,indeterminateIcon:{type:de,default:"$checkboxIndeterminate"},...Sl({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Ml=me()({name:"VCheckboxBtn",props:Dl(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,s){let{slots:n}=s;const l=we(e,"indeterminate"),a=we(e,"modelValue");function v(f){l.value&&(l.value=!1)}const u=q(()=>l.value?e.indeterminateIcon:e.falseIcon),c=q(()=>l.value?e.indeterminateIcon:e.trueIcon);return ge(()=>{const f=nt(Xe.filterProps(e),["modelValue"]);return o(Xe,K(f,{modelValue:a.value,"onUpdate:modelValue":[g=>a.value=g,v],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:u.value,trueIcon:c.value,"aria-checked":l.value?"mixed":void 0}),n)}),{}}});function Fl(e){let{selectedElement:s,containerElement:n,isRtl:l,isHorizontal:a}=e;const v=Se(a,n),u=bt(a,l,n),c=Se(a,s),f=Vt(a,s),g=c*.4;return u>f?f-g:u+v<f+c?f-v+c+g:u}function Ol(e){let{selectedElement:s,containerElement:n,isHorizontal:l}=e;const a=Se(l,n),v=Vt(l,s),u=Se(l,s);return v-a/2+u/2}function Je(e,s){return s?.[e?"scrollWidth":"scrollHeight"]||0}function Ll(e,s){return s?.[e?"clientWidth":"clientHeight"]||0}function bt(e,s,n){if(!n)return 0;const{scrollLeft:l,offsetWidth:a,scrollWidth:v}=n;return e?s?v-a+l:l:n.scrollTop}function Se(e,s){return s?.[e?"offsetWidth":"offsetHeight"]||0}function Vt(e,s){return s?.[e?"offsetLeft":"offsetTop"]||0}const wt=Symbol.for("vuetify:v-slide-group"),St=ne({centerActive:Boolean,scrollToActive:{type:Boolean,default:!0},contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:wt},nextIcon:{type:de,default:"$next"},prevIcon:{type:de,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...Ce(),...Rt({mobile:null}),...Oe(),...ot({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Ze=me()({name:"VSlideGroup",props:St(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:n}=s;const{isRtl:l}=zt(),{displayClasses:a,mobile:v}=st(e),u=it(e,e.symbol),c=W(!1),f=W(0),g=W(0),h=W(0),p=z(()=>e.direction==="horizontal"),{resizeRef:V,contentRect:w}=Pe(),{resizeRef:S,contentRect:y}=Pe(),P=Et(),I=z(()=>({container:V.el,duration:200,easing:"easeOutQuart"})),E=z(()=>u.selected.value.length?u.items.value.findIndex(i=>i.id===u.selected.value[0]):-1),oe=z(()=>u.selected.value.length?u.items.value.findIndex(i=>i.id===u.selected.value[u.selected.value.length-1]):-1);if(Ae){let i=-1;re(()=>[u.selected.value,w.value,y.value,p.value],()=>{cancelAnimationFrame(i),i=requestAnimationFrame(()=>{if(w.value&&y.value){const t=p.value?"width":"height";g.value=w.value[t],h.value=y.value[t],c.value=g.value+1<h.value}if(e.scrollToActive&&E.value>=0&&S.el){const t=S.el.children[oe.value];A(t,e.centerActive)}})})}const D=W(!1);function A(i,t){let d=0;t?d=Ol({containerElement:V.el,isHorizontal:p.value,selectedElement:i}):d=Fl({containerElement:V.el,isHorizontal:p.value,isRtl:l.value,selectedElement:i}),se(d)}function se(i){if(!Ae||!V.el)return;const t=Se(p.value,V.el),d=bt(p.value,l.value,V.el);if(!(Je(p.value,V.el)<=t||Math.abs(i-d)<16)){if(p.value&&l.value&&V.el){const{scrollWidth:N,offsetWidth:G}=V.el;i=N-G-i}p.value?P.horizontal(i,I.value):P(i,I.value)}}function O(i){const{scrollTop:t,scrollLeft:d}=i.target;f.value=p.value?d:t}function T(i){if(D.value=!0,!(!c.value||!S.el)){for(const t of i.composedPath())for(const d of S.el.children)if(d===t){A(d);return}}}function j(i){D.value=!1}let H=!1;function L(i){!H&&!D.value&&!(i.relatedTarget&&S.el?.contains(i.relatedTarget))&&te(),H=!1}function Q(){H=!0}function ce(i){if(!S.el)return;function t(d){i.preventDefault(),te(d)}p.value?i.key==="ArrowRight"?t(l.value?"prev":"next"):i.key==="ArrowLeft"&&t(l.value?"next":"prev"):i.key==="ArrowDown"?t("next"):i.key==="ArrowUp"&&t("prev"),i.key==="Home"?t("first"):i.key==="End"&&t("last")}function X(i,t){if(!i)return;let d=i;do d=d?.[t==="next"?"nextElementSibling":"previousElementSibling"];while(d?.hasAttribute("disabled"));return d}function te(i){if(!S.el)return;let t;if(!i)t=Dt(S.el)[0];else if(i==="next"){if(t=X(S.el.querySelector(":focus"),i),!t)return te("first")}else if(i==="prev"){if(t=X(S.el.querySelector(":focus"),i),!t)return te("last")}else i==="first"?(t=S.el.firstElementChild,t?.hasAttribute("disabled")&&(t=X(t,"next"))):i==="last"&&(t=S.el.lastElementChild,t?.hasAttribute("disabled")&&(t=X(t,"prev")));t&&t.focus({preventScroll:!0})}function $(i){const t=p.value&&l.value?-1:1,d=(i==="prev"?-t:t)*g.value;let C=f.value+d;if(p.value&&l.value&&V.el){const{scrollWidth:N,offsetWidth:G}=V.el;C+=N-G}se(C)}const le=z(()=>({next:u.next,prev:u.prev,select:u.select,isSelected:u.isSelected})),ie=z(()=>c.value||Math.abs(f.value)>0),ve=z(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!v.value;case!0:return ie.value;case"mobile":return v.value||ie.value;default:return!v.value&&ie.value}}),m=z(()=>Math.abs(f.value)>1),k=z(()=>{if(!V.value||!ie.value)return!1;const i=Je(p.value,V.el),t=Ll(p.value,V.el);return i-t-Math.abs(f.value)>1});return ge(()=>o(e.tag,{class:ke(["v-slide-group",{"v-slide-group--vertical":!p.value,"v-slide-group--has-affixes":ve.value,"v-slide-group--is-overflowing":c.value},a.value,e.class]),style:ut(e.style),tabindex:D.value||u.selected.value.length?-1:0,onFocus:L},{default:()=>[ve.value&&r("div",{key:"prev",class:ke(["v-slide-group__prev",{"v-slide-group__prev--disabled":!m.value}]),onMousedown:Q,onClick:()=>m.value&&$("prev")},[n.prev?.(le.value)??o($e,null,{default:()=>[o(F,{icon:l.value?e.nextIcon:e.prevIcon},null)]})]),r("div",{key:"container",ref:V,class:ke(["v-slide-group__container",e.contentClass]),onScroll:O},[r("div",{ref:S,class:"v-slide-group__content",onFocusin:T,onFocusout:j,onKeydown:ce},[n.default?.(le.value)])]),ve.value&&r("div",{key:"next",class:ke(["v-slide-group__next",{"v-slide-group__next--disabled":!k.value}]),onMousedown:Q,onClick:()=>k.value&&$("next")},[n.next?.(le.value)??o($e,null,{default:()=>[o(F,{icon:l.value?e.prevIcon:e.nextIcon},null)]})])]})),{selected:u.selected,scrollTo:$,scrollOffset:f,focus:te,hasPrev:m,hasNext:k}}}),Ct=Symbol.for("vuetify:v-chip-group"),$l=ne({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Ie},...St({scrollToActive:!1}),...Ce(),...ot({selectedClass:"v-chip--selected"}),...Oe(),...ct(),...rt({variant:"tonal"})},"VChipGroup");me()({name:"VChipGroup",props:$l(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:n}=s;const{themeClasses:l}=dt(e),{isSelected:a,select:v,next:u,prev:c,selected:f}=it(e,Ct);return Mt({VChip:{baseColor:q(()=>e.baseColor),color:q(()=>e.color),disabled:q(()=>e.disabled),filter:q(()=>e.filter),variant:q(()=>e.variant)}}),ge(()=>{const g=Ze.filterProps(e);return o(Ze,K(g,{class:["v-chip-group",{"v-chip-group--column":e.column},l.value,e.class],style:e.style}),{default:()=>[n.default?.({isSelected:a,select:v,next:u,prev:c,selected:f.value})]})}),{}}});const Gl=ne({activeClass:String,appendAvatar:String,appendIcon:de,baseColor:String,closable:Boolean,closeIcon:{type:de,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:de,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:de,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:Ue(),onClickOnce:Ue(),...Zt(),...Ce(),...Jt(),...Yt(),...Xt(),...Qt(),...jt(),...qt(),...Oe({tag:"span"}),...ct(),...rt({variant:"tonal"})},"VChip"),Hl=me()({name:"VChip",directives:{vRipple:Ge},props:Gl(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,s){let{attrs:n,emit:l,slots:a}=s;const{t:v}=Le(),{borderClasses:u}=Ft(e),{densityClasses:c}=Ot(e),{elevationClasses:f}=Lt(e),{roundedClasses:g}=$t(e),{sizeClasses:h}=Gt(e),{themeClasses:p}=dt(e),V=we(e,"modelValue"),w=He(e,Ct,!1),S=He(e,wt,!1),y=Ht(e,n),P=q(()=>e.link!==!1&&y.isLink.value),I=z(()=>!e.disabled&&e.link!==!1&&(!!w||e.link||y.isClickable.value)),E=q(()=>({"aria-label":v(e.closeLabel),disabled:e.disabled,onClick(T){T.preventDefault(),T.stopPropagation(),V.value=!1,l("click:close",T)}}));re(V,T=>{T?(w?.register(),S?.register()):(w?.unregister(),S?.unregister())});const{colorClasses:oe,colorStyles:D,variantClasses:A}=Nt(()=>({color:!w||w.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function se(T){l("click",T),I.value&&(y.navigate?.(T),w?.toggle())}function O(T){(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),se(T))}return()=>{const T=y.isLink.value?"a":e.tag,j=!!(e.appendIcon||e.appendAvatar),H=!!(j||a.append),L=!!(a.close||e.closable),Q=!!(a.filter||e.filter)&&w,ce=!!(e.prependIcon||e.prependAvatar),X=!!(ce||a.prepend);return V.value&&Ne(o(T,K(y.linkProps,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":I.value,"v-chip--filter":Q,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&y.isActive?.value},p.value,u.value,oe.value,c.value,f.value,g.value,h.value,A.value,w?.selectedClass.value,e.class],style:[D.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:I.value?0:void 0,onClick:se,onKeydown:I.value&&!P.value&&O}),{default:()=>[Ut(I.value,"v-chip"),Q&&o(Kt,{key:"filter"},{default:()=>[Ne(r("div",{class:"v-chip__filter"},[a.filter?o(be,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},a.filter):o(F,{key:"filter-icon",icon:e.filterIcon},null)]),[[Wt,w.isSelected.value]])]}),X&&r("div",{key:"prepend",class:"v-chip__prepend"},[a.prepend?o(be,{key:"prepend-defaults",disabled:!ce,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},a.prepend):r(ae,null,[e.prependIcon&&o(F,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&o(De,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),r("div",{class:"v-chip__content","data-no-activator":""},[a.default?.({isSelected:w?.isSelected.value,selectedClass:w?.selectedClass.value,select:w?.select,toggle:w?.toggle,value:w?.value.value,disabled:e.disabled})??J(e.text)]),H&&r("div",{key:"append",class:"v-chip__append"},[a.append?o(be,{key:"append-defaults",disabled:!j,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},a.append):r(ae,null,[e.appendIcon&&o(F,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&o(De,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),L&&r("button",K({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},E.value),[a.close?o(be,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},a.close):o(F,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}),[[Ge,I.value&&e.ripple,null]])}}}),Nl=ne({renderless:Boolean,...Ce()},"VVirtualScrollItem"),Ul=me()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Nl(),emits:{"update:height":e=>!0},setup(e,s){let{attrs:n,emit:l,slots:a}=s;const{resizeRef:v,contentRect:u}=Pe(void 0,"border");re(()=>u.value?.height,c=>{c!=null&&l("update:height",c)}),ge(()=>e.renderless?r(ae,null,[a.default?.({itemRef:v})]):r("div",K({ref:v,class:["v-virtual-scroll__item",e.class],style:e.style},n),[a.default?.()]))}}),Kl=-1,Wl=1,Re=100,ql=ne({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function jl(e,s){const n=st(),l=W(0);Ke(()=>{l.value=parseFloat(e.itemHeight||0)});const a=W(0),v=W(Math.ceil((parseInt(e.height)||n.height.value)/(l.value||16))||1),u=W(0),c=W(0),f=he(),g=he();let h=0;const{resizeRef:p,contentRect:V}=Pe();Ke(()=>{p.value=f.value});const w=z(()=>f.value===document.documentElement?n.height.value:V.value?.height||parseInt(e.height)||0),S=z(()=>!!(f.value&&g.value&&w.value&&l.value));let y=Array.from({length:s.value.length}),P=Array.from({length:s.value.length});const I=W(0);let E=-1;function oe(m){return y[m]||l.value}const D=el(()=>{const m=performance.now();P[0]=0;const k=s.value.length;for(let i=1;i<=k;i++)P[i]=(P[i-1]||0)+oe(i-1);I.value=Math.max(I.value,performance.now()-m)},I),A=re(S,m=>{m&&(A(),h=g.value.offsetTop,D.immediate(),$(),~E&&ft(()=>{Ae&&window.requestAnimationFrame(()=>{ie(E),E=-1})}))});vt(()=>{D.clear()});function se(m,k){const i=y[m],t=l.value;l.value=t?Math.min(l.value,k):k,(i!==k||t!==l.value)&&(y[m]=k,D())}function O(m){m=Te(m,0,s.value.length);const k=Math.floor(m),i=m%1,t=k+1,d=P[k]||0,C=P[t]||d;return d+(C-d)*i}function T(m){return Ql(P,m)}let j=0,H=0,L=0;re(w,(m,k)=>{k&&($(),m<k&&requestAnimationFrame(()=>{H=0,$()}))});let Q=-1;function ce(){if(!f.value||!g.value)return;const m=f.value.scrollTop,k=performance.now();k-L>500?(H=Math.sign(m-j),h=g.value.offsetTop):H=m-j,j=m,L=k,window.clearTimeout(Q),Q=window.setTimeout(X,500),$()}function X(){!f.value||!g.value||(H=0,L=0,window.clearTimeout(Q),$())}let te=-1;function $(){cancelAnimationFrame(te),te=requestAnimationFrame(le)}function le(){if(!f.value||!w.value||!l.value)return;const m=j-h,k=Math.sign(H),i=Math.max(0,m-Re),t=Te(T(i),0,s.value.length),d=m+w.value+Re,C=Te(T(d)+1,t+1,s.value.length);if((k!==Kl||t<a.value)&&(k!==Wl||C>v.value)){const N=O(a.value)-O(t),G=O(C)-O(v.value);Math.max(N,G)>Re?(a.value=t,v.value=C):(t<=0&&(a.value=t),C>=s.value.length&&(v.value=C))}u.value=O(a.value),c.value=O(s.value.length)-O(v.value)}function ie(m){const k=O(m);!f.value||m&&!k?E=m:f.value.scrollTop=k}const ve=z(()=>s.value.slice(a.value,v.value).map((m,k)=>{const i=k+a.value;return{raw:m,index:i,key:tl(m,e.itemKey,i)}}));return re(s,()=>{y=Array.from({length:s.value.length}),P=Array.from({length:s.value.length}),D.immediate(),$()},{deep:1}),{calculateVisibleItems:$,containerRef:f,markerRef:g,computedItems:ve,paddingTop:u,paddingBottom:c,scrollToIndex:ie,handleScroll:ce,handleScrollend:X,handleItemResize:se}}function Ql(e,s){let n=e.length-1,l=0,a=0,v=null,u=-1;if(e[n]<s)return n;for(;l<=n;)if(a=l+n>>1,v=e[a],v>s)n=a-1;else if(v<s)u=a,l=a+1;else return v===s?a:l;return u}const Xl=ne({items:{type:Array,default:()=>[]},renderless:Boolean,...ql(),...Ce(),...il()},"VVirtualScroll"),Yl=me()({name:"VVirtualScroll",props:Xl(),setup(e,s){let{slots:n}=s;const l=ll("VVirtualScroll"),{dimensionStyles:a}=al(e),{calculateVisibleItems:v,containerRef:u,markerRef:c,handleScroll:f,handleScrollend:g,handleItemResize:h,scrollToIndex:p,paddingTop:V,paddingBottom:w,computedItems:S}=jl(e,q(()=>e.items));return nl(()=>e.renderless,()=>{function y(){const I=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";u.value===document.documentElement?(document[I]("scroll",f,{passive:!0}),document[I]("scrollend",g)):(u.value?.[I]("scroll",f,{passive:!0}),u.value?.[I]("scrollend",g))}ol(()=>{u.value=sl(l.vnode.el,!0),y(!0)}),vt(y)}),ge(()=>{const y=S.value.map(P=>o(Ul,{key:P.key,renderless:e.renderless,"onUpdate:height":I=>h(P.index,I)},{default:I=>n.default?.({item:P.raw,index:P.index,...I})}));return e.renderless?r(ae,null,[r("div",{ref:c,class:"v-virtual-scroll__spacer",style:{paddingTop:xe(V.value)}},null),y,r("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:xe(w.value)}},null)]):r("div",{ref:u,class:ke(["v-virtual-scroll",e.class]),onScrollPassive:f,onScrollend:g,style:ut([a.value,e.style])},[r("div",{ref:c,class:"v-virtual-scroll__container",style:{paddingTop:xe(V.value),paddingBottom:xe(w.value)}},[y])])}),{calculateVisibleItems:v,scrollToIndex:p}}});function Jl(e,s){const n=W(!1);let l;function a(c){cancelAnimationFrame(l),n.value=!0,l=requestAnimationFrame(()=>{l=requestAnimationFrame(()=>{n.value=!1})})}async function v(){await new Promise(c=>requestAnimationFrame(c)),await new Promise(c=>requestAnimationFrame(c)),await new Promise(c=>requestAnimationFrame(c)),await new Promise(c=>{if(n.value){const f=re(n,()=>{f(),c()})}else c()})}async function u(c){if(c.key==="Tab"&&s.value?.focus(),!["PageDown","PageUp","Home","End"].includes(c.key))return;const f=e.value?.$el;if(!f)return;(c.key==="Home"||c.key==="End")&&f.scrollTo({top:c.key==="Home"?0:f.scrollHeight,behavior:"smooth"}),await v();const g=f.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(c.key==="PageDown"||c.key==="Home"){const h=f.getBoundingClientRect().top;for(const p of g)if(p.getBoundingClientRect().top>=h){p.focus();break}}else{const h=f.getBoundingClientRect().bottom;for(const p of[...g].reverse())if(p.getBoundingClientRect().bottom<=h){p.focus();break}}}return{onScrollPassive:a,onKeydown:u}}const Zl=ne({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function ea(e,s){const{t:n}=Le(),l=ul(),a=z(()=>`menu-${l}`),v=q(()=>We(s)),u=q(()=>a.value),c=q(()=>n(We(s)?e.closeText:e.openText));return{menuId:a,ariaExpanded:v,ariaControls:u,ariaLabel:c}}const ta=ne({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:de,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...Zl(),...bl({itemChildren:!1})},"Select"),la=ne({...ta(),...nt(Cl({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...yl({transition:{component:kl}})},"VSelect"),aa=me()({name:"VSelect",props:la(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,s){let{slots:n}=s;const{t:l}=Le(),a=he(),v=he(),u=he(),{items:c,transformIn:f,transformOut:g}=rl(e),h=we(e,"modelValue",[],t=>f(t===null?[null]:cl(t)),t=>{const d=g(t);return e.multiple?d:d[0]??null}),p=z(()=>typeof e.counterValue=="function"?e.counterValue(h.value):typeof e.counterValue=="number"?e.counterValue:h.value.length),V=xl(e),w=z(()=>h.value.map(t=>t.value)),S=W(!1);let y="",P=-1,I;const E=z(()=>e.hideSelected?c.value.filter(t=>!h.value.some(d=>(e.valueComparator||Ie)(d,t))):c.value),oe=z(()=>e.hideNoData&&!E.value.length||V.isReadonly.value||V.isDisabled.value),D=we(e,"menu"),A=z({get:()=>D.value,set:t=>{D.value&&!t&&v.value?.Î¨openChildren.size||t&&oe.value||(D.value=t)}}),{menuId:se,ariaExpanded:O,ariaControls:T,ariaLabel:j}=ea(e,A),H=z(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),L=he(),Q=Jl(L,a);function ce(t){e.openOnClear&&(A.value=!0)}function X(){oe.value||(A.value=!A.value)}function te(t){je(t)&&$(t)}function $(t){if(!t.key||V.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(A.value=!0),["Escape","Tab"].includes(t.key)&&(A.value=!1),t.key==="Home"?L.value?.focus("first"):t.key==="End"&&L.value?.focus("last");const d=1e3;if(!je(t))return;const C=performance.now();C-I>d&&(y="",P=-1),y+=t.key.toLowerCase(),I=C;const N=E.value;function G(){let R=x();return R||y.at(-1)===y.at(-2)&&(y=y.slice(0,-1),R=x(),R)||(P=-1,R=x(),R)?R:(y=t.key.toLowerCase(),x())}function x(){for(let R=P+1;R<N.length;R++){const ue=N[R];if(ue.title.toLowerCase().startsWith(y))return[ue,R]}}const _=G();if(!_)return;const[M,fe]=_;P=fe,L.value?.focus(fe),e.multiple||(h.value=[M])}function le(t){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const C=h.value.findIndex(G=>(e.valueComparator||Ie)(G.value,t.value)),N=d??!~C;if(~C){const G=N?[...h.value,t]:[...h.value];G.splice(C,1),h.value=G}else N&&(h.value=[...h.value,t])}else{const C=d!==!1;h.value=C?[t]:[],ft(()=>{A.value=!1})}}function ie(t){L.value?.$el.contains(t.relatedTarget)||(A.value=!1)}function ve(){e.eager&&u.value?.calculateVisibleItems()}function m(){S.value&&a.value?.focus()}function k(t){S.value=!0}function i(t){if(t==null)h.value=[];else if(Qe(a.value,":autofill")||Qe(a.value,":-webkit-autofill")){const d=c.value.find(C=>C.title===t);d&&le(d)}else a.value&&(a.value.value="")}return re(A,()=>{if(!e.hideSelected&&A.value&&h.value.length){const t=E.value.findIndex(d=>h.value.some(C=>(e.valueComparator||Ie)(C.value,d.value)));Ae&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{t>=0&&u.value?.scrollToIndex(t)})}}),re(c,(t,d)=>{A.value||S.value&&e.hideNoData&&!d.length&&t.length&&(A.value=!0)}),ge(()=>{const t=!!(e.chips||n.chip),d=!!(!e.hideNoData||E.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),C=h.value.length>0,N=Fe.filterProps(e),G=C||!S.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return o(Fe,K({ref:a},N,{modelValue:h.value.map(x=>x.props.value).join(", "),"onUpdate:modelValue":i,focused:S.value,"onUpdate:focused":x=>S.value=x,validationValue:h.externalValue,counterValue:p.value,dirty:C,class:["v-select",{"v-select--active-menu":A.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":h.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:G,"onClick:clear":ce,"onMousedown:control":X,onBlur:ie,onKeydown:$,"aria-expanded":O.value,"aria-controls":T.value,"aria-label":j.value,title:j.value}),{...n,default:()=>r(ae,null,[o(dl,K({id:se.value,ref:v,modelValue:A.value,"onUpdate:modelValue":x=>A.value=x,activator:"parent",contentClass:"v-select__content",disabled:oe.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:ve,onAfterLeave:m},H.value),{default:()=>[d&&o(vl,K({ref:L,selected:w.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:x=>x.preventDefault(),onKeydown:te,onFocusin:k,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},Q,e.listProps),{default:()=>[n["prepend-item"]?.(),!E.value.length&&!e.hideNoData&&(n["no-data"]?.()??o(qe,{key:"no-data",title:l(e.noDataText)},null)),o(Yl,{ref:u,renderless:!0,items:E.value,itemKey:"value"},{default:x=>{let{item:_,index:M,itemRef:fe}=x;const R=fl(_.props),ue=K(_.props,{ref:fe,key:_.value,onClick:()=>le(_,null)});return _.type==="divider"?n.divider?.({props:_.raw,index:M})??o(ml,K(_.props,{key:`divider-${M}`}),null):_.type==="subheader"?n.subheader?.({props:_.raw,index:M})??o(hl,K(_.props,{key:`subheader-${M}`}),null):n.item?.({item:_,index:M,props:ue})??o(qe,K(ue,{role:"option"}),{prepend:U=>{let{isSelected:It}=U;return r(ae,null,[e.multiple&&!e.hideSelected?o(Ml,{key:_.value,modelValue:It,ripple:!1,tabindex:"-1",onClick:Pt=>Pt.preventDefault()},null):void 0,R.prependAvatar&&o(De,{image:R.prependAvatar},null),R.prependIcon&&o(F,{icon:R.prependIcon},null)])}})}}),n["append-item"]?.()]})]}),h.value.map((x,_)=>{function M(U){U.stopPropagation(),U.preventDefault(),le(x,!1)}const fe={"onClick:close":M,onKeydown(U){U.key!=="Enter"&&U.key!==" "||(U.preventDefault(),U.stopPropagation(),M(U))},onMousedown(U){U.preventDefault(),U.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},R=t?!!n.chip:!!n.selection,ue=R?gl(t?n.chip({item:x,index:_,props:fe}):n.selection({item:x,index:_})):void 0;if(!(R&&!ue))return r("div",{key:x.value,class:"v-select__selection"},[t?n.chip?o(be,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:x.title}}},{default:()=>[ue]}):o(Hl,K({key:"chip",closable:e.closableChips,size:"small",text:x.title,disabled:x.props.disabled},fe),null):ue??r("span",{class:"v-select__selection-text"},[x.title,e.multiple&&_<h.value.length-1&&r("span",{class:"v-select__selection-comma"},[Y(",")])])])})]),"append-inner":function(){for(var x=arguments.length,_=new Array(x),M=0;M<x;M++)_[M]=arguments[M];return r(ae,null,[n["append-inner"]?.(..._),e.menuIcon?o(F,{class:"v-select__menu-icon",color:a.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),pl({isFocused:S,menu:A,select:le},a)}}),na={class:"d-flex ga-1"},oa={class:"d-flex ga-1"};function sa(e,s,n,l,a,v){return B(),Z(ht,{color:"grey-darken-3",rounded:"3",subtitle:"Giveaway"},{default:b(()=>[e.getGiveaway.winner?(B(),Z(_e,{key:0},{default:b(()=>[o(ze,{flat:"",density:"compact",rounded:"",class:"mb-2",color:"green-darken-2"},{append:b(()=>[r("div",na,[o(ye,{icon:"mdi-broom",onClick:v.stopGiveaway},null,8,["onClick"])])]),default:b(()=>[o(Ee,{class:"d-flex align-center",style:{"font-size":"1rem"}},{default:b(()=>[Y(" gewinner: "+J(e.getGiveaway.winner.name),1)]),_:1})]),_:1})]),_:1})):e.getGiveaway.active?(B(),Z(_e,{key:1},{default:b(()=>[o(ze,{flat:"",density:"compact",rounded:"",class:"mb-2",color:"teal-darken-3"},{append:b(()=>[r("div",oa,[o(ye,{icon:"mdi-stop-circle",onClick:v.stopGiveaway},null,8,["onClick"])])]),default:b(()=>[o(Ee,{class:"d-flex align-center",style:{"font-size":"1rem"}},{default:b(()=>[Y(" aktiv: "+J(e.getGiveaway.content),1)]),_:1}),o(tt,{"model-value":100/e.getGiveaway.interval*e.getGiveaway.currentInterval,location:"bottom",absolute:"",rounded:"",color:"teal-lighten-1"},null,8,["model-value"])]),_:1}),o(yt,null,{default:b(()=>[o(gt,{title:e.getGiveaway.users.length+" Teilnehmer",color:"grey-darken-2"},{default:b(()=>[o(pt,{class:"pa-0"},{default:b(()=>[o(kt,null,{default:b(()=>[s[2]||(s[2]=r("thead",null,[r("tr",null,[r("th",{class:"text-left"}," Name "),r("th",{class:"text-left",style:{width:"50px"}})])],-1)),r("tbody",null,[(B(!0),ee(ae,null,Me(e.getGiveaway.users,u=>(B(),ee("tr",null,[r("td",null,J(u.displayName),1),r("td",null,[o(ye,{icon:"mdi-trash-can",color:"red",variant:"text",density:"compact",onClick:c=>v.deleteUser(u.id)},null,8,["onClick"])])]))),256))])]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})]),_:1})):(B(),Z(_e,{key:2},{default:b(()=>[o(Vl,null,{default:b(()=>[o(Be,{cols:"12",md:"8",xl:"10"},{default:b(()=>[o(Fe,{class:"mt-1",label:"Was wird verlost?",variant:"outlined",modelValue:a.giveawayTemplate.content,"onUpdate:modelValue":s[0]||(s[0]=u=>a.giveawayTemplate.content=u),density:"compact","hide-details":""},null,8,["modelValue"])]),_:1}),o(Be,{cols:"9",md:"2",xl:"1"},{default:b(()=>[o(aa,{class:"mt-1",label:"Dauer",items:a.times,modelValue:a.giveawayTemplate.interval,"onUpdate:modelValue":s[1]||(s[1]=u=>a.giveawayTemplate.interval=u),variant:"outlined",density:"compact","hide-details":""},null,8,["items","modelValue"])]),_:1}),o(Be,{cols:"3",md:"2",xl:"1"},{default:b(()=>[o(ye,{onClick:v.sendGiveaway,"prepend-icon":"mdi-send",variant:"tonal",class:"mt-1",width:"100%"},{default:b(()=>[...s[3]||(s[3]=[Y("Erstellen",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}))]),_:1})}const xt=mt(El,[["render",sa]]),ia={components:{Giveaway:xt},computed:{...lt(at,["getAlerts","getAutoMacros"])},methods:{}},ua={key:1,class:"mt-5 mx-5"},ra={key:3,class:"mt-5 mx-5"};function ca(e,s,n,l,a,v){const u=xt,c=zl,f=Pl;return B(),Z(ht,{class:"overflow-auto mx-auto","max-height":"100%","max-width":"100%",elevation:"0",color:"transparent"},{default:b(()=>[o(u,{class:"mt-5 mx-5"}),e.getAlerts.length===0?(B(),Z(Ye,{key:0,class:"mt-5 mx-5",type:"info",color:"gray-darken-3",text:"There are currently no alerts in the Query!"})):(B(),ee("div",ua,[o(yt,null,{default:b(()=>[(B(!0),ee(ae,null,Me(e.getAlerts,g=>(B(),Z(c,{alert:g},null,8,["alert"]))),256))]),_:1})])),e.getAutoMacros.length===0?(B(),Z(Ye,{key:2,class:"mt-5 mx-5",type:"info",color:"gray-darken-3",text:"There are currently no auto macros!"})):(B(),ee("div",ra,[(B(!0),ee(ae,null,Me(e.getAutoMacros,g=>(B(),Z(f,{autoMacro:g},null,8,["autoMacro"]))),256))]))]),_:1})}const ka=mt(ia,[["render",ca]]);export{ka as default};
