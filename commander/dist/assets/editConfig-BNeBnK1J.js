import{j as he,k,o as s,C as re,l as _e,q as be,s as ne,g as Pe,p as Te,aD as le,a2 as Fe,E as A,K as P,J as Be,aE as Ie,aF as Re,aG as _,aH as Se,c as Ae,ah as De,f as t,h as n,F as p,a3 as O,Z as oe,aI as Ne,i as Ee,a4 as ze,P as G,Y as Me,O as Ue,aJ as He,_ as Oe,w as a,a5 as Ge,a6 as ue,D,aK as $,aL as j,y as r,aM as q,t as C,v as N,z as g,aq as $e}from"./index-Cn1yRKeV.js";import{n as je}from"./no_obs-C_D82FvN.js";import{u as qe,V as se,a as Je,m as Ke,b as Le,c as Ye}from"./autofocus-B9cv-Cp1.js";import{a as Ze,V as ie,m as Qe}from"./VLabel-DR88ZwCB.js";import{V as J,a as K,c as L,b as Y}from"./VExpansionPanels-r_rucK80.js";import{V as Z}from"./VTable-BzIT2r1M.js";const We=he({__name:"CopyButton",props:["content"],setup(e){function l(y){navigator.clipboard.writeText(y)}return(y,V)=>(s(),k(re,{icon:"mdi-content-copy",size:"x-small",onClick:V[0]||(V[0]=d=>l(e.content))}))}}),Xe={data(){return{noObs:je,backendConfigText:"",voiceFilter:""}},mounted(){this.backendConfigText=this.getBackendConfig,this.backendConfigText===""&&ne.$on("websocket:connected",()=>{setTimeout(()=>{this.backendConfigText=this.getBackendConfig},250)})},computed:{..._e(be,["getBackendConfig","getObsSceneData","getScene","getVoices"])},methods:{saveConfig(){ne.$emit("websocket:send",{method:"update_config",params:{data:this.backendConfigText}})}}},et=Te({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Le(),...Qe(),...Ke()},"VTextarea"),tt=Pe()({name:"VTextarea",directives:{vIntersect:le},inheritAttrs:!1,props:et(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,l){let{attrs:y,emit:V,slots:d}=l;const i=Fe(e,"modelValue"),{isFocused:c,focus:u,blur:f}=Ze(e),{onIntersect:T}=Ye(e),de=A(()=>typeof e.counterValue=="function"?e.counterValue(i.value):(i.value||"").toString().length),ce=A(()=>{if(y.maxlength)return y.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),Q=P(),F=P(),W=Be(""),B=P(),I=qe(e),fe=A(()=>e.persistentPlaceholder||c.value||e.active);function E(){I.isSuppressing.value&&I.update(),B.value!==document.activeElement&&B.value?.focus(),c.value||u()}function ve(o){E(),V("click:control",o)}function me(o){V("mousedown:control",o)}function xe(o){o.stopPropagation(),E(),G(()=>{i.value="",He(e["onClick:clear"],o)})}function ge(o){const v=o.target;if(i.value=v.value,e.modelModifiers?.trim){const m=[v.selectionStart,v.selectionEnd];G(()=>{v.selectionStart=m[0],v.selectionEnd=m[1]})}}const w=P(),b=P(Number(e.rows)),z=A(()=>["plain","underlined"].includes(e.variant));Ie(()=>{e.autoGrow||(b.value=Number(e.rows))});function h(){e.autoGrow&&G(()=>{if(!w.value||!F.value)return;const o=getComputedStyle(w.value),v=getComputedStyle(F.value.$el),m=parseFloat(o.getPropertyValue("--v-field-padding-top"))+parseFloat(o.getPropertyValue("--v-input-padding-top"))+parseFloat(o.getPropertyValue("--v-field-padding-bottom")),M=w.value.scrollHeight,S=parseFloat(o.lineHeight),U=Math.max(parseFloat(e.rows)*S+m,parseFloat(v.getPropertyValue("--v-input-control-height"))),H=parseFloat(e.maxRows)*S+m||1/0,x=Ue(M??0,U,H);b.value=Math.floor((x-m)/S),W.value=Me(x)})}Re(h),_(i,h),_(()=>e.rows,h),_(()=>e.maxRows,h),_(()=>e.density,h),_(b,o=>{V("update:rows",o)});let R;return _(w,o=>{o?(R=new ResizeObserver(h),R.observe(w.value)):R?.disconnect()}),Se(()=>{R?.disconnect()}),Ae(()=>{const o=!!(d.counter||e.counter||e.counterValue),v=!!(o||d.details),[m,M]=De(y),{modelValue:S,...U}=ie.filterProps(e),H={...se.filterProps(e),"onClick:clear":xe};return t(ie,O({ref:Q,modelValue:i.value,"onUpdate:modelValue":x=>i.value=x,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":z.value},e.class],style:e.style},m,U,{centerAffix:b.value===1&&!z.value,focused:c.value}),{...d,default:x=>{let{id:pe,isDisabled:X,isDirty:ee,isReadonly:ye,isValid:Ve,hasDetails:Ce}=x;return t(se,O({ref:F,style:{"--v-textarea-control-height":W.value},onClick:ve,onMousedown:me,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},H,{id:pe.value,active:fe.value||ee.value,centerAffix:b.value===1&&!z.value,dirty:ee.value||e.dirty,disabled:X.value,focused:c.value,details:Ce.value,error:Ve.value===!1}),{...d,default:ke=>{let{props:{class:te,...ae}}=ke;return n(p,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[e.prefix]),oe(n("textarea",O({ref:B,class:te,value:i.value,onInput:ge,autofocus:e.autofocus,readonly:ye.value,disabled:X.value,placeholder:e.placeholder,rows:e.rows,name:I.fieldName.value,autocomplete:I.fieldAutocomplete.value,onFocus:E,onBlur:f},ae,M),null),[[le,{handler:T},null,{once:!0}]]),e.autoGrow&&oe(n("textarea",{class:Ee([te,"v-textarea__sizer"]),id:`${ae.id}-sizer`,"onUpdate:modelValue":we=>i.value=we,ref:w,readonly:!0,"aria-hidden":"true"},null),[[Ne,i.value]]),e.suffix&&n("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:v?x=>n(p,null,[d.details?.(x),o&&n(p,null,[n("span",null,null),t(Je,{active:e.persistentCounter||c.value,value:de.value,max:ce.value,disabled:e.disabled},d.counter)])]):void 0})}),ze({},Q,F,B)}}),at={key:0};function nt(e,l,y,V,d,i){const c=We;return s(),k(D,{class:"overflow-auto mx-auto","max-height":"100%","max-width":"100%",elevation:"0",color:"transparent","min-height":"100%"},{default:a(()=>[t(Ge,{class:"mx-3 my-2 mb-0 pb-0"},{default:a(()=>[t(ue,{cols:"12",md:"8",xl:"10"},{default:a(()=>[t(D,{class:"sticky pa-0",color:"transparent",elevation:"0"},{default:a(()=>[t($,{flat:"",density:"compact"},{default:a(()=>[t(j,{class:"d-flex align-center"},{default:a(()=>[...l[1]||(l[1]=[r(" Bot Configuration ",-1)])]),_:1}),t(re,{"prepend-icon":"mdi-content-save",color:"grey-darken-3",variant:"flat",elevation:"0",onClick:i.saveConfig},{default:a(()=>[...l[2]||(l[2]=[r(" Save Config ",-1)])]),_:1},8,["onClick"])]),_:1}),t(q,{class:"pa-0"},{default:a(()=>[t(tt,{class:"my-0",style:{"min-height":"calc(100vh - 110px)"},modelValue:d.backendConfigText,"onUpdate:modelValue":l[0]||(l[0]=u=>d.backendConfigText=u),variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(ue,null,{default:a(()=>[t(D,{color:"transparent",elevation:"0"},{default:a(()=>[t($,{flat:"",density:"compact"},{default:a(()=>[t(j,{class:"d-flex align-center"},{default:a(()=>[...l[3]||(l[3]=[r(" OBS Scenes ",-1)])]),_:1})]),_:1}),t(q,{class:"pa-0"},{default:a(()=>[e.getScene?.background?(s(),C("div",at,[t(J,{color:"grey-darken-4"},{default:a(()=>[(s(!0),C(p,null,N(e.getObsSceneData,u=>(s(),k(K,{key:u.uuid||u.index},{default:a(()=>[t(L,null,{default:a(()=>[r(g(u.name),1)]),_:2},1024),t(Y,{class:"pa-0"},{default:a(()=>[t(Z,null,{default:a(()=>[n("tbody",null,[n("tr",null,[l[4]||(l[4]=n("td",null,"UUID",-1)),n("td",null,[r(g(u.uuid)+" ",1),t(c,{content:u.uuid},null,8,["content"])])]),n("tr",null,[l[5]||(l[5]=n("td",null,"Index",-1)),n("td",null,[r(g(u.index)+" ",1),t(c,{content:u.index},null,8,["content"])])])])]),_:2},1024),u.items===0?(s(),C(p,{key:0},[],64)):(s(),k(J,{key:1,multiple:"",class:"mt-2"},{default:a(()=>[(s(!0),C(p,null,N(u.items,f=>(s(),k(K,{color:"grey-darken-3",key:f.uuid||f.id},{default:a(()=>[t(L,null,{default:a(()=>[r(g(f.name),1)]),_:2},1024),t(Y,{class:"pa-0"},{default:a(()=>[t(Z,{class:"wrap-anywhere"},{default:a(()=>[n("tbody",null,[n("tr",null,[l[6]||(l[6]=n("td",null,"UUID",-1)),n("td",null,[r(g(f.uuid)+" ",1),t(c,{content:f.uuid},null,8,["content"])])]),n("tr",null,[l[7]||(l[7]=n("td",null,"ID",-1)),n("td",null,[r(g(f.id)+" ",1),t(c,{content:f.id},null,8,["content"])])])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(s(),k($e,{key:1,"aspect-ratio":"16/9",cover:"",src:d.noObs},null,8,["src"]))]),_:1})]),_:1}),t(D,{class:"mt-3",color:"transparent",elevation:"0"},{default:a(()=>[t($,{flat:"",density:"compact"},{default:a(()=>[t(j,{class:"d-flex align-center"},{default:a(()=>[...l[8]||(l[8]=[r(" Available Voices ",-1)])]),_:1})]),_:1}),t(q,{class:"pa-0"},{default:a(()=>[t(J,{color:"grey-darken-4"},{default:a(()=>[(s(!0),C(p,null,N(e.getVoices,(u,f)=>(s(),k(K,null,{default:a(()=>[t(L,null,{default:a(()=>[r(g(f),1)]),_:2},1024),t(Y,{class:"pa-0"},{default:a(()=>[t(Z,{class:"wrap-anywhere"},{default:a(()=>[n("tbody",null,[(s(!0),C(p,null,N(u,T=>(s(),C("tr",null,[n("td",null,[r(g(T)+" ",1),t(c,{content:T},null,8,["content"])])]))),256))])]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const dt=Oe(Xe,[["render",nt]]);export{dt as default};
