import{j as lt,k as ee,o as B,V as Ee,w,f as o,l as J,t as Z,q as De,s as at,i as c,v as we,x as _t,y as Bt,z as te,A as ye,B as O,C as Rt,D as zt,E as ke,F as nt,G as ot,g as he,p as oe,H as Se,I as W,e as pe,J as st,K as G,L as ve,M as it,m as Le,N as Et,b as xe,O as Dt,P as ut,Q as rt,R as K,S as E,T as Ae,U as Mt,W as Te,X as re,Y as Ge,h as be,n as ct,Z as Ft,_ as dt,$ as vt,a0 as Pe,a1 as ft,a2 as Ot,a3 as He,a4 as $e,a5 as Lt,a6 as $t,a7 as Gt,a8 as Ht,a9 as Nt,aa as Ne,ab as Ut,ac as Kt,ad as Ue,ae as Wt,af as qt,ag as Ve,ah as jt,ai as ne,aj as Me,ak as Qt,al as Xt,am as Yt,an as Jt,ao as Zt,ap as el,aq as tl,ar as Ke,as as We,at as ge,au as ll,av as mt,aw as _e,ax as al,ay as ht,az as nl,u as ol,aA as sl,aB as il,aC as ul,aD as Ie,a as rl,aE as cl,aF as qe,aG as dl,aH as vl,aI as fl,aJ as ml,aK as je,aL as hl,aM as gl,aN as pl,aO as yl,aP as kl,aQ as bl,aR as Vl,aS as Qe,aT as Xe,aU as wl,aV as gt,aW as Be,aX as Fe,aY as Sl,aZ as Re,a_ as pt}from"./index-DRRS9uqE.js";import{V as Cl,a as Ye,m as xl}from"./VSwitch-cR5IkQLi.js";import{V as yt,a as kt,b as bt}from"./VExpansionPanels-D6LlfjW6.js";import{V as Vt}from"./VTable-Dud5FQWd.js";import{V as Oe,m as Il}from"./VTextField-CM0Vrs1z.js";import{u as Pl}from"./autofocus-DRqDUBIO.js";import{u as Al}from"./VLabel-Cm1C5vTk.js";import{V as Je}from"./VAlert-DgEK1niv.js";const Tl={class:"d-flex ga-1 mr-3"},_l=lt({__name:"AutoMacro",props:{autoMacro:{}},setup(e){function s(n){n.enabled=!n.enabled,we.$emit("websocket:send",{method:"toggle_auto_macro",params:{name:n.name,enable:n.enabled}})}return(n,t)=>(B(),ee(Ee,{flat:"",density:"compact",rounded:"",class:"mb-2"},{append:w(()=>[c("div",Tl,[o(Cl,{"hide-details":"",density:"compact","model-value":e.autoMacro.enabled,onClick:t[0]||(t[0]=a=>s(e.autoMacro))},null,8,["model-value"])])]),default:w(()=>[o(De,{class:"d-flex align-center",style:{"font-size":"1rem"}},{default:w(()=>[J(Z(e.autoMacro.name),1)]),_:1}),o(at,{active:e.autoMacro.enabled,"model-value":100/e.autoMacro.interval*e.autoMacro.current_interval,location:"bottom",absolute:"",rounded:"",color:"grey-darken-1"},null,8,["active","model-value"])]),_:1}))}}),Bl={key:0},Rl={key:1},zl={key:2},El={key:3},Dl={key:4},Ml=lt({__name:"ActiveAlert",props:{alert:{}},setup(e){function s(n){we.$emit("websocket:send",{method:"remove_event",params:{"event-uuid":n}})}return(n,t)=>(B(),ee(yt,{color:e.alert.active?"green-darken-2":"grey-darken-3",title:"Alert: "+e.alert["event-uuid"]+" - "+_t(Bt)(e.alert.duration)},{default:w(()=>[o(kt,{class:"pa-0"},{default:w(()=>[o(Vt,null,{default:w(()=>[t[7]||(t[7]=c("thead",null,[c("tr",null,[c("th",{class:"text-left",style:{width:"220px"}}," Name "),c("th",{class:"text-left"}," Value ")])],-1)),c("tbody",null,[c("tr",null,[c("td",null,[o(O,{icon:"mdi-broadcast"}),t[1]||(t[1]=J(" Channel",-1))]),c("td",null,Z(e.alert.channel),1)]),e.alert.icon?(B(),te("tr",Bl,[c("td",null,[o(O,{icon:"mdi-circle-slice-1"}),t[2]||(t[2]=J(" Icon",-1))]),c("td",null,Z(e.alert.icon),1)])):ye("",!0),e.alert.message?(B(),te("tr",Rl,[c("td",null,[o(O,{icon:"mdi-message"}),t[3]||(t[3]=J(" Message",-1))]),c("td",null,Z(e.alert.message),1)])):ye("",!0),e.alert.sound?(B(),te("tr",zl,[c("td",null,[o(O,{icon:"mdi-volume-low"}),t[4]||(t[4]=J(" Sound",-1))]),c("td",null,Z(e.alert.sound),1)])):ye("",!0),e.alert.video?(B(),te("tr",El,[c("td",null,[o(O,{icon:"mdi-video"}),t[5]||(t[5]=J(" Video",-1))]),c("td",null,Z(e.alert.video),1)])):ye("",!0),e.alert.lamp_color?(B(),te("tr",Dl,[c("td",null,[o(O,{icon:"mdi-lamp"}),t[6]||(t[6]=J(" Lamp Color",-1))]),c("td",null,Z(e.alert.lamp_color),1)])):ye("",!0)])]),_:1}),o(Rt,null,{default:w(()=>[o(zt),o(ke,{variant:"text",color:e.alert.active?"error":"",onClick:t[0]||(t[0]=a=>s(e.alert["event-uuid"]))},{default:w(()=>[o(O,{icon:"mdi-trash-can"})]),_:1},8,["color"])]),_:1})]),_:1})]),_:1},8,["color","title"]))}}),Fl={data(){return{giveawayTemplate:{content:"",interval:null},times:[{title:"1 min",value:1},{title:"5 min",value:5},{title:"10 min",value:10},{title:"15 min",value:15},{title:"30 min",value:30},{title:"1h",value:60}]}},computed:{...nt(ot,["getGiveaway"])},methods:{sendGiveaway(){we.$emit("websocket:send",{method:"start_giveaway",params:{content:this.giveawayTemplate.content,duration:this.giveawayTemplate.interval}})},stopGiveaway(){we.$emit("websocket:send",{method:"stop_giveaway",params:{}})},deleteUser(e){we.$emit("websocket:send",{method:"remove_giveaway_user",params:{user:e}})}}},Ol=oe({indeterminate:Boolean,indeterminateIcon:{type:ve,default:"$checkboxIndeterminate"},...xl({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Ll=he()({name:"VCheckboxBtn",props:Ol(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,s){let{slots:n}=s;const t=Se(e,"indeterminate"),a=Se(e,"modelValue");function v(f){t.value&&(t.value=!1)}const u=W(()=>t.value?e.indeterminateIcon:e.falseIcon),d=W(()=>t.value?e.indeterminateIcon:e.trueIcon);return pe(()=>{const f=st(Ye.filterProps(e),["modelValue"]);return o(Ye,G(f,{modelValue:a.value,"onUpdate:modelValue":[g=>a.value=g,v],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:u.value,trueIcon:d.value,"aria-checked":t.value?"mixed":void 0}),n)}),{}}});function $l(e){let{selectedElement:s,containerElement:n,isRtl:t,isHorizontal:a}=e;const v=Ce(a,n),u=wt(a,t,n),d=Ce(a,s),f=St(a,s),g=d*.4;return u>f?f-g:u+v<f+d?f-v+d+g:u}function Gl(e){let{selectedElement:s,containerElement:n,isHorizontal:t}=e;const a=Ce(t,n),v=St(t,s),u=Ce(t,s);return v-a/2+u/2}function Ze(e,s){return s?.[e?"scrollWidth":"scrollHeight"]||0}function Hl(e,s){return s?.[e?"clientWidth":"clientHeight"]||0}function wt(e,s,n){if(!n)return 0;const{scrollLeft:t,offsetWidth:a,scrollWidth:v}=n;return e?s?v-a+t:t:n.scrollTop}function Ce(e,s){return s?.[e?"offsetWidth":"offsetHeight"]||0}function St(e,s){return s?.[e?"offsetLeft":"offsetTop"]||0}const Ct=Symbol.for("vuetify:v-slide-group"),xt=oe({centerActive:Boolean,scrollToActive:{type:Boolean,default:!0},contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Ct},nextIcon:{type:ve,default:"$next"},prevIcon:{type:ve,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile","never"].includes(e)},...xe(),...Et({mobile:null}),...Le(),...it({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),et=he()({name:"VSlideGroup",props:xt(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:n}=s;const{isRtl:t}=Dt(),{displayClasses:a,mobile:v}=ut(e),u=rt(e,e.symbol),d=K(!1),f=K(0),g=K(0),h=K(0),k=E(()=>e.direction==="horizontal"),{resizeRef:S,contentRect:C}=Ae(),{resizeRef:A,contentRect:b}=Ae(),x=Mt(),I=E(()=>({container:S.el,duration:200,easing:"easeOutQuart"})),Q=E(()=>u.selected.value.length?u.items.value.findIndex(i=>i.id===u.selected.value[0]):-1),q=E(()=>u.selected.value.length?u.items.value.findIndex(i=>i.id===u.selected.value[u.selected.value.length-1]):-1);if(Te){let i=-1;re(()=>[u.selected.value,C.value,b.value,k.value],()=>{cancelAnimationFrame(i),i=requestAnimationFrame(()=>{if(C.value&&b.value){const r=k.value?"width":"height";g.value=C.value[r],h.value=b.value[r],d.value=g.value+1<h.value}if(e.scrollToActive&&Q.value>=0&&A.el){const r=A.el.children[q.value];le(r,e.centerActive)}})})}const M=K(!1);function le(i,r){let l=0;r?l=Gl({containerElement:S.el,isHorizontal:k.value,selectedElement:i}):l=$l({containerElement:S.el,isHorizontal:k.value,isRtl:t.value,selectedElement:i}),P(l)}function P(i){if(!Te||!S.el)return;const r=Ce(k.value,S.el),l=wt(k.value,t.value,S.el);if(!(Ze(k.value,S.el)<=r||Math.abs(i-l)<16)){if(k.value&&t.value&&S.el){const{scrollWidth:R,offsetWidth:N}=S.el;i=R-N-i}k.value?x.horizontal(i,I.value):x(i,I.value)}}function L(i){const{scrollTop:r,scrollLeft:l}=i.target;f.value=k.value?l:r}function T(i){if(M.value=!0,!(!d.value||!A.el)){for(const r of i.composedPath())for(const l of A.el.children)if(l===r){le(l);return}}}function X(i){M.value=!1}let $=!1;function se(i){!$&&!M.value&&!(i.relatedTarget&&A.el?.contains(i.relatedTarget))&&ae(),$=!1}function D(){$=!0}function ce(i){if(!A.el)return;function r(l){i.preventDefault(),ae(l)}k.value?i.key==="ArrowRight"?r(t.value?"prev":"next"):i.key==="ArrowLeft"&&r(t.value?"next":"prev"):i.key==="ArrowDown"?r("next"):i.key==="ArrowUp"&&r("prev"),i.key==="Home"?r("first"):i.key==="End"&&r("last")}function Y(i,r){if(!i)return;let l=i;do l=l?.[r==="next"?"nextElementSibling":"previousElementSibling"];while(l?.hasAttribute("disabled"));return l}function ae(i){if(!A.el)return;let r;if(!i)r=Ft(A.el)[0];else if(i==="next"){if(r=Y(A.el.querySelector(":focus"),i),!r)return ae("first")}else if(i==="prev"){if(r=Y(A.el.querySelector(":focus"),i),!r)return ae("last")}else i==="first"?(r=A.el.firstElementChild,r?.hasAttribute("disabled")&&(r=Y(r,"next"))):i==="last"&&(r=A.el.lastElementChild,r?.hasAttribute("disabled")&&(r=Y(r,"prev")));r&&r.focus({preventScroll:!0})}function H(i){const r=k.value&&t.value?-1:1,l=(i==="prev"?-r:r)*g.value;let p=f.value+l;if(k.value&&t.value&&S.el){const{scrollWidth:R,offsetWidth:N}=S.el;p+=R-N}P(p)}const de=E(()=>({next:u.next,prev:u.prev,select:u.select,isSelected:u.isSelected})),j=E(()=>d.value||Math.abs(f.value)>0),fe=E(()=>{switch(e.showArrows){case"never":return!1;case"always":return!0;case"desktop":return!v.value;case!0:return j.value;case"mobile":return v.value||j.value;default:return!v.value&&j.value}}),m=E(()=>Math.abs(f.value)>1),V=E(()=>{if(!S.value||!j.value)return!1;const i=Ze(k.value,S.el),r=Hl(k.value,S.el);return i-r-Math.abs(f.value)>1});return pe(()=>o(e.tag,{class:be(["v-slide-group",{"v-slide-group--vertical":!k.value,"v-slide-group--has-affixes":fe.value,"v-slide-group--is-overflowing":d.value},a.value,e.class]),style:ct(e.style),tabindex:M.value||u.selected.value.length?-1:0,onFocus:se},{default:()=>[fe.value&&c("div",{key:"prev",class:be(["v-slide-group__prev",{"v-slide-group__prev--disabled":!m.value}]),onMousedown:D,onClick:()=>m.value&&H("prev")},[n.prev?.(de.value)??o(Ge,null,{default:()=>[o(O,{icon:t.value?e.nextIcon:e.prevIcon},null)]})]),c("div",{key:"container",ref:S,class:be(["v-slide-group__container",e.contentClass]),onScroll:L},[c("div",{ref:A,class:"v-slide-group__content",onFocusin:T,onFocusout:X,onKeydown:ce},[n.default?.(de.value)])]),fe.value&&c("div",{key:"next",class:be(["v-slide-group__next",{"v-slide-group__next--disabled":!V.value}]),onMousedown:D,onClick:()=>V.value&&H("next")},[n.next?.(de.value)??o(Ge,null,{default:()=>[o(O,{icon:t.value?e.prevIcon:e.nextIcon},null)]})])]})),{selected:u.selected,scrollTo:H,scrollOffset:f,focus:ae,hasPrev:m,hasNext:V}}}),It=Symbol.for("vuetify:v-chip-group"),Nl=oe({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Pe},...xt({scrollToActive:!1}),...xe(),...it({selectedClass:"v-chip--selected"}),...Le(),...vt(),...dt({variant:"tonal"})},"VChipGroup");he()({name:"VChipGroup",props:Nl(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:n}=s;const{themeClasses:t}=ft(e),{isSelected:a,select:v,next:u,prev:d,selected:f}=rt(e,It);return Ot({VChip:{baseColor:W(()=>e.baseColor),color:W(()=>e.color),disabled:W(()=>e.disabled),filter:W(()=>e.filter),variant:W(()=>e.variant)}}),pe(()=>{const g=et.filterProps(e);return o(et,G(g,{class:["v-chip-group",{"v-chip-group--column":e.column},t.value,e.class],style:e.style}),{default:()=>[n.default?.({isSelected:a,select:v,next:u,prev:d,selected:f.value})]})}),{}}});const Ul=oe({activeClass:String,appendAvatar:String,appendIcon:ve,baseColor:String,closable:Boolean,closeIcon:{type:ve,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:ve,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:ve,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:Ke(),onClickOnce:Ke(),...tl(),...xe(),...el(),...Zt(),...Jt(),...Yt(),...Xt(),...Qt(),...Le({tag:"span"}),...vt(),...dt({variant:"tonal"})},"VChip"),tt=he()({name:"VChip",directives:{vRipple:He},props:Ul(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,s){let{attrs:n,emit:t,slots:a}=s;const{t:v}=$e(),{borderClasses:u}=Lt(e),{densityClasses:d}=$t(e),{elevationClasses:f}=Gt(e),{roundedClasses:g}=Ht(e),{sizeClasses:h}=Nt(e),{themeClasses:k}=ft(e),S=Se(e,"modelValue"),C=Ne(e,It,!1),A=Ne(e,Ct,!1),b=Ut(e,n),x=W(()=>e.link!==!1&&b.isLink.value),I=E(()=>!e.disabled&&e.link!==!1&&(!!C||e.link||b.isClickable.value)),Q=W(()=>({"aria-label":v(e.closeLabel),disabled:e.disabled,onClick(T){T.preventDefault(),T.stopPropagation(),S.value=!1,t("click:close",T)}}));re(S,T=>{T?(C?.register(),A?.register()):(C?.unregister(),A?.unregister())});const{colorClasses:q,colorStyles:M,variantClasses:le}=Kt(()=>({color:!C||C.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function P(T){t("click",T),I.value&&(b.navigate?.(T),C?.toggle())}function L(T){(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),P(T))}return()=>{const T=b.isLink.value?"a":e.tag,X=!!(e.appendIcon||e.appendAvatar),$=!!(X||a.append),se=!!(a.close||e.closable),D=!!(a.filter||e.filter)&&C,ce=!!(e.prependIcon||e.prependAvatar),Y=!!(ce||a.prepend);return S.value&&Ue(o(T,G(b.linkProps,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":I.value,"v-chip--filter":D,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&b.isActive?.value},k.value,u.value,q.value,d.value,f.value,g.value,h.value,le.value,C?.selectedClass.value,e.class],style:[M.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:I.value?0:void 0,onClick:P,onKeydown:I.value&&!x.value&&L}),{default:()=>[Wt(I.value,"v-chip"),D&&o(qt,{key:"filter"},{default:()=>[Ue(c("div",{class:"v-chip__filter"},[a.filter?o(Ve,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},a.filter):o(O,{key:"filter-icon",icon:e.filterIcon},null)]),[[jt,C.isSelected.value]])]}),Y&&c("div",{key:"prepend",class:"v-chip__prepend"},[a.prepend?o(Ve,{key:"prepend-defaults",disabled:!ce,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},a.prepend):c(ne,null,[e.prependIcon&&o(O,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&o(Me,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),c("div",{class:"v-chip__content","data-no-activator":""},[a.default?.({isSelected:C?.isSelected.value,selectedClass:C?.selectedClass.value,select:C?.select,toggle:C?.toggle,value:C?.value.value,disabled:e.disabled})??Z(e.text)]),$&&c("div",{key:"append",class:"v-chip__append"},[a.append?o(Ve,{key:"append-defaults",disabled:!X,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},a.append):c(ne,null,[e.appendIcon&&o(O,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&o(Me,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),se&&c("button",G({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},Q.value),[a.close?o(Ve,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},a.close):o(O,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}),[[He,I.value&&e.ripple,null]])}}}),Kl=oe({renderless:Boolean,...xe()},"VVirtualScrollItem"),Wl=he()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Kl(),emits:{"update:height":e=>!0},setup(e,s){let{attrs:n,emit:t,slots:a}=s;const{resizeRef:v,contentRect:u}=Ae(void 0,"border");re(()=>u.value?.height,d=>{d!=null&&t("update:height",d)}),pe(()=>e.renderless?c(ne,null,[a.default?.({itemRef:v})]):c("div",G({ref:v,class:["v-virtual-scroll__item",e.class],style:e.style},n),[a.default?.()]))}}),ql=-1,jl=1,ze=100,Ql=oe({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function Xl(e,s){const n=ut(),t=K(0);We(()=>{t.value=parseFloat(e.itemHeight||0)});const a=K(0),v=K(Math.ceil((parseInt(e.height)||n.height.value)/(t.value||16))||1),u=K(0),d=K(0),f=ge(),g=ge();let h=0;const{resizeRef:k,contentRect:S}=Ae();We(()=>{k.value=f.value});const C=E(()=>f.value===document.documentElement?n.height.value:S.value?.height||parseInt(e.height)||0),A=E(()=>!!(f.value&&g.value&&C.value&&t.value));let b=Array.from({length:s.value.length}),x=Array.from({length:s.value.length});const I=K(0);let Q=-1;function q(m){return b[m]||t.value}const M=ll(()=>{const m=performance.now();x[0]=0;const V=s.value.length;for(let i=1;i<=V;i++)x[i]=(x[i-1]||0)+q(i-1);I.value=Math.max(I.value,performance.now()-m)},I),le=re(A,m=>{m&&(le(),h=g.value.offsetTop,M.immediate(),H(),~Q&&ht(()=>{Te&&window.requestAnimationFrame(()=>{j(Q),Q=-1})}))});mt(()=>{M.clear()});function P(m,V){const i=b[m],r=t.value;t.value=r?Math.min(t.value,V):V,(i!==V||r!==t.value)&&(b[m]=V,M())}function L(m){m=_e(m,0,s.value.length);const V=Math.floor(m),i=m%1,r=V+1,l=x[V]||0,p=x[r]||l;return l+(p-l)*i}function T(m){return Yl(x,m)}let X=0,$=0,se=0;re(C,(m,V)=>{V&&(H(),m<V&&requestAnimationFrame(()=>{$=0,H()}))});let D=-1;function ce(){if(!f.value||!g.value)return;const m=f.value.scrollTop,V=performance.now();V-se>500?($=Math.sign(m-X),h=g.value.offsetTop):$=m-X,X=m,se=V,window.clearTimeout(D),D=window.setTimeout(Y,500),H()}function Y(){!f.value||!g.value||($=0,se=0,window.clearTimeout(D),H())}let ae=-1;function H(){cancelAnimationFrame(ae),ae=requestAnimationFrame(de)}function de(){if(!f.value||!C.value||!t.value)return;const m=X-h,V=Math.sign($),i=Math.max(0,m-ze),r=_e(T(i),0,s.value.length),l=m+C.value+ze,p=_e(T(l)+1,r+1,s.value.length);if((V!==ql||r<a.value)&&(V!==jl||p>v.value)){const R=L(a.value)-L(r),N=L(p)-L(v.value);Math.max(R,N)>ze?(a.value=r,v.value=p):(r<=0&&(a.value=r),p>=s.value.length&&(v.value=p))}u.value=L(a.value),d.value=L(s.value.length)-L(v.value)}function j(m){const V=L(m);!f.value||m&&!V?Q=m:f.value.scrollTop=V}const fe=E(()=>s.value.slice(a.value,v.value).map((m,V)=>{const i=V+a.value;return{raw:m,index:i,key:al(m,e.itemKey,i)}}));return re(s,()=>{b=Array.from({length:s.value.length}),x=Array.from({length:s.value.length}),M.immediate(),H()},{deep:1}),{calculateVisibleItems:H,containerRef:f,markerRef:g,computedItems:fe,paddingTop:u,paddingBottom:d,scrollToIndex:j,handleScroll:ce,handleScrollend:Y,handleItemResize:P}}function Yl(e,s){let n=e.length-1,t=0,a=0,v=null,u=-1;if(e[n]<s)return n;for(;t<=n;)if(a=t+n>>1,v=e[a],v>s)n=a-1;else if(v<s)u=a,t=a+1;else return v===s?a:t;return u}const Jl=oe({items:{type:Array,default:()=>[]},renderless:Boolean,...Ql(),...xe(),...rl()},"VVirtualScroll"),Zl=he()({name:"VVirtualScroll",props:Jl(),setup(e,s){let{slots:n}=s;const t=nl("VVirtualScroll"),{dimensionStyles:a}=ol(e),{calculateVisibleItems:v,containerRef:u,markerRef:d,handleScroll:f,handleScrollend:g,handleItemResize:h,scrollToIndex:k,paddingTop:S,paddingBottom:C,computedItems:A}=Xl(e,W(()=>e.items));return sl(()=>e.renderless,()=>{function b(){const I=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";u.value===document.documentElement?(document[I]("scroll",f,{passive:!0}),document[I]("scrollend",g)):(u.value?.[I]("scroll",f,{passive:!0}),u.value?.[I]("scrollend",g))}il(()=>{u.value=ul(t.vnode.el,!0),b(!0)}),mt(b)}),pe(()=>{const b=A.value.map(x=>o(Wl,{key:x.key,renderless:e.renderless,"onUpdate:height":I=>h(x.index,I)},{default:I=>n.default?.({item:x.raw,index:x.index,...I})}));return e.renderless?c(ne,null,[c("div",{ref:d,class:"v-virtual-scroll__spacer",style:{paddingTop:Ie(S.value)}},null),b,c("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Ie(C.value)}},null)]):c("div",{ref:u,class:be(["v-virtual-scroll",e.class]),onScrollPassive:f,onScrollend:g,style:ct([a.value,e.style])},[c("div",{ref:d,class:"v-virtual-scroll__container",style:{paddingTop:Ie(S.value),paddingBottom:Ie(C.value)}},[b])])}),{calculateVisibleItems:v,scrollToIndex:k}}});function ea(e,s){const n=K(!1);let t;function a(d){cancelAnimationFrame(t),n.value=!0,t=requestAnimationFrame(()=>{t=requestAnimationFrame(()=>{n.value=!1})})}async function v(){await new Promise(d=>requestAnimationFrame(d)),await new Promise(d=>requestAnimationFrame(d)),await new Promise(d=>requestAnimationFrame(d)),await new Promise(d=>{if(n.value){const f=re(n,()=>{f(),d()})}else d()})}async function u(d){if(d.key==="Tab"&&s.value?.focus(),!["PageDown","PageUp","Home","End"].includes(d.key))return;const f=e.value?.$el;if(!f)return;(d.key==="Home"||d.key==="End")&&f.scrollTo({top:d.key==="Home"?0:f.scrollHeight,behavior:"smooth"}),await v();const g=f.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(d.key==="PageDown"||d.key==="Home"){const h=f.getBoundingClientRect().top;for(const k of g)if(k.getBoundingClientRect().top>=h){k.focus();break}}else{const h=f.getBoundingClientRect().bottom;for(const k of[...g].reverse())if(k.getBoundingClientRect().bottom<=h){k.focus();break}}}return{onScrollPassive:a,onKeydown:u}}const ta=oe({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function la(e,s){const{t:n}=$e(),t=cl(),a=E(()=>`menu-${t}`),v=W(()=>qe(s)),u=W(()=>a.value),d=W(()=>n(qe(s)?e.closeText:e.openText));return{menuId:a,ariaExpanded:v,ariaControls:u,ariaLabel:d}}const aa=oe({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:ve,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...ta(),...wl({itemChildren:!1})},"Select"),na=oe({...aa(),...st(Il({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...bl({transition:{component:Vl}})},"VSelect"),oa=he()({name:"VSelect",props:na(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,s){let{slots:n}=s;const{t}=$e(),a=ge(),v=ge(),u=ge(),{items:d,transformIn:f,transformOut:g}=dl(e),h=Se(e,"modelValue",[],l=>f(l===null?[null]:vl(l)),l=>{const p=g(l);return e.multiple?p:p[0]??null}),k=E(()=>typeof e.counterValue=="function"?e.counterValue(h.value):typeof e.counterValue=="number"?e.counterValue:h.value.length),S=Al(e),C=Pl(e),A=E(()=>h.value.map(l=>l.value)),b=K(!1);let x="",I=-1,Q;const q=E(()=>e.hideSelected?d.value.filter(l=>!h.value.some(p=>(e.valueComparator||Pe)(p,l))):d.value),M=E(()=>e.hideNoData&&!q.value.length||S.isReadonly.value||S.isDisabled.value),le=Se(e,"menu"),P=E({get:()=>le.value,set:l=>{le.value&&!l&&v.value?.Î¨openChildren.size||l&&M.value||(le.value=l)}}),{menuId:L,ariaExpanded:T,ariaControls:X,ariaLabel:$}=la(e,P),se=E(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),D=ge(),ce=ea(D,a);function Y(l){e.openOnClear&&(P.value=!0)}function ae(){M.value||(P.value=!P.value)}function H(l){Qe(l)&&de(l)}function de(l){if(!l.key||S.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(l.key)&&l.preventDefault(),["Enter","ArrowDown"," "].includes(l.key)&&(P.value=!0),["Escape","Tab"].includes(l.key)&&(P.value=!1),l.key==="Home"?D.value?.focus("first"):l.key==="End"&&D.value?.focus("last");const p=1e3;if(!Qe(l))return;const R=performance.now();R-Q>p&&(x="",I=-1),x+=l.key.toLowerCase(),Q=R;const N=q.value;function ie(){let z=y();return z||x.at(-1)===x.at(-2)&&(x=x.slice(0,-1),z=y(),z)||(I=-1,z=y(),z)?z:(x=l.key.toLowerCase(),y())}function y(){for(let z=I+1;z<N.length;z++){const ue=N[z];if(ue.title.toLowerCase().startsWith(x))return[ue,z]}}const _=ie();if(!_)return;const[F,me]=_;I=me,D.value?.focus(me),e.multiple||(h.value=[F])}function j(l){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!l.props.disabled)if(e.multiple){const R=h.value.findIndex(ie=>(e.valueComparator||Pe)(ie.value,l.value)),N=p??!~R;if(~R){const ie=N?[...h.value,l]:[...h.value];ie.splice(R,1),h.value=ie}else N&&(h.value=[...h.value,l])}else{const R=p!==!1;h.value=R?[l]:[],ht(()=>{P.value=!1})}}function fe(l){D.value?.$el.contains(l.relatedTarget)||(P.value=!1)}function m(){e.eager&&u.value?.calculateVisibleItems()}function V(){b.value&&a.value?.focus()}function i(l){b.value=!0}function r(l){if(l==null)h.value=[];else if(Xe(a.value,":autofill")||Xe(a.value,":-webkit-autofill")){const p=d.value.find(R=>R.title===l);p&&j(p)}else a.value&&(a.value.value="")}return re(P,()=>{if(!e.hideSelected&&P.value&&h.value.length){const l=q.value.findIndex(p=>h.value.some(R=>(e.valueComparator||Pe)(R.value,p.value)));Te&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{l>=0&&u.value?.scrollToIndex(l)})}}),re(d,(l,p)=>{P.value||b.value&&e.hideNoData&&!p.length&&l.length&&(P.value=!0)}),pe(()=>{const l=!!(e.chips||n.chip),p=!!(!e.hideNoData||q.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),R=h.value.length>0,N=Oe.filterProps(e),ie=R||!b.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return o(Oe,G({ref:a},N,{modelValue:h.value.map(y=>y.props.title).join(", "),name:void 0,"onUpdate:modelValue":r,focused:b.value,"onUpdate:focused":y=>b.value=y,validationValue:h.externalValue,counterValue:k.value,dirty:R,class:["v-select",{"v-select--active-menu":P.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":h.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:ie,"onClick:clear":Y,"onMousedown:control":ae,onBlur:fe,onKeydown:de,"aria-expanded":T.value,"aria-controls":X.value,"aria-label":$.value,title:$.value}),{...n,default:()=>c(ne,null,[c("select",{hidden:!0,multiple:e.multiple,name:C.fieldName.value},[d.value.map(y=>c("option",{key:y.value,value:y.value,selected:A.value.includes(y.value)},null))]),o(fl,G({id:L.value,ref:v,modelValue:P.value,"onUpdate:modelValue":y=>P.value=y,activator:"parent",contentClass:"v-select__content",disabled:M.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:m,onAfterLeave:V},se.value),{default:()=>[p&&o(ml,G({ref:D,selected:A.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:y=>y.preventDefault(),onKeydown:H,onFocusin:i,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},ce,e.listProps),{default:()=>[n["prepend-item"]?.(),!q.value.length&&!e.hideNoData&&(n["no-data"]?.()??o(je,{key:"no-data",title:t(e.noDataText)},null)),o(Zl,{ref:u,renderless:!0,items:q.value,itemKey:"value"},{default:y=>{let{item:_,index:F,itemRef:me}=y;const z=hl(_.props),ue=G(_.props,{ref:me,key:_.value,onClick:()=>j(_,null)});return _.type==="divider"?n.divider?.({props:_.raw,index:F})??o(gl,G(_.props,{key:`divider-${F}`}),null):_.type==="subheader"?n.subheader?.({props:_.raw,index:F})??o(pl,G(_.props,{key:`subheader-${F}`}),null):n.item?.({item:_,index:F,props:ue})??o(je,G(ue,{role:"option"}),{prepend:U=>{let{isSelected:At}=U;return c(ne,null,[e.multiple&&!e.hideSelected?o(Ll,{key:_.value,modelValue:At,ripple:!1,tabindex:"-1",onClick:Tt=>Tt.preventDefault()},null):void 0,z.prependAvatar&&o(Me,{image:z.prependAvatar},null),z.prependIcon&&o(O,{icon:z.prependIcon},null)])}})}}),n["append-item"]?.()]})]}),h.value.map((y,_)=>{function F(U){U.stopPropagation(),U.preventDefault(),j(y,!1)}const me=G(tt.filterProps(y.props),{"onClick:close":F,onKeydown(U){U.key!=="Enter"&&U.key!==" "||(U.preventDefault(),U.stopPropagation(),F(U))},onMousedown(U){U.preventDefault(),U.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0}),z=l?!!n.chip:!!n.selection,ue=z?yl(l?n.chip({item:y,index:_,props:me}):n.selection({item:y,index:_})):void 0;if(!(z&&!ue))return c("div",{key:y.value,class:"v-select__selection"},[l?n.chip?o(Ve,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:y.title}}},{default:()=>[ue]}):o(tt,G({key:"chip",closable:e.closableChips,size:"small",text:y.title,disabled:y.props.disabled},me),null):ue??c("span",{class:"v-select__selection-text"},[y.title,e.multiple&&_<h.value.length-1&&c("span",{class:"v-select__selection-comma"},[J(",")])])])})]),"append-inner":function(){for(var y=arguments.length,_=new Array(y),F=0;F<y;F++)_[F]=arguments[F];return c(ne,null,[n["append-inner"]?.(..._),e.menuIcon?o(O,{class:"v-select__menu-icon",color:a.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),kl({isFocused:b,menu:P,select:j},a)}}),sa={class:"d-flex ga-1"},ia={class:"d-flex ga-1"};function ua(e,s,n,t,a,v){return B(),ee(pt,{color:"grey-darken-3",rounded:"3",subtitle:"Giveaway"},{default:w(()=>[e.getGiveaway.winner?(B(),ee(Be,{key:0},{default:w(()=>[o(Ee,{flat:"",density:"compact",rounded:"",class:"mb-2",color:"green-darken-2"},{append:w(()=>[c("div",sa,[o(ke,{icon:"mdi-broom",onClick:v.stopGiveaway},null,8,["onClick"])])]),default:w(()=>[o(De,{class:"d-flex align-center",style:{"font-size":"1rem"}},{default:w(()=>[J(" gewinner: "+Z(e.getGiveaway.winner.name),1)]),_:1})]),_:1})]),_:1})):e.getGiveaway.active?(B(),ee(Be,{key:1},{default:w(()=>[o(Ee,{flat:"",density:"compact",rounded:"",class:"mb-2",color:"teal-darken-3"},{append:w(()=>[c("div",ia,[o(ke,{icon:"mdi-stop-circle",onClick:v.stopGiveaway},null,8,["onClick"])])]),default:w(()=>[o(De,{class:"d-flex align-center",style:{"font-size":"1rem"}},{default:w(()=>[J(" aktiv: "+Z(e.getGiveaway.content),1)]),_:1}),o(at,{"model-value":100/e.getGiveaway.interval*e.getGiveaway.currentInterval,location:"bottom",absolute:"",rounded:"",color:"teal-lighten-1"},null,8,["model-value"])]),_:1}),o(bt,null,{default:w(()=>[o(yt,{title:e.getGiveaway.users.length+" Teilnehmer",color:"grey-darken-2"},{default:w(()=>[o(kt,{class:"pa-0"},{default:w(()=>[o(Vt,null,{default:w(()=>[s[2]||(s[2]=c("thead",null,[c("tr",null,[c("th",{class:"text-left"}," Name "),c("th",{class:"text-left",style:{width:"50px"}})])],-1)),c("tbody",null,[(B(!0),te(ne,null,Fe(e.getGiveaway.users,u=>(B(),te("tr",null,[c("td",null,Z(u.displayName),1),c("td",null,[o(ke,{icon:"mdi-trash-can",color:"red",variant:"text",density:"compact",onClick:d=>v.deleteUser(u.id)},null,8,["onClick"])])]))),256))])]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})]),_:1})):(B(),ee(Be,{key:2},{default:w(()=>[o(Sl,null,{default:w(()=>[o(Re,{cols:"12",md:"8",xl:"10"},{default:w(()=>[o(Oe,{class:"mt-1",label:"Was wird verlost?",variant:"outlined",modelValue:a.giveawayTemplate.content,"onUpdate:modelValue":s[0]||(s[0]=u=>a.giveawayTemplate.content=u),density:"compact","hide-details":""},null,8,["modelValue"])]),_:1}),o(Re,{cols:"9",md:"2",xl:"1"},{default:w(()=>[o(oa,{class:"mt-1",label:"Dauer",items:a.times,modelValue:a.giveawayTemplate.interval,"onUpdate:modelValue":s[1]||(s[1]=u=>a.giveawayTemplate.interval=u),variant:"outlined",density:"compact","hide-details":""},null,8,["items","modelValue"])]),_:1}),o(Re,{cols:"3",md:"2",xl:"1"},{default:w(()=>[o(ke,{onClick:v.sendGiveaway,"prepend-icon":"mdi-send",variant:"tonal",class:"mt-1",width:"100%"},{default:w(()=>[...s[3]||(s[3]=[J("Erstellen",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}))]),_:1})}const Pt=gt(Fl,[["render",ua]]),ra={components:{Giveaway:Pt},computed:{...nt(ot,["getAlerts","getAutoMacros"])},methods:{}},ca={key:1,class:"mt-5 mx-5"},da={key:3,class:"mt-5 mx-5"};function va(e,s,n,t,a,v){const u=Pt,d=Ml,f=_l;return B(),ee(pt,{class:"overflow-auto mx-auto","max-height":"100%","max-width":"100%",elevation:"0",color:"transparent"},{default:w(()=>[o(u,{class:"mt-5 mx-5"}),e.getAlerts.length===0?(B(),ee(Je,{key:0,class:"mt-5 mx-5",type:"info",color:"gray-darken-3",text:"There are currently no alerts in the Query!"})):(B(),te("div",ca,[o(bt,null,{default:w(()=>[(B(!0),te(ne,null,Fe(e.getAlerts,g=>(B(),ee(d,{alert:g},null,8,["alert"]))),256))]),_:1})])),e.getAutoMacros.length===0?(B(),ee(Je,{key:2,class:"mt-5 mx-5",type:"info",color:"gray-darken-3",text:"There are currently no auto macros!"})):(B(),te("div",da,[(B(!0),te(ne,null,Fe(e.getAutoMacros,g=>(B(),ee(f,{autoMacro:g},null,8,["autoMacro"]))),256))]))]),_:1})}const Va=gt(ra,[["render",va]]);export{Va as default};
