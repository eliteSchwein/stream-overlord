import{l as he,q as ke,s as K,g as we,p as Ce,aD as L,a2 as be,E as B,K as h,J as Pe,aE as _e,aF as Te,aG as g,aH as Fe,c as Be,ah as Ie,f as a,h as l,F as p,a3 as M,Z as Y,aI as Se,i as Re,a4 as De,P as U,Y as Ne,O as Ae,aJ as Ee,_ as Me,k,o as d,w as t,a5 as Z,a6 as z,D as H,C as Ue,y as I,aK as ze,aL as He,aM as Oe,t as S,v as Q,z as V,aq as Ge}from"./index-CTq_CXCA.js";import{n as $e}from"./no_obs-C_D82FvN.js";import{u as je,V as W,a as qe,m as Je,b as Ke,c as Le}from"./autofocus-BDqD03cD.js";import{a as Ye,V as X,m as Ze}from"./VLabel-BXHw4nj6.js";import{V as ee,a as te,c as ae,b as le}from"./VExpansionPanels-DypEblP4.js";import{V as ne}from"./VTable-7uuMGJNN.js";const Qe={data(){return{noObs:$e,backendConfigText:""}},mounted(){this.backendConfigText=this.getBackendConfig,this.backendConfigText===""&&K.$on("websocket:connected",()=>{setTimeout(()=>{this.backendConfigText=this.getBackendConfig},250)})},computed:{...he(ke,["getBackendConfig","getObsSceneData","getScene"])},methods:{saveConfig(){K.$emit("websocket:send",{method:"update_config",params:{data:this.backendConfigText}})}}},We=Ce({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Ke(),...Ze(),...Je()},"VTextarea"),Xe=we()({name:"VTextarea",directives:{vIntersect:L},inheritAttrs:!1,props:We(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,o){let{attrs:w,emit:C,slots:i}=o;const s=be(e,"modelValue"),{isFocused:u,focus:v,blur:oe}=Ye(e),{onIntersect:ue}=Le(e),se=B(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),ie=B(()=>{if(w.maxlength)return w.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),O=h(),b=h(),G=Pe(""),P=h(),_=je(e),re=B(()=>e.persistentPlaceholder||u.value||e.active);function R(){_.isSuppressing.value&&_.update(),P.value!==document.activeElement&&P.value?.focus(),u.value||v()}function de(n){R(),C("click:control",n)}function ce(n){C("mousedown:control",n)}function fe(n){n.stopPropagation(),R(),U(()=>{s.value="",Ee(e["onClick:clear"],n)})}function ve(n){const r=n.target;if(s.value=r.value,e.modelModifiers?.trim){const c=[r.selectionStart,r.selectionEnd];U(()=>{r.selectionStart=c[0],r.selectionEnd=c[1]})}}const m=h(),y=h(Number(e.rows)),D=B(()=>["plain","underlined"].includes(e.variant));_e(()=>{e.autoGrow||(y.value=Number(e.rows))});function x(){e.autoGrow&&U(()=>{if(!m.value||!b.value)return;const n=getComputedStyle(m.value),r=getComputedStyle(b.value.$el),c=parseFloat(n.getPropertyValue("--v-field-padding-top"))+parseFloat(n.getPropertyValue("--v-input-padding-top"))+parseFloat(n.getPropertyValue("--v-field-padding-bottom")),N=m.value.scrollHeight,F=parseFloat(n.lineHeight),A=Math.max(parseFloat(e.rows)*F+c,parseFloat(r.getPropertyValue("--v-input-control-height"))),E=parseFloat(e.maxRows)*F+c||1/0,f=Ae(N??0,A,E);y.value=Math.floor((f-c)/F),G.value=Ne(f)})}Te(x),g(s,x),g(()=>e.rows,x),g(()=>e.maxRows,x),g(()=>e.density,x),g(y,n=>{C("update:rows",n)});let T;return g(m,n=>{n?(T=new ResizeObserver(x),T.observe(m.value)):T?.disconnect()}),Fe(()=>{T?.disconnect()}),Be(()=>{const n=!!(i.counter||e.counter||e.counterValue),r=!!(n||i.details),[c,N]=Ie(w),{modelValue:F,...A}=X.filterProps(e),E={...W.filterProps(e),"onClick:clear":fe};return a(X,M({ref:O,modelValue:s.value,"onUpdate:modelValue":f=>s.value=f,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":D.value},e.class],style:e.style},c,A,{centerAffix:y.value===1&&!D.value,focused:u.value}),{...i,default:f=>{let{id:me,isDisabled:$,isDirty:j,isReadonly:xe,isValid:ge,hasDetails:Ve}=f;return a(W,M({ref:b,style:{"--v-textarea-control-height":G.value},onClick:de,onMousedown:ce,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},E,{id:me.value,active:re.value||j.value,centerAffix:y.value===1&&!D.value,dirty:j.value||e.dirty,disabled:$.value,focused:u.value,details:Ve.value,error:ge.value===!1}),{...i,default:pe=>{let{props:{class:q,...J}}=pe;return l(p,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[e.prefix]),Y(l("textarea",M({ref:P,class:q,value:s.value,onInput:ve,autofocus:e.autofocus,readonly:xe.value,disabled:$.value,placeholder:e.placeholder,rows:e.rows,name:_.fieldName.value,autocomplete:_.fieldAutocomplete.value,onFocus:R,onBlur:oe},J,N),null),[[L,{handler:ue},null,{once:!0}]]),e.autoGrow&&Y(l("textarea",{class:Re([q,"v-textarea__sizer"]),id:`${J.id}-sizer`,"onUpdate:modelValue":ye=>s.value=ye,ref:m,readonly:!0,"aria-hidden":"true"},null),[[Se,s.value]]),e.suffix&&l("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:r?f=>l(p,null,[i.details?.(f),n&&l(p,null,[l("span",null,null),a(qe,{active:e.persistentCounter||u.value,value:se.value,max:ie.value,disabled:e.disabled},i.counter)])]):void 0})}),De({},O,b,P)}}),et={key:0};function tt(e,o,w,C,i,s){return d(),k(H,{class:"overflow-auto mx-auto","max-height":"100%","max-width":"100%",elevation:"0",color:"transparent","min-height":"100%"},{default:t(()=>[a(Z,{class:"mx-3 my-2 mb-0 pb-0"},{default:t(()=>[a(z,{sm:"12",md:"8",xl:"10"},{default:t(()=>[a(Xe,{style:{"min-height":"calc(100vh - 90px)"},modelValue:i.backendConfigText,"onUpdate:modelValue":o[0]||(o[0]=u=>i.backendConfigText=u),variant:"outlined"},null,8,["modelValue"])]),_:1}),a(z,null,{default:t(()=>[a(H,{class:"px-4 py-3"},{default:t(()=>[a(Z,{"align-content":"center",justify:"center",align:"center",dense:""},{default:t(()=>[a(z,{cols:"12"},{default:t(()=>[a(Ue,{width:"100%","prepend-icon":"mdi-content-save",color:"grey-darken-3",variant:"flat",elevation:"0",onClick:s.saveConfig},{default:t(()=>[...o[1]||(o[1]=[I(" Save Config ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),a(H,{class:"mt-3",color:"transparent",elevation:"0"},{default:t(()=>[a(ze,{flat:"",density:"compact"},{default:t(()=>[a(He,{class:"d-flex align-center"},{default:t(()=>[...o[2]||(o[2]=[I(" OBS Scenes ",-1)])]),_:1})]),_:1}),a(Oe,{class:"pa-0"},{default:t(()=>[e.getScene?.background?(d(),S("div",et,[a(ee,{color:"grey-darken-4"},{default:t(()=>[(d(!0),S(p,null,Q(e.getObsSceneData,u=>(d(),k(te,{key:u.uuid||u.index},{default:t(()=>[a(ae,null,{default:t(()=>[I(V(u.name),1)]),_:2},1024),a(le,{class:"pa-0"},{default:t(()=>[a(ne,null,{default:t(()=>[l("tbody",null,[l("tr",null,[o[3]||(o[3]=l("td",null,"UUID",-1)),l("td",null,V(u.uuid),1)]),l("tr",null,[o[4]||(o[4]=l("td",null,"Index",-1)),l("td",null,V(u.index),1)])])]),_:2},1024),u.items===0?(d(),S(p,{key:0},[],64)):(d(),k(ee,{key:1,multiple:"",class:"mt-2"},{default:t(()=>[(d(!0),S(p,null,Q(u.items,v=>(d(),k(te,{color:"grey-darken-3",key:v.uuid||v.id},{default:t(()=>[a(ae,null,{default:t(()=>[I(V(v.name),1)]),_:2},1024),a(le,{class:"pa-0"},{default:t(()=>[a(ne,{class:"wrap-anywhere"},{default:t(()=>[l("tbody",null,[l("tr",null,[o[5]||(o[5]=l("td",null,"UUID",-1)),l("td",null,V(v.uuid),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"ID",-1)),l("td",null,V(v.id),1)])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(d(),k(Ge,{key:1,"aspect-ratio":"16/9",cover:"",src:i.noObs},null,8,["src"]))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const it=Me(Qe,[["render",tt]]);export{it as default};
