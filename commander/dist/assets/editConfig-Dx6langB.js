import{j as Ne,k as g,o as u,E as ve,F as ge,G as xe,aQ as pe,w as a,f as t,V as L,q as Q,l as m,b5 as Y,z as w,a9 as V,aS as E,t as h,i as n,aY as Re,aV as D,v as ie,g as He,p as Ie,b6 as re,H as Ae,a1 as A,an as F,al as $e,ak as De,am as Ee,aw as Ue,a2 as b,b7 as ze,e as Me,b8 as Oe,K as q,a4 as de,b9 as Ge,h as We,ay as K,aK as je,as as $,aq as qe,ba as Ke,aT as Le,aU as ce,A as Qe}from"./index-1bX9YTLH.js";import{n as Ye}from"./no_obs-C_D82FvN.js";import{b as J,V as X,c as Z,a as ee}from"./VExpansionPanels-BBaG8M07.js";import{V as te}from"./VTable-CuxbJdio.js";import{u as Je,V as fe,a as Xe,m as Ze,b as et,c as tt}from"./autofocus-DjNWWDXt.js";import{b as at,V as me,m as nt}from"./VLabel-DXP3rqni.js";const ye=Ne({__name:"CopyButton",props:["content"],setup(e){function l(x){navigator.clipboard.writeText(x)}return(x,p)=>(u(),g(ve,{icon:"mdi-content-copy",size:"x-small",onClick:p[0]||(p[0]=c=>l(e.content))}))}}),lt={data(){return{noObs:Ye}},computed:{...ge(xe,["getObsSceneData","getScene"])},methods:{}},ot={key:0};function ut(e,l,x,p,c,s){const f=ye;return u(),g(D,{color:"transparent",elevation:"0"},{default:a(()=>[t(L,{flat:"",density:"compact"},{default:a(()=>[t(Q,{class:"d-flex align-center"},{default:a(()=>[...l[0]||(l[0]=[m(" OBS Scenes ",-1)])]),_:1})]),_:1}),t(Y,{class:"pa-0"},{default:a(()=>[e.getScene?.background?(u(),w("div",ot,[t(J,{color:"grey-darken-4"},{default:a(()=>[(u(!0),w(V,null,E(e.getObsSceneData,r=>(u(),g(X,{key:r.uuid||r.index},{default:a(()=>[t(Z,null,{default:a(()=>[m(h(r.name),1)]),_:2},1024),t(ee,{class:"pa-0"},{default:a(()=>[t(te,null,{default:a(()=>[n("tbody",null,[n("tr",null,[l[1]||(l[1]=n("td",null,"UUID",-1)),n("td",null,[m(h(r.uuid)+" ",1),t(f,{content:r.uuid},null,8,["content"])])]),n("tr",null,[l[2]||(l[2]=n("td",null,"Index",-1)),n("td",null,[m(h(r.index)+" ",1),t(f,{content:r.index},null,8,["content"])])])])]),_:2},1024),r.items===0?(u(),w(V,{key:0},[],64)):(u(),g(J,{key:1,multiple:"",class:"mt-2"},{default:a(()=>[(u(!0),w(V,null,E(r.items,d=>(u(),g(X,{color:"grey-darken-3",key:d.uuid||d.id},{default:a(()=>[t(Z,null,{default:a(()=>[m(h(d.name),1)]),_:2},1024),t(ee,{class:"pa-0"},{default:a(()=>[t(te,{class:"wrap-anywhere"},{default:a(()=>[n("tbody",null,[n("tr",null,[l[3]||(l[3]=n("td",null,"UUID",-1)),n("td",null,[m(h(d.uuid)+" ",1),t(f,{content:d.uuid},null,8,["content"])])]),n("tr",null,[l[4]||(l[4]=n("td",null,"ID",-1)),n("td",null,[m(h(d.id)+" ",1),t(f,{content:d.id},null,8,["content"])])])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(u(),g(Re,{key:1,"aspect-ratio":"16/9",cover:"",src:c.noObs},null,8,["src"]))]),_:1})]),_:1})}const st=pe(lt,[["render",ut]]),it={data(){return{backendConfigText:"",voiceFilter:""}},mounted(){this.backendConfigText=this.getBackendConfig,this.backendConfigText===""&&ie.$on("websocket:connected",()=>{setTimeout(()=>{this.backendConfigText=this.getBackendConfig},250)})},computed:{...ge(xe,["getBackendConfig","getParsedBackendConfig","getObsSceneData","getVoices"])},methods:{saveConfig(){ie.$emit("websocket:send",{method:"update_config",params:{data:this.backendConfigText}})}}},rt=Ie({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxHeight:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...et(),...nt(),...Ze()},"VTextarea"),dt=He()({name:"VTextarea",directives:{vIntersect:re},inheritAttrs:!1,props:rt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,l){let{attrs:x,emit:p,slots:c}=l;const s=Ae(e,"modelValue"),{isFocused:f,focus:r,blur:d}=at(e),{onIntersect:U}=tt(e),N=A(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),he=A(()=>{if(x.maxlength)return x.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),ae=F(),R=F(),ne=$e(""),T=F(),z=F(0),{platform:Ve}=De(),H=Je(e),ke=A(()=>e.persistentPlaceholder||f.value||e.active);function M(){H.isSuppressing.value&&H.update(),T.value!==document.activeElement&&T.value?.focus(),f.value||r()}function Ce(o){M(),p("click:control",o)}function _e(o){p("mousedown:control",o)}function be(o){o.stopPropagation(),M(),$(()=>{s.value="",Ke(e["onClick:clear"],o)})}function we(o){const i=o.target;if(!e.modelModifiers?.trim){s.value=i.value;return}const v=i.value,P=i.selectionStart,C=i.selectionEnd;s.value=v,$(()=>{let _=0;v.trimStart().length===i.value.length&&(_=v.length-i.value.length),P!=null&&(i.selectionStart=P-_),C!=null&&(i.selectionEnd=C-_)})}const B=F(),S=F(Number(e.rows)),O=A(()=>["plain","underlined"].includes(e.variant));Ee(()=>{e.autoGrow||(S.value=Number(e.rows))});function k(){$(()=>{if(!T.value)return;if(Ve.value.firefox){z.value=12;return}const{offsetWidth:o,clientWidth:i}=T.value;z.value=Math.max(0,o-i)}),e.autoGrow&&$(()=>{if(!B.value||!R.value)return;const o=getComputedStyle(B.value),i=getComputedStyle(R.value.$el),v=parseFloat(o.getPropertyValue("--v-field-padding-top"))+parseFloat(o.getPropertyValue("--v-input-padding-top"))+parseFloat(o.getPropertyValue("--v-field-padding-bottom")),P=B.value.scrollHeight,C=parseFloat(o.lineHeight),_=Math.max(parseFloat(e.rows)*C+v,parseFloat(i.getPropertyValue("--v-input-control-height"))),G=e.maxHeight?parseFloat(e.maxHeight):parseFloat(e.maxRows)*C+v||1/0,y=qe(P??0,_,G);S.value=Math.floor((y-v)/C),ne.value=K(y)})}Ue(k),b(s,k),b(()=>e.rows,k),b(()=>e.maxHeight,k),b(()=>e.maxRows,k),b(()=>e.density,k),b(S,o=>{p("update:rows",o)});let I;return b(B,o=>{o?(I=new ResizeObserver(k),I.observe(B.value)):I?.disconnect()}),ze(()=>{I?.disconnect()}),Me(()=>{const o=!!(c.counter||e.counter||e.counterValue),i=!!(o||c.details),[v,P]=Oe(x),{modelValue:C,..._}=me.filterProps(e),G={...fe.filterProps(e),"onClick:clear":be};return t(me,q({ref:ae,modelValue:s.value,"onUpdate:modelValue":y=>s.value=y,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":O.value},e.class],style:[{"--v-textarea-max-height":e.maxHeight?K(e.maxHeight):void 0,"--v-textarea-scroll-bar-width":K(z.value)},e.style]},v,_,{centerAffix:S.value===1&&!O.value,focused:f.value}),{...c,default:y=>{let{id:W,isDisabled:le,isDirty:oe,isReadonly:Te,isValid:Be,hasDetails:Pe}=y;return t(fe,q({ref:R,style:{"--v-textarea-control-height":ne.value},onClick:Ce,onMousedown:_e,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},G,{id:W.value,active:ke.value||oe.value,labelId:`${W.value}-label`,centerAffix:S.value===1&&!O.value,dirty:oe.value||e.dirty,disabled:le.value,focused:f.value,details:Pe.value,error:Be.value===!1}),{...c,default:Fe=>{let{props:{class:ue,...se},controlRef:Se}=Fe;return n(V,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[e.prefix]),de(n("textarea",q({ref:j=>T.value=Se.value=j,class:ue,value:s.value,onInput:we,autofocus:e.autofocus,readonly:Te.value,disabled:le.value,placeholder:e.placeholder,rows:e.rows,name:H.fieldName.value,autocomplete:H.fieldAutocomplete.value,onFocus:M,onBlur:d,"aria-labelledby":`${W.value}-label`},se,P),null),[[re,{handler:U},null,{once:!0}]]),e.autoGrow&&de(n("textarea",{class:We([ue,"v-textarea__sizer"]),id:`${se.id}-sizer`,"onUpdate:modelValue":j=>s.value=j,ref:B,readonly:!0,"aria-hidden":"true"},null),[[Ge,s.value]]),e.suffix&&n("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:i?y=>n(V,null,[c.details?.(y),o&&n(V,null,[n("span",null,null),t(Xe,{active:e.persistentCounter||f.value,value:N.value,max:he.value,disabled:e.disabled},c.counter)])]):void 0})}),je({},ae,R,T)}});function ct(e,l,x,p,c,s){const f=st,r=ye;return u(),g(D,{class:"overflow-auto mx-auto","max-height":"100%","max-width":"100%",elevation:"0",color:"transparent","min-height":"100%"},{default:a(()=>[t(Le,{class:"mx-3 my-2 mb-0 pb-0"},{default:a(()=>[t(ce,{cols:"12",md:"8",xl:"10"},{default:a(()=>[t(D,{class:"sticky pa-0",color:"transparent",elevation:"0"},{default:a(()=>[t(L,{flat:"",density:"compact"},{default:a(()=>[t(Q,{class:"d-flex align-center"},{default:a(()=>[...l[1]||(l[1]=[m(" Bot Configuration ",-1)])]),_:1}),t(ve,{"prepend-icon":"mdi-content-save",color:"grey-darken-3",variant:"flat",elevation:"0",onClick:s.saveConfig},{default:a(()=>[...l[2]||(l[2]=[m(" Save Config ",-1)])]),_:1},8,["onClick"])]),_:1}),t(Y,{class:"pa-0"},{default:a(()=>[t(dt,{class:"my-0",style:{"min-height":"calc(100vh - 110px)"},modelValue:c.backendConfigText,"onUpdate:modelValue":l[0]||(l[0]=d=>c.backendConfigText=d),variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(ce,null,{default:a(()=>[e.getParsedBackendConfig?.obs?.ip?(u(),g(f,{key:0})):Qe("",!0),t(D,{class:"mt-3",color:"transparent",elevation:"0"},{default:a(()=>[t(L,{flat:"",density:"compact"},{default:a(()=>[t(Q,{class:"d-flex align-center"},{default:a(()=>[...l[3]||(l[3]=[m(" Available Voices ",-1)])]),_:1})]),_:1}),t(Y,{class:"pa-0"},{default:a(()=>[t(J,{color:"grey-darken-4"},{default:a(()=>[(u(!0),w(V,null,E(e.getVoices,(d,U)=>(u(),g(X,null,{default:a(()=>[t(Z,null,{default:a(()=>[m(h(U),1)]),_:2},1024),t(ee,{class:"pa-0"},{default:a(()=>[t(te,{class:"wrap-anywhere"},{default:a(()=>[n("tbody",null,[(u(!0),w(V,null,E(d,N=>(u(),w("tr",null,[n("td",null,[m(h(N)+" ",1),t(r,{content:N},null,8,["content"])])]))),256))])]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const yt=pe(it,[["render",ct]]);export{yt as default};
