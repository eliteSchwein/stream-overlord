import{j as Ne,k as g,o as u,E as me,F as ve,G as ge,aV as xe,w as a,f as t,V as q,q as K,l as m,bl as L,z as b,ai as V,aX as E,t as h,i as n,b9 as Re,a_ as $,v as se,g as He,p as Ae,bm as ie,H as De,S as D,at as F,R as Ie,P as $e,as as Ee,aB as ze,X as w,bn as Me,e as Oe,bc as Ue,K as j,ad as re,bo as Ge,h as We,aD as X,aP as je,ay as I,aw as Xe,bp as qe,aY as Ke,aZ as de,A as Le}from"./index-DRRS9uqE.js";import{n as Ye}from"./no_obs-C_D82FvN.js";import{b as Y,V as Z,c as J,a as Q}from"./VExpansionPanels-D6LlfjW6.js";import{V as ee}from"./VTable-Dud5FQWd.js";import{u as Ze,V as ce,a as Je,m as Qe,b as et,c as tt}from"./autofocus-DRqDUBIO.js";import{a as at,V as fe,m as nt}from"./VLabel-Cm1C5vTk.js";const pe=Ne({__name:"CopyButton",props:["content"],setup(e){function l(x){navigator.clipboard.writeText(x)}return(x,p)=>(u(),g(me,{icon:"mdi-content-copy",size:"x-small",onClick:p[0]||(p[0]=c=>l(e.content))}))}}),lt={data(){return{noObs:Ye}},computed:{...ve(ge,["getObsSceneData","getScene"])},methods:{}},ot={key:0};function ut(e,l,x,p,c,s){const f=pe;return u(),g($,{color:"transparent",elevation:"0"},{default:a(()=>[t(q,{flat:"",density:"compact"},{default:a(()=>[t(K,{class:"d-flex align-center"},{default:a(()=>[...l[0]||(l[0]=[m(" OBS Scenes ",-1)])]),_:1})]),_:1}),t(L,{class:"pa-0"},{default:a(()=>[e.getScene?.background?(u(),b("div",ot,[t(Y,{color:"grey-darken-4"},{default:a(()=>[(u(!0),b(V,null,E(e.getObsSceneData,r=>(u(),g(Z,{key:r.uuid||r.index},{default:a(()=>[t(J,null,{default:a(()=>[m(h(r.name),1)]),_:2},1024),t(Q,{class:"pa-0"},{default:a(()=>[t(ee,null,{default:a(()=>[n("tbody",null,[n("tr",null,[l[1]||(l[1]=n("td",null,"UUID",-1)),n("td",null,[m(h(r.uuid)+" ",1),t(f,{content:r.uuid},null,8,["content"])])]),n("tr",null,[l[2]||(l[2]=n("td",null,"Index",-1)),n("td",null,[m(h(r.index)+" ",1),t(f,{content:r.index},null,8,["content"])])])])]),_:2},1024),r.items===0?(u(),b(V,{key:0},[],64)):(u(),g(Y,{key:1,multiple:"",class:"mt-2"},{default:a(()=>[(u(!0),b(V,null,E(r.items,d=>(u(),g(Z,{color:"grey-darken-3",key:d.uuid||d.id},{default:a(()=>[t(J,null,{default:a(()=>[m(h(d.name),1)]),_:2},1024),t(Q,{class:"pa-0"},{default:a(()=>[t(ee,{class:"wrap-anywhere"},{default:a(()=>[n("tbody",null,[n("tr",null,[l[3]||(l[3]=n("td",null,"UUID",-1)),n("td",null,[m(h(d.uuid)+" ",1),t(f,{content:d.uuid},null,8,["content"])])]),n("tr",null,[l[4]||(l[4]=n("td",null,"ID",-1)),n("td",null,[m(h(d.id)+" ",1),t(f,{content:d.id},null,8,["content"])])])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(u(),g(Re,{key:1,"aspect-ratio":"16/9",cover:"",src:c.noObs},null,8,["src"]))]),_:1})]),_:1})}const st=xe(lt,[["render",ut]]),it={data(){return{backendConfigText:"",voiceFilter:""}},mounted(){this.backendConfigText=this.getBackendConfig,this.backendConfigText===""&&se.$on("websocket:connected",()=>{setTimeout(()=>{this.backendConfigText=this.getBackendConfig},250)})},computed:{...ve(ge,["getBackendConfig","getParsedBackendConfig","getObsSceneData","getVoices"])},methods:{saveConfig(){se.$emit("websocket:send",{method:"update_config",params:{data:this.backendConfigText}})}}},rt=Ae({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxHeight:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...et(),...nt(),...Qe()},"VTextarea"),dt=He()({name:"VTextarea",directives:{vIntersect:ie},inheritAttrs:!1,props:rt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,l){let{attrs:x,emit:p,slots:c}=l;const s=De(e,"modelValue"),{isFocused:f,focus:r,blur:d}=at(e),{onIntersect:z}=tt(e),N=D(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),ye=D(()=>{if(x.maxlength)return x.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),te=F(),R=F(),ae=Ie(""),P=F(),M=F(0),{platform:he}=$e(),H=Ze(e),Ve=D(()=>e.persistentPlaceholder||f.value||e.active);function O(){H.isSuppressing.value&&H.update(),P.value!==document.activeElement&&P.value?.focus(),f.value||r()}function Ce(o){O(),p("click:control",o)}function ke(o){p("mousedown:control",o)}function _e(o){o.stopPropagation(),O(),I(()=>{s.value="",qe(e["onClick:clear"],o)})}function we(o){const i=o.target;if(!e.modelModifiers?.trim){s.value=i.value;return}const v=i.value,T=i.selectionStart,k=i.selectionEnd;s.value=v,I(()=>{let _=0;v.trimStart().length===i.value.length&&(_=v.length-i.value.length),T!=null&&(i.selectionStart=T-_),k!=null&&(i.selectionEnd=k-_)})}const B=F(),S=F(Number(e.rows)),U=D(()=>["plain","underlined"].includes(e.variant));Ee(()=>{e.autoGrow||(S.value=Number(e.rows))});function C(){I(()=>{if(!P.value)return;if(he.value.firefox){M.value=12;return}const{offsetWidth:o,clientWidth:i}=P.value;M.value=Math.max(0,o-i)}),e.autoGrow&&I(()=>{if(!B.value||!R.value)return;const o=getComputedStyle(B.value),i=getComputedStyle(R.value.$el),v=parseFloat(o.getPropertyValue("--v-field-padding-top"))+parseFloat(o.getPropertyValue("--v-input-padding-top"))+parseFloat(o.getPropertyValue("--v-field-padding-bottom")),T=B.value.scrollHeight,k=parseFloat(o.lineHeight),_=Math.max(parseFloat(e.rows)*k+v,parseFloat(i.getPropertyValue("--v-input-control-height"))),G=e.maxHeight?parseFloat(e.maxHeight):parseFloat(e.maxRows)*k+v||1/0,y=Xe(T??0,_,G);S.value=Math.floor((y-v)/k),ae.value=X(y)})}ze(C),w(s,C),w(()=>e.rows,C),w(()=>e.maxHeight,C),w(()=>e.maxRows,C),w(()=>e.density,C),w(S,o=>{p("update:rows",o)});let A;return w(B,o=>{o?(A=new ResizeObserver(C),A.observe(B.value)):A?.disconnect()}),Me(()=>{A?.disconnect()}),Oe(()=>{const o=!!(c.counter||e.counter||e.counterValue),i=!!(o||c.details),[v,T]=Ue(x),{modelValue:k,..._}=fe.filterProps(e),G={...ce.filterProps(e),"onClick:clear":_e};return t(fe,j({ref:te,modelValue:s.value,"onUpdate:modelValue":y=>s.value=y,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":U.value},e.class],style:[{"--v-textarea-max-height":e.maxHeight?X(e.maxHeight):void 0,"--v-textarea-scroll-bar-width":X(M.value)},e.style]},v,_,{centerAffix:S.value===1&&!U.value,focused:f.value}),{...c,default:y=>{let{id:be,isDisabled:ne,isDirty:le,isReadonly:Pe,isValid:Be,hasDetails:Te}=y;return t(ce,j({ref:R,style:{"--v-textarea-control-height":ae.value},onClick:Ce,onMousedown:ke,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},G,{id:be.value,active:Ve.value||le.value,centerAffix:S.value===1&&!U.value,dirty:le.value||e.dirty,disabled:ne.value,focused:f.value,details:Te.value,error:Be.value===!1}),{...c,default:Fe=>{let{props:{class:oe,...ue},controlRef:Se}=Fe;return n(V,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[e.prefix]),re(n("textarea",j({ref:W=>P.value=Se.value=W,class:oe,value:s.value,onInput:we,autofocus:e.autofocus,readonly:Pe.value,disabled:ne.value,placeholder:e.placeholder,rows:e.rows,name:H.fieldName.value,autocomplete:H.fieldAutocomplete.value,onFocus:O,onBlur:d},ue,T),null),[[ie,{handler:z},null,{once:!0}]]),e.autoGrow&&re(n("textarea",{class:We([oe,"v-textarea__sizer"]),id:`${ue.id}-sizer`,"onUpdate:modelValue":W=>s.value=W,ref:B,readonly:!0,"aria-hidden":"true"},null),[[Ge,s.value]]),e.suffix&&n("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:i?y=>n(V,null,[c.details?.(y),o&&n(V,null,[n("span",null,null),t(Je,{active:e.persistentCounter||f.value,value:N.value,max:ye.value,disabled:e.disabled},c.counter)])]):void 0})}),je({},te,R,P)}});function ct(e,l,x,p,c,s){const f=st,r=pe;return u(),g($,{class:"overflow-auto mx-auto","max-height":"100%","max-width":"100%",elevation:"0",color:"transparent","min-height":"100%"},{default:a(()=>[t(Ke,{class:"mx-3 my-2 mb-0 pb-0"},{default:a(()=>[t(de,{cols:"12",md:"8",xl:"10"},{default:a(()=>[t($,{class:"sticky pa-0",color:"transparent",elevation:"0"},{default:a(()=>[t(q,{flat:"",density:"compact"},{default:a(()=>[t(K,{class:"d-flex align-center"},{default:a(()=>[...l[1]||(l[1]=[m(" Bot Configuration ",-1)])]),_:1}),t(me,{"prepend-icon":"mdi-content-save",color:"grey-darken-3",variant:"flat",elevation:"0",onClick:s.saveConfig},{default:a(()=>[...l[2]||(l[2]=[m(" Save Config ",-1)])]),_:1},8,["onClick"])]),_:1}),t(L,{class:"pa-0"},{default:a(()=>[t(dt,{class:"my-0",style:{"min-height":"calc(100vh - 110px)"},modelValue:c.backendConfigText,"onUpdate:modelValue":l[0]||(l[0]=d=>c.backendConfigText=d),variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(de,null,{default:a(()=>[e.getParsedBackendConfig?.obs?.ip?(u(),g(f,{key:0})):Le("",!0),t($,{class:"mt-3",color:"transparent",elevation:"0"},{default:a(()=>[t(q,{flat:"",density:"compact"},{default:a(()=>[t(K,{class:"d-flex align-center"},{default:a(()=>[...l[3]||(l[3]=[m(" Available Voices ",-1)])]),_:1})]),_:1}),t(L,{class:"pa-0"},{default:a(()=>[t(Y,{color:"grey-darken-4"},{default:a(()=>[(u(!0),b(V,null,E(e.getVoices,(d,z)=>(u(),g(Z,null,{default:a(()=>[t(J,null,{default:a(()=>[m(h(z),1)]),_:2},1024),t(Q,{class:"pa-0"},{default:a(()=>[t(ee,{class:"wrap-anywhere"},{default:a(()=>[n("tbody",null,[(u(!0),b(V,null,E(d,N=>(u(),b("tr",null,[n("td",null,[m(h(N)+" ",1),t(r,{content:N},null,8,["content"])])]))),256))])]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const yt=xe(it,[["render",ct]]);export{yt as default};
