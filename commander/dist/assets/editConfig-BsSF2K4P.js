import{j as Te,k as w,o as s,E as fe,F as Be,G as Fe,v as oe,g as Re,p as Se,bl as ue,H as Ie,S as A,at as _,R as Ae,P as De,as as Ne,aB as Ee,X as P,bm as ze,c as Me,bc as Ue,f as t,h as l,ai as p,K as W,ad as se,bn as He,i as Oe,aD as ie,aP as Ge,ay as D,aw as $e,bo as We,aV as je,w as a,aY as Xe,aZ as re,a_ as N,V as j,q as X,l as r,bp as q,z as k,aX as E,t as g,b9 as qe}from"./index-C3yONpiV.js";import{n as Ke}from"./no_obs-C_D82FvN.js";import{u as Le,V as de,a as Ye,m as Ze,b as Je,c as Qe}from"./autofocus-CNv8mz02.js";import{a as et,V as ce,m as tt}from"./VLabel-BsEJr4Lf.js";import{b as K,V as L,c as Y,a as Z}from"./VExpansionPanels-1nlLxRkJ.js";import{V as J}from"./VTable-DMpcC8-L.js";const at=Te({__name:"CopyButton",props:["content"],setup(e){function n(y){navigator.clipboard.writeText(y)}return(y,V)=>(s(),w(fe,{icon:"mdi-content-copy",size:"x-small",onClick:V[0]||(V[0]=d=>n(e.content))}))}}),lt={data(){return{noObs:Ke,backendConfigText:"",voiceFilter:""}},mounted(){this.backendConfigText=this.getBackendConfig,this.backendConfigText===""&&oe.$on("websocket:connected",()=>{setTimeout(()=>{this.backendConfigText=this.getBackendConfig},250)})},computed:{...Be(Fe,["getBackendConfig","getObsSceneData","getScene","getVoices"])},methods:{saveConfig(){oe.$emit("websocket:send",{method:"update_config",params:{data:this.backendConfigText}})}}},nt=Se({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Je(),...tt(),...Ze()},"VTextarea"),ot=Re()({name:"VTextarea",directives:{vIntersect:ue},inheritAttrs:!1,props:nt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,n){let{attrs:y,emit:V,slots:d}=n;const i=Ie(e,"modelValue"),{isFocused:c,focus:u,blur:f}=et(e),{onIntersect:B}=Qe(e),ve=A(()=>typeof e.counterValue=="function"?e.counterValue(i.value):(i.value||"").toString().length),me=A(()=>{if(y.maxlength)return y.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),Q=_(),F=_(),ee=Ae(""),C=_(),z=_(0),{platform:xe}=De(),R=Le(e),ge=A(()=>e.persistentPlaceholder||c.value||e.active);function M(){R.isSuppressing.value&&R.update(),C.value!==document.activeElement&&C.value?.focus(),c.value||u()}function pe(o){M(),V("click:control",o)}function ye(o){V("mousedown:control",o)}function Ve(o){o.stopPropagation(),M(),D(()=>{i.value="",We(e["onClick:clear"],o)})}function ke(o){const v=o.target;if(i.value=v.value,e.modelModifiers?.trim){const m=[v.selectionStart,v.selectionEnd];D(()=>{v.selectionStart=m[0],v.selectionEnd=m[1]})}}const h=_(),T=_(Number(e.rows)),U=A(()=>["plain","underlined"].includes(e.variant));Ne(()=>{e.autoGrow||(T.value=Number(e.rows))});function b(){D(()=>{if(!C.value)return;if(xe.value.firefox){z.value=12;return}const{offsetWidth:o,clientWidth:v}=C.value;z.value=Math.max(0,o-v)}),e.autoGrow&&D(()=>{if(!h.value||!F.value)return;const o=getComputedStyle(h.value),v=getComputedStyle(F.value.$el),m=parseFloat(o.getPropertyValue("--v-field-padding-top"))+parseFloat(o.getPropertyValue("--v-input-padding-top"))+parseFloat(o.getPropertyValue("--v-field-padding-bottom")),H=h.value.scrollHeight,I=parseFloat(o.lineHeight),O=Math.max(parseFloat(e.rows)*I+m,parseFloat(v.getPropertyValue("--v-input-control-height"))),G=parseFloat(e.maxRows)*I+m||1/0,x=$e(H??0,O,G);T.value=Math.floor((x-m)/I),ee.value=ie(x)})}Ee(b),P(i,b),P(()=>e.rows,b),P(()=>e.maxRows,b),P(()=>e.density,b),P(T,o=>{V("update:rows",o)});let S;return P(h,o=>{o?(S=new ResizeObserver(b),S.observe(h.value)):S?.disconnect()}),ze(()=>{S?.disconnect()}),Me(()=>{const o=!!(d.counter||e.counter||e.counterValue),v=!!(o||d.details),[m,H]=Ue(y),{modelValue:I,...O}=ce.filterProps(e),G={...de.filterProps(e),"onClick:clear":Ve};return t(ce,W({ref:Q,modelValue:i.value,"onUpdate:modelValue":x=>i.value=x,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":U.value},e.class],style:[{"--v-textarea-scroll-bar-width":ie(z.value)},e.style]},m,O,{centerAffix:T.value===1&&!U.value,focused:c.value}),{...d,default:x=>{let{id:we,isDisabled:te,isDirty:ae,isReadonly:Ce,isValid:he,hasDetails:be}=x;return t(de,W({ref:F,style:{"--v-textarea-control-height":ee.value},onClick:pe,onMousedown:ye,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},G,{id:we.value,active:ge.value||ae.value,centerAffix:T.value===1&&!U.value,dirty:ae.value||e.dirty,disabled:te.value,focused:c.value,details:be.value,error:he.value===!1}),{...d,default:_e=>{let{props:{class:le,...ne},controlRef:Pe}=_e;return l(p,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[e.prefix]),se(l("textarea",W({ref:$=>C.value=Pe.value=$,class:le,value:i.value,onInput:ke,autofocus:e.autofocus,readonly:Ce.value,disabled:te.value,placeholder:e.placeholder,rows:e.rows,name:R.fieldName.value,autocomplete:R.fieldAutocomplete.value,onFocus:M,onBlur:f},ne,H),null),[[ue,{handler:B},null,{once:!0}]]),e.autoGrow&&se(l("textarea",{class:Oe([le,"v-textarea__sizer"]),id:`${ne.id}-sizer`,"onUpdate:modelValue":$=>i.value=$,ref:h,readonly:!0,"aria-hidden":"true"},null),[[He,i.value]]),e.suffix&&l("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:v?x=>l(p,null,[d.details?.(x),o&&l(p,null,[l("span",null,null),t(Ye,{active:e.persistentCounter||c.value,value:ve.value,max:me.value,disabled:e.disabled},d.counter)])]):void 0})}),Ge({},Q,F,C)}}),ut={key:0};function st(e,n,y,V,d,i){const c=at;return s(),w(N,{class:"overflow-auto mx-auto","max-height":"100%","max-width":"100%",elevation:"0",color:"transparent","min-height":"100%"},{default:a(()=>[t(Xe,{class:"mx-3 my-2 mb-0 pb-0"},{default:a(()=>[t(re,{cols:"12",md:"8",xl:"10"},{default:a(()=>[t(N,{class:"sticky pa-0",color:"transparent",elevation:"0"},{default:a(()=>[t(j,{flat:"",density:"compact"},{default:a(()=>[t(X,{class:"d-flex align-center"},{default:a(()=>[...n[1]||(n[1]=[r(" Bot Configuration ",-1)])]),_:1}),t(fe,{"prepend-icon":"mdi-content-save",color:"grey-darken-3",variant:"flat",elevation:"0",onClick:i.saveConfig},{default:a(()=>[...n[2]||(n[2]=[r(" Save Config ",-1)])]),_:1},8,["onClick"])]),_:1}),t(q,{class:"pa-0"},{default:a(()=>[t(ot,{class:"my-0",style:{"min-height":"calc(100vh - 110px)"},modelValue:d.backendConfigText,"onUpdate:modelValue":n[0]||(n[0]=u=>d.backendConfigText=u),variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(re,null,{default:a(()=>[t(N,{color:"transparent",elevation:"0"},{default:a(()=>[t(j,{flat:"",density:"compact"},{default:a(()=>[t(X,{class:"d-flex align-center"},{default:a(()=>[...n[3]||(n[3]=[r(" OBS Scenes ",-1)])]),_:1})]),_:1}),t(q,{class:"pa-0"},{default:a(()=>[e.getScene?.background?(s(),k("div",ut,[t(K,{color:"grey-darken-4"},{default:a(()=>[(s(!0),k(p,null,E(e.getObsSceneData,u=>(s(),w(L,{key:u.uuid||u.index},{default:a(()=>[t(Y,null,{default:a(()=>[r(g(u.name),1)]),_:2},1024),t(Z,{class:"pa-0"},{default:a(()=>[t(J,null,{default:a(()=>[l("tbody",null,[l("tr",null,[n[4]||(n[4]=l("td",null,"UUID",-1)),l("td",null,[r(g(u.uuid)+" ",1),t(c,{content:u.uuid},null,8,["content"])])]),l("tr",null,[n[5]||(n[5]=l("td",null,"Index",-1)),l("td",null,[r(g(u.index)+" ",1),t(c,{content:u.index},null,8,["content"])])])])]),_:2},1024),u.items===0?(s(),k(p,{key:0},[],64)):(s(),w(K,{key:1,multiple:"",class:"mt-2"},{default:a(()=>[(s(!0),k(p,null,E(u.items,f=>(s(),w(L,{color:"grey-darken-3",key:f.uuid||f.id},{default:a(()=>[t(Y,null,{default:a(()=>[r(g(f.name),1)]),_:2},1024),t(Z,{class:"pa-0"},{default:a(()=>[t(J,{class:"wrap-anywhere"},{default:a(()=>[l("tbody",null,[l("tr",null,[n[6]||(n[6]=l("td",null,"UUID",-1)),l("td",null,[r(g(f.uuid)+" ",1),t(c,{content:f.uuid},null,8,["content"])])]),l("tr",null,[n[7]||(n[7]=l("td",null,"ID",-1)),l("td",null,[r(g(f.id)+" ",1),t(c,{content:f.id},null,8,["content"])])])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(s(),w(qe,{key:1,"aspect-ratio":"16/9",cover:"",src:d.noObs},null,8,["src"]))]),_:1})]),_:1}),t(N,{class:"mt-3",color:"transparent",elevation:"0"},{default:a(()=>[t(j,{flat:"",density:"compact"},{default:a(()=>[t(X,{class:"d-flex align-center"},{default:a(()=>[...n[8]||(n[8]=[r(" Available Voices ",-1)])]),_:1})]),_:1}),t(q,{class:"pa-0"},{default:a(()=>[t(K,{color:"grey-darken-4"},{default:a(()=>[(s(!0),k(p,null,E(e.getVoices,(u,f)=>(s(),w(L,null,{default:a(()=>[t(Y,null,{default:a(()=>[r(g(f),1)]),_:2},1024),t(Z,{class:"pa-0"},{default:a(()=>[t(J,{class:"wrap-anywhere"},{default:a(()=>[l("tbody",null,[(s(!0),k(p,null,E(u,B=>(s(),k("tr",null,[l("td",null,[r(g(B)+" ",1),t(c,{content:B},null,8,["content"])])]))),256))])]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const mt=je(lt,[["render",st]]);export{mt as default};
