import{u as ee,V as R,a as te,m as le,b as ae,c as ne}from"./autofocus-DRqDUBIO.js";import{a as ue,V as B,m as oe}from"./VLabel-Cm1C5vTk.js";import{g as se,p as ie,bm as D,H as re,S as v,at as g,e as ce,bc as de,f as h,i as a,ai as y,K as b,J as fe,ad as ve,h as me,br as xe,aP as Ve,ay as P,bp as ge}from"./index-DRRS9uqE.js";const he=["color","file","time","date","datetime-local","week","month"],ye=ie({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...ae(),...oe(),...le()},"VTextField"),Fe=se()({name:"VTextField",directives:{vIntersect:D},inheritAttrs:!1,props:ye(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,T){let{attrs:m,emit:C,slots:n}=T;const u=re(e,"modelValue"),{isFocused:o,focus:F,blur:M}=ue(e),{onIntersect:E}=ne(e),z=v(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),O=v(()=>{if(m.maxlength)return m.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),k=v(()=>["plain","underlined"].includes(e.variant)),_=g(),S=g(),s=g(),d=ee(e),U=v(()=>he.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function A(){d.isSuppressing.value&&d.update(),o.value||F(),P(()=>{s.value!==document.activeElement&&s.value?.focus()})}function j(t){C("mousedown:control",t),t.target!==s.value&&(A(),t.preventDefault())}function H(t){C("click:control",t)}function J(t,l){t.stopPropagation(),A(),P(()=>{l(),ge(e["onClick:clear"],t)})}function K(t){const l=t.target;if(!(e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type))){u.value=l.value;return}const i=l.value,f=l.selectionStart,x=l.selectionEnd;u.value=i,P(()=>{let r=0;i.trimStart().length===l.value.length&&(r=i.length-l.value.length),f!=null&&(l.selectionStart=f-r),x!=null&&(l.selectionEnd=x-r)})}return ce(()=>{const t=!!(n.counter||e.counter!==!1&&e.counter!=null),l=!!(t||n.details),[i,f]=de(m),{modelValue:x,...r}=B.filterProps(e),q=R.filterProps(e);return h(B,b({ref:_,modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":k.value},e.class],style:e.style},i,r,{centerAffix:!k.value,focused:o.value}),{...n,default:c=>{let{id:G,isDisabled:I,isDirty:p,isReadonly:L,isValid:Q,hasDetails:W,reset:X}=c;return h(R,b({ref:S,onMousedown:j,onClick:H,"onClick:clear":V=>J(V,X),role:e.role},fe(q,["onClick:clear"]),{id:G.value,active:U.value||p.value,dirty:p.value||e.dirty,disabled:I.value,focused:o.value,details:W.value,error:Q.value===!1}),{...n,default:V=>{let{props:{class:w,...Y},controlRef:Z}=V;const N=a("input",b({ref:$=>s.value=Z.value=$,value:u.value,onInput:K,autofocus:e.autofocus,readonly:L.value,disabled:I.value,name:d.fieldName.value,autocomplete:d.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:F,onBlur:M},Y,f),null);return a(y,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[a("span",{class:"v-text-field__prefix__text"},[e.prefix])]),ve(n.default?a("div",{class:me(w),"data-no-activator":""},[n.default(),N]):xe(N,{class:w}),[[D,E,null,{once:!0}]]),e.suffix&&a("span",{class:"v-text-field__suffix"},[a("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:l?c=>a(y,null,[n.details?.(c),t&&a(y,null,[a("span",null,null),h(te,{active:e.persistentCounter||o.value,value:z.value,max:O.value,disabled:e.disabled},n.counter)])]):void 0})}),Ve({},_,S,s)}});export{Fe as V,ye as m};
