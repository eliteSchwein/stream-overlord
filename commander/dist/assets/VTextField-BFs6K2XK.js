import{u as $,V as w,a as ee,m as te,b as le,c as ae}from"./autofocus-CNv8mz02.js";import{a as ne,V as p,m as ue}from"./VLabel-BsEJr4Lf.js";import{g as oe,p as ie,bl as N,H as se,S as d,at as m,c as ce,bc as re,f as x,h as l,ai as V,K as y,J as de,ad as fe,br as ve,i as me,aP as xe,ay as g,bo as Ve}from"./index-C3yONpiV.js";const ye=["color","file","time","date","datetime-local","week","month"],ge=ie({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...le(),...ue(),...te()},"VTextField"),Fe=oe()({name:"VTextField",directives:{vIntersect:N},inheritAttrs:!1,props:ge(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,R){let{attrs:f,emit:h,slots:n}=R;const u=se(e,"modelValue"),{isFocused:o,focus:P,blur:B}=ne(e),{onIntersect:D}=ae(e),T=d(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),M=d(()=>{if(f.maxlength)return f.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),b=d(()=>["plain","underlined"].includes(e.variant)),C=m(),F=m(),i=m(),c=$(e),E=d(()=>ye.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function k(){c.isSuppressing.value&&c.update(),o.value||P(),g(()=>{i.value!==document.activeElement&&i.value?.focus()})}function z(t){h("mousedown:control",t),t.target!==i.value&&(k(),t.preventDefault())}function O(t){h("click:control",t)}function U(t,a){t.stopPropagation(),k(),g(()=>{a(),Ve(e["onClick:clear"],t)})}function j(t){const a=t.target;if(u.value=a.value,e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type)){const r=[a.selectionStart,a.selectionEnd];g(()=>{a.selectionStart=r[0],a.selectionEnd=r[1]})}}return ce(()=>{const t=!!(n.counter||e.counter!==!1&&e.counter!=null),a=!!(t||n.details),[r,H]=re(f),{modelValue:he,...J}=p.filterProps(e),K=w.filterProps(e);return x(p,y({ref:C,modelValue:u.value,"onUpdate:modelValue":s=>u.value=s,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":b.value},e.class],style:e.style},r,J,{centerAffix:!b.value,focused:o.value}),{...n,default:s=>{let{id:q,isDisabled:_,isDirty:S,isReadonly:G,isValid:L,hasDetails:Q,reset:W}=s;return x(w,y({ref:F,onMousedown:z,onClick:O,"onClick:clear":v=>U(v,W),role:e.role},de(K,["onClick:clear"]),{id:q.value,active:E.value||S.value,dirty:S.value||e.dirty,disabled:_.value,focused:o.value,details:Q.value,error:L.value===!1}),{...n,default:v=>{let{props:{class:A,...X},controlRef:Y}=v;const I=fe(l("input",y({ref:Z=>i.value=Y.value=Z,value:u.value,onInput:j,autofocus:e.autofocus,readonly:G.value,disabled:_.value,name:c.fieldName.value,autocomplete:c.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:P,onBlur:B},X,H),null),[[N,{handler:D},null,{once:!0}]]);return l(V,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),n.default?l("div",{class:me(A),"data-no-activator":""},[n.default(),I]):ve(I,{class:A}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:a?s=>l(V,null,[n.details?.(s),t&&l(V,null,[l("span",null,null),x(ee,{active:e.persistentCounter||o.value,value:T.value,max:M.value,disabled:e.disabled},n.counter)])]):void 0})}),xe({},C,F,i)}});export{Fe as V,ge as m};
