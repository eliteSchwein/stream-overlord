import{j as Ne,k as g,o as u,E as me,F as ve,G as ge,aQ as xe,w as a,f as t,V as K,q as L,l as m,b5 as Q,z as b,a9 as V,aS as E,t as h,i as n,aY as Re,aV as $,v as se,g as He,p as Ae,b6 as ie,H as Ie,a1 as I,an as F,al as De,ak as $e,am as Ee,aw as Ue,a2 as w,b7 as ze,e as Me,b8 as Oe,K as j,a4 as re,b9 as Ge,h as We,ay as q,aK as je,as as D,aq as qe,ba as Ke,aT as Le,aU as de,A as Qe}from"./index-CPUvBS3t.js";import{n as Ye}from"./no_obs-C_D82FvN.js";import{b as Y,V as J,c as X,a as Z}from"./VExpansionPanels-DD3xRlYl.js";import{V as ee}from"./VTable-CD-PjeR_.js";import{u as Je,V as ce,a as Xe,m as Ze,b as et,c as tt}from"./autofocus-k-Yi7OWb.js";import{a as at,V as fe,m as nt}from"./VLabel-CHyrzUcq.js";const pe=Ne({__name:"CopyButton",props:["content"],setup(e){function l(x){navigator.clipboard.writeText(x)}return(x,p)=>(u(),g(me,{icon:"mdi-content-copy",size:"x-small",onClick:p[0]||(p[0]=c=>l(e.content))}))}}),lt={data(){return{noObs:Ye}},computed:{...ve(ge,["getObsSceneData","getScene"])},methods:{}},ot={key:0};function ut(e,l,x,p,c,s){const f=pe;return u(),g($,{color:"transparent",elevation:"0"},{default:a(()=>[t(K,{flat:"",density:"compact"},{default:a(()=>[t(L,{class:"d-flex align-center"},{default:a(()=>[...l[0]||(l[0]=[m(" OBS Scenes ",-1)])]),_:1})]),_:1}),t(Q,{class:"pa-0"},{default:a(()=>[e.getScene?.background?(u(),b("div",ot,[t(Y,{color:"grey-darken-4"},{default:a(()=>[(u(!0),b(V,null,E(e.getObsSceneData,r=>(u(),g(J,{key:r.uuid||r.index},{default:a(()=>[t(X,null,{default:a(()=>[m(h(r.name),1)]),_:2},1024),t(Z,{class:"pa-0"},{default:a(()=>[t(ee,null,{default:a(()=>[n("tbody",null,[n("tr",null,[l[1]||(l[1]=n("td",null,"UUID",-1)),n("td",null,[m(h(r.uuid)+" ",1),t(f,{content:r.uuid},null,8,["content"])])]),n("tr",null,[l[2]||(l[2]=n("td",null,"Index",-1)),n("td",null,[m(h(r.index)+" ",1),t(f,{content:r.index},null,8,["content"])])])])]),_:2},1024),r.items===0?(u(),b(V,{key:0},[],64)):(u(),g(Y,{key:1,multiple:"",class:"mt-2"},{default:a(()=>[(u(!0),b(V,null,E(r.items,d=>(u(),g(J,{color:"grey-darken-3",key:d.uuid||d.id},{default:a(()=>[t(X,null,{default:a(()=>[m(h(d.name),1)]),_:2},1024),t(Z,{class:"pa-0"},{default:a(()=>[t(ee,{class:"wrap-anywhere"},{default:a(()=>[n("tbody",null,[n("tr",null,[l[3]||(l[3]=n("td",null,"UUID",-1)),n("td",null,[m(h(d.uuid)+" ",1),t(f,{content:d.uuid},null,8,["content"])])]),n("tr",null,[l[4]||(l[4]=n("td",null,"ID",-1)),n("td",null,[m(h(d.id)+" ",1),t(f,{content:d.id},null,8,["content"])])])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(u(),g(Re,{key:1,"aspect-ratio":"16/9",cover:"",src:c.noObs},null,8,["src"]))]),_:1})]),_:1})}const st=xe(lt,[["render",ut]]),it={data(){return{backendConfigText:"",voiceFilter:""}},mounted(){this.backendConfigText=this.getBackendConfig,this.backendConfigText===""&&se.$on("websocket:connected",()=>{setTimeout(()=>{this.backendConfigText=this.getBackendConfig},250)})},computed:{...ve(ge,["getBackendConfig","getParsedBackendConfig","getObsSceneData","getVoices"])},methods:{saveConfig(){se.$emit("websocket:send",{method:"update_config",params:{data:this.backendConfigText}})}}},rt=Ae({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxHeight:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...et(),...nt(),...Ze()},"VTextarea"),dt=He()({name:"VTextarea",directives:{vIntersect:ie},inheritAttrs:!1,props:rt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,l){let{attrs:x,emit:p,slots:c}=l;const s=Ie(e,"modelValue"),{isFocused:f,focus:r,blur:d}=at(e),{onIntersect:U}=tt(e),N=I(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),ye=I(()=>{if(x.maxlength)return x.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),te=F(),R=F(),ae=De(""),T=F(),z=F(0),{platform:he}=$e(),H=Je(e),Ve=I(()=>e.persistentPlaceholder||f.value||e.active);function M(){H.isSuppressing.value&&H.update(),T.value!==document.activeElement&&T.value?.focus(),f.value||r()}function ke(o){M(),p("click:control",o)}function Ce(o){p("mousedown:control",o)}function _e(o){o.stopPropagation(),M(),D(()=>{s.value="",Ke(e["onClick:clear"],o)})}function we(o){const i=o.target;if(!e.modelModifiers?.trim){s.value=i.value;return}const v=i.value,P=i.selectionStart,C=i.selectionEnd;s.value=v,D(()=>{let _=0;v.trimStart().length===i.value.length&&(_=v.length-i.value.length),P!=null&&(i.selectionStart=P-_),C!=null&&(i.selectionEnd=C-_)})}const B=F(),S=F(Number(e.rows)),O=I(()=>["plain","underlined"].includes(e.variant));Ee(()=>{e.autoGrow||(S.value=Number(e.rows))});function k(){D(()=>{if(!T.value)return;if(he.value.firefox){z.value=12;return}const{offsetWidth:o,clientWidth:i}=T.value;z.value=Math.max(0,o-i)}),e.autoGrow&&D(()=>{if(!B.value||!R.value)return;const o=getComputedStyle(B.value),i=getComputedStyle(R.value.$el),v=parseFloat(o.getPropertyValue("--v-field-padding-top"))+parseFloat(o.getPropertyValue("--v-input-padding-top"))+parseFloat(o.getPropertyValue("--v-field-padding-bottom")),P=B.value.scrollHeight,C=parseFloat(o.lineHeight),_=Math.max(parseFloat(e.rows)*C+v,parseFloat(i.getPropertyValue("--v-input-control-height"))),G=e.maxHeight?parseFloat(e.maxHeight):parseFloat(e.maxRows)*C+v||1/0,y=qe(P??0,_,G);S.value=Math.floor((y-v)/C),ae.value=q(y)})}Ue(k),w(s,k),w(()=>e.rows,k),w(()=>e.maxHeight,k),w(()=>e.maxRows,k),w(()=>e.density,k),w(S,o=>{p("update:rows",o)});let A;return w(B,o=>{o?(A=new ResizeObserver(k),A.observe(B.value)):A?.disconnect()}),ze(()=>{A?.disconnect()}),Me(()=>{const o=!!(c.counter||e.counter||e.counterValue),i=!!(o||c.details),[v,P]=Oe(x),{modelValue:C,..._}=fe.filterProps(e),G={...ce.filterProps(e),"onClick:clear":_e};return t(fe,j({ref:te,modelValue:s.value,"onUpdate:modelValue":y=>s.value=y,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":O.value},e.class],style:[{"--v-textarea-max-height":e.maxHeight?q(e.maxHeight):void 0,"--v-textarea-scroll-bar-width":q(z.value)},e.style]},v,_,{centerAffix:S.value===1&&!O.value,focused:f.value}),{...c,default:y=>{let{id:be,isDisabled:ne,isDirty:le,isReadonly:Te,isValid:Be,hasDetails:Pe}=y;return t(ce,j({ref:R,style:{"--v-textarea-control-height":ae.value},onClick:ke,onMousedown:Ce,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},G,{id:be.value,active:Ve.value||le.value,centerAffix:S.value===1&&!O.value,dirty:le.value||e.dirty,disabled:ne.value,focused:f.value,details:Pe.value,error:Be.value===!1}),{...c,default:Fe=>{let{props:{class:oe,...ue},controlRef:Se}=Fe;return n(V,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[e.prefix]),re(n("textarea",j({ref:W=>T.value=Se.value=W,class:oe,value:s.value,onInput:we,autofocus:e.autofocus,readonly:Te.value,disabled:ne.value,placeholder:e.placeholder,rows:e.rows,name:H.fieldName.value,autocomplete:H.fieldAutocomplete.value,onFocus:M,onBlur:d},ue,P),null),[[ie,{handler:U},null,{once:!0}]]),e.autoGrow&&re(n("textarea",{class:We([oe,"v-textarea__sizer"]),id:`${ue.id}-sizer`,"onUpdate:modelValue":W=>s.value=W,ref:B,readonly:!0,"aria-hidden":"true"},null),[[Ge,s.value]]),e.suffix&&n("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:i?y=>n(V,null,[c.details?.(y),o&&n(V,null,[n("span",null,null),t(Xe,{active:e.persistentCounter||f.value,value:N.value,max:ye.value,disabled:e.disabled},c.counter)])]):void 0})}),je({},te,R,T)}});function ct(e,l,x,p,c,s){const f=st,r=pe;return u(),g($,{class:"overflow-auto mx-auto","max-height":"100%","max-width":"100%",elevation:"0",color:"transparent","min-height":"100%"},{default:a(()=>[t(Le,{class:"mx-3 my-2 mb-0 pb-0"},{default:a(()=>[t(de,{cols:"12",md:"8",xl:"10"},{default:a(()=>[t($,{class:"sticky pa-0",color:"transparent",elevation:"0"},{default:a(()=>[t(K,{flat:"",density:"compact"},{default:a(()=>[t(L,{class:"d-flex align-center"},{default:a(()=>[...l[1]||(l[1]=[m(" Bot Configuration ",-1)])]),_:1}),t(me,{"prepend-icon":"mdi-content-save",color:"grey-darken-3",variant:"flat",elevation:"0",onClick:s.saveConfig},{default:a(()=>[...l[2]||(l[2]=[m(" Save Config ",-1)])]),_:1},8,["onClick"])]),_:1}),t(Q,{class:"pa-0"},{default:a(()=>[t(dt,{class:"my-0",style:{"min-height":"calc(100vh - 110px)"},modelValue:c.backendConfigText,"onUpdate:modelValue":l[0]||(l[0]=d=>c.backendConfigText=d),variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(de,null,{default:a(()=>[e.getParsedBackendConfig?.obs?.ip?(u(),g(f,{key:0})):Qe("",!0),t($,{class:"mt-3",color:"transparent",elevation:"0"},{default:a(()=>[t(K,{flat:"",density:"compact"},{default:a(()=>[t(L,{class:"d-flex align-center"},{default:a(()=>[...l[3]||(l[3]=[m(" Available Voices ",-1)])]),_:1})]),_:1}),t(Q,{class:"pa-0"},{default:a(()=>[t(Y,{color:"grey-darken-4"},{default:a(()=>[(u(!0),b(V,null,E(e.getVoices,(d,U)=>(u(),g(J,null,{default:a(()=>[t(X,null,{default:a(()=>[m(h(U),1)]),_:2},1024),t(Z,{class:"pa-0"},{default:a(()=>[t(ee,{class:"wrap-anywhere"},{default:a(()=>[n("tbody",null,[(u(!0),b(V,null,E(d,N=>(u(),b("tr",null,[n("td",null,[m(h(N)+" ",1),t(r,{content:N},null,8,["content"])])]))),256))])]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const yt=xe(it,[["render",ct]]);export{yt as default};
