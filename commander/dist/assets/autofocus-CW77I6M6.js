import{g as T,p as P,d as A,e as n,a2 as K,a7 as Q,i as l,K as c,n as S,f as F,bk as de,aL as ue,b as E,bl as ce,Q as ve,bm as fe,Y as be,bn as me,az as X,bc as ge,bo as ye,a0 as Ce,bp as he,an as w,bq as Ie,br as _e,ay as ke,bs as xe,a3 as y,a6 as Ve,a5 as Se,a8 as Fe,J as Pe,N as Be,ad as Le,bt as we,ai as R,L as $,bu as Re,am as $e}from"./index-CMnZYNil.js";import{c as Te,d as Ae,b as Ee,a as De}from"./VLabel-CvYR2ZRu.js";const Ne=P({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...E(),...ue({transition:{component:ce}})},"VCounter"),We=T()({name:"VCounter",functional:!0,props:Ne(),setup(e,i){let{slots:t}=i;const s=c(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return A(()=>n(de,{transition:e.transition},{default:()=>[K(l("div",{class:F(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:S(e.style)},[t.default?t.default({counter:s.value,max:e.max,value:e.value}):s.value]),[[Q,e.active]])]})),{}}}),qe=P({floating:Boolean,...E()},"VFieldLabel"),V=T()({name:"VFieldLabel",props:qe(),setup(e,i){let{slots:t}=i;return A(()=>n(Te,{class:F(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:S(e.style)},t)),{}}}),Me=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Oe=P({appendInnerIcon:$,bgColor:String,clearable:Boolean,clearIcon:{type:$,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:$,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Me.includes(e)},"onClick:clear":R(),"onClick:appendInner":R(),"onClick:prependInner":R(),...E(),...we(),...Le(),...Be()},"VField"),Ye=T()({name:"VField",inheritAttrs:!1,props:{id:String,details:Boolean,labelId:String,...Ae(),...Oe()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,i){let{attrs:t,emit:s,slots:a}=i;const{themeClasses:C}=ve(e),{loaderClasses:j}=fe(e),{focusClasses:G,isFocused:B,focus:h,blur:I}=Ee(e),{InputIcon:L}=De(e),{roundedClasses:H}=be(e),{rtlClasses:Z}=me(),r=c(()=>e.dirty||e.active),D=c(()=>!!(e.label||a.label)),m=c(()=>!e.singleLine&&D.value),p=X(),d=y(()=>e.id||`input-${p}`),N=c(()=>e.details?`${d.value}-messages`:void 0),q=w(),_=w(),M=w(),O=y(()=>["plain","underlined"].includes(e.variant)),z=y(()=>e.error||e.disabled?void 0:r.value&&B.value?e.color:e.baseColor),k=y(()=>{if(!(!e.iconColor||e.glow&&!B.value))return e.iconColor===!0?z.value:e.iconColor}),{backgroundColorClasses:ee,backgroundColorStyles:ae}=ge(()=>e.bgColor),{textColorClasses:U,textColorStyles:W}=ye(z);Ce(r,b=>{if(m.value&&!he()){const u=q.value.$el,v=_.value.$el;requestAnimationFrame(()=>{const f=Ie(u),o=v.getBoundingClientRect(),x=o.x-f.x,ne=o.y-f.y-(f.height/2-o.height/2),Y=o.width/.75,te=Math.abs(Y-f.width)>1?{maxWidth:ke(Y)}:void 0,oe=getComputedStyle(u),J=getComputedStyle(v),ie=parseFloat(oe.transitionDuration)*1e3||150,se=parseFloat(J.getPropertyValue("--v-field-label-scale")),re=J.getPropertyValue("color");u.style.visibility="visible",v.style.visibility="hidden",_e(u,{transform:`translate(${x}px, ${ne}px) scale(${se})`,color:re,...te},{duration:ie,easing:Re,direction:b?"normal":"reverse"}).finished.then(()=>{u.style.removeProperty("visibility"),v.style.removeProperty("visibility")})})}},{flush:"post"});const g=y(()=>({isActive:r,isFocused:B,controlRef:M,iconColor:k,blur:I,focus:h}));function le(b){b.target!==document.activeElement&&b.preventDefault()}return A(()=>{const b=e.variant==="outlined",u=!!(a["prepend-inner"]||e.prependInnerIcon),v=!!(e.clearable||a.clear)&&!e.disabled,f=!!(a["append-inner"]||e.appendInnerIcon||v),o=()=>a.label?a.label({...g.value,label:e.label,props:{for:d.value}}):e.label;return l("div",Pe({class:["v-field",{"v-field--active":r.value,"v-field--appended":f,"v-field--center-affix":e.centerAffix??!O.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":u,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!o(),[`v-field--variant-${e.variant}`]:!0},C.value,ee.value,G.value,j.value,H.value,Z.value,e.class],style:[ae.value,e.style],onClick:le},t),[l("div",{class:"v-field__overlay"},null),n(xe,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:a.loader}),u&&l("div",{key:"prepend",class:"v-field__prepend-inner"},[a["prepend-inner"]?a["prepend-inner"](g.value):e.prependInnerIcon&&n(L,{key:"prepend-icon",name:"prependInner",color:k.value},null)]),l("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&m.value&&n(V,{key:"floating-label",ref:_,class:F([U.value]),floating:!0,for:d.value,"aria-hidden":!r.value,style:S(W.value)},{default:()=>[o()]}),D.value&&n(V,{key:"label",ref:q,id:e.labelId,for:d.value,"aria-hidden":m.value&&r.value},{default:()=>[o()]}),a.default?.({...g.value,props:{id:d.value,class:"v-field__input","aria-describedby":N.value},focus:h,blur:I})??l("div",{id:d.value,class:"v-field__input","aria-describedby":N.value},null)]),v&&n(Se,{key:"clear"},{default:()=>[K(l("div",{class:"v-field__clearable",onMousedown:x=>{x.preventDefault(),x.stopPropagation()}},[n(Ve,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[a.clear?a.clear({...g.value,props:{onFocus:h,onBlur:I,onClick:e["onClick:clear"],tabindex:-1}}):n(L,{name:"clear",onFocus:h,onBlur:I,tabindex:-1},null)]})]),[[Q,e.dirty]])]}),f&&l("div",{key:"append",class:"v-field__append-inner"},[a["append-inner"]?a["append-inner"](g.value):e.appendInnerIcon&&n(L,{key:"append-icon",name:"appendInner",color:k.value},null)]),l("div",{class:F(["v-field__outline",U.value]),style:S(W.value)},[b&&l(Fe,null,[l("div",{class:"v-field__outline__start"},null),m.value&&l("div",{class:"v-field__outline__notch"},[n(V,{ref:_,floating:!0,for:d.value,"aria-hidden":!r.value},{default:()=>[o()]})]),l("div",{class:"v-field__outline__end"},null)]),O.value&&m.value&&n(V,{ref:_,floating:!0,for:d.value,"aria-hidden":!r.value},{default:()=>[o()]})])])}),{controlRef:M,fieldIconColor:k}}}),Je=P({autocomplete:String},"autocomplete");function Ke(e){const i=X(),t=$e(0),s=c(()=>e.autocomplete==="suppress"),a=c(()=>{if(e.name)return s.value?`${e.name}-${i}-${t.value}`:e.name}),C=c(()=>s.value?"off":e.autocomplete);return{isSuppressing:s,fieldAutocomplete:C,fieldName:a,update:()=>t.value=new Date().getTime()}}function Qe(e){function i(t,s){if(!e.autofocus||!t)return;const a=s[0].target;(a.matches("input,textarea")?a:a.querySelector("input,textarea"))?.focus()}return{onIntersect:i}}export{Ye as V,We as a,Je as b,Qe as c,Oe as m,Ke as u};
