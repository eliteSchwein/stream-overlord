import{j as Te,k as C,o as s,E as fe,F as Be,G as Fe,v as oe,g as Ie,p as Re,aH as ue,a7 as Se,K as N,P as b,O as Ne,aI as Ae,aJ as De,aK as Ee,aL as P,aM as Me,c as Ue,ap as ze,f as t,h as l,H as p,a8 as W,a3 as se,aN as He,i as Oe,a2 as ie,a9 as Ge,U as A,T as $e,aO as We,_ as je,w as a,aa as Je,ab as re,J as D,V as j,q as J,l as r,aP as K,z as k,I as E,t as g,af as Ke}from"./index-P1JqXk7P.js";import{n as Le}from"./no_obs-C_D82FvN.js";import{u as qe,V as de,a as Qe,m as Xe,b as Ye,c as Ze}from"./autofocus-C273dlEM.js";import{a as et,V as ce,m as tt}from"./VLabel-DS5Aqf9B.js";import{b as L,V as q,c as Q,a as X}from"./VExpansionPanels-DxUC-0eN.js";import{V as Y}from"./VTable-C0SaCkXB.js";const at=Te({__name:"CopyButton",props:["content"],setup(e){function n(y){navigator.clipboard.writeText(y)}return(y,V)=>(s(),C(fe,{icon:"mdi-content-copy",size:"x-small",onClick:V[0]||(V[0]=d=>n(e.content))}))}}),lt={data(){return{noObs:Le,backendConfigText:"",voiceFilter:""}},mounted(){this.backendConfigText=this.getBackendConfig,this.backendConfigText===""&&oe.$on("websocket:connected",()=>{setTimeout(()=>{this.backendConfigText=this.getBackendConfig},250)})},computed:{...Be(Fe,["getBackendConfig","getObsSceneData","getScene","getVoices"])},methods:{saveConfig(){oe.$emit("websocket:send",{method:"update_config",params:{data:this.backendConfigText}})}}},nt=Re({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Ye(),...tt(),...Xe()},"VTextarea"),ot=Ie()({name:"VTextarea",directives:{vIntersect:ue},inheritAttrs:!1,props:nt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,n){let{attrs:y,emit:V,slots:d}=n;const i=Se(e,"modelValue"),{isFocused:c,focus:u,blur:f}=et(e),{onIntersect:B}=Ze(e),ve=N(()=>typeof e.counterValue=="function"?e.counterValue(i.value):(i.value||"").toString().length),me=N(()=>{if(y.maxlength)return y.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),Z=b(),F=b(),ee=Ne(""),w=b(),M=b(0),{platform:xe}=Ae(),I=qe(e),ge=N(()=>e.persistentPlaceholder||c.value||e.active);function U(){I.isSuppressing.value&&I.update(),w.value!==document.activeElement&&w.value?.focus(),c.value||u()}function pe(o){U(),V("click:control",o)}function ye(o){V("mousedown:control",o)}function Ve(o){o.stopPropagation(),U(),A(()=>{i.value="",We(e["onClick:clear"],o)})}function ke(o){const v=o.target;if(i.value=v.value,e.modelModifiers?.trim){const m=[v.selectionStart,v.selectionEnd];A(()=>{v.selectionStart=m[0],v.selectionEnd=m[1]})}}const h=b(),T=b(Number(e.rows)),z=N(()=>["plain","underlined"].includes(e.variant));De(()=>{e.autoGrow||(T.value=Number(e.rows))});function _(){A(()=>{if(!w.value)return;if(xe.value.firefox){M.value=12;return}const{offsetWidth:o,clientWidth:v}=w.value;M.value=Math.max(0,o-v)}),e.autoGrow&&A(()=>{if(!h.value||!F.value)return;const o=getComputedStyle(h.value),v=getComputedStyle(F.value.$el),m=parseFloat(o.getPropertyValue("--v-field-padding-top"))+parseFloat(o.getPropertyValue("--v-input-padding-top"))+parseFloat(o.getPropertyValue("--v-field-padding-bottom")),H=h.value.scrollHeight,S=parseFloat(o.lineHeight),O=Math.max(parseFloat(e.rows)*S+m,parseFloat(v.getPropertyValue("--v-input-control-height"))),G=parseFloat(e.maxRows)*S+m||1/0,x=$e(H??0,O,G);T.value=Math.floor((x-m)/S),ee.value=ie(x)})}Ee(_),P(i,_),P(()=>e.rows,_),P(()=>e.maxRows,_),P(()=>e.density,_),P(T,o=>{V("update:rows",o)});let R;return P(h,o=>{o?(R=new ResizeObserver(_),R.observe(h.value)):R?.disconnect()}),Me(()=>{R?.disconnect()}),Ue(()=>{const o=!!(d.counter||e.counter||e.counterValue),v=!!(o||d.details),[m,H]=ze(y),{modelValue:S,...O}=ce.filterProps(e),G={...de.filterProps(e),"onClick:clear":Ve};return t(ce,W({ref:Z,modelValue:i.value,"onUpdate:modelValue":x=>i.value=x,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":z.value},e.class],style:[{"--v-textarea-scroll-bar-width":ie(M.value)},e.style]},m,O,{centerAffix:T.value===1&&!z.value,focused:c.value}),{...d,default:x=>{let{id:Ce,isDisabled:te,isDirty:ae,isReadonly:we,isValid:he,hasDetails:_e}=x;return t(de,W({ref:F,style:{"--v-textarea-control-height":ee.value},onClick:pe,onMousedown:ye,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},G,{id:Ce.value,active:ge.value||ae.value,centerAffix:T.value===1&&!z.value,dirty:ae.value||e.dirty,disabled:te.value,focused:c.value,details:_e.value,error:he.value===!1}),{...d,default:be=>{let{props:{class:le,...ne},controlRef:Pe}=be;return l(p,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[e.prefix]),se(l("textarea",W({ref:$=>w.value=Pe.value=$,class:le,value:i.value,onInput:ke,autofocus:e.autofocus,readonly:we.value,disabled:te.value,placeholder:e.placeholder,rows:e.rows,name:I.fieldName.value,autocomplete:I.fieldAutocomplete.value,onFocus:U,onBlur:f},ne,H),null),[[ue,{handler:B},null,{once:!0}]]),e.autoGrow&&se(l("textarea",{class:Oe([le,"v-textarea__sizer"]),id:`${ne.id}-sizer`,"onUpdate:modelValue":$=>i.value=$,ref:h,readonly:!0,"aria-hidden":"true"},null),[[He,i.value]]),e.suffix&&l("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:v?x=>l(p,null,[d.details?.(x),o&&l(p,null,[l("span",null,null),t(Qe,{active:e.persistentCounter||c.value,value:ve.value,max:me.value,disabled:e.disabled},d.counter)])]):void 0})}),Ge({},Z,F,w)}}),ut={key:0};function st(e,n,y,V,d,i){const c=at;return s(),C(D,{class:"overflow-auto mx-auto","max-height":"100%","max-width":"100%",elevation:"0",color:"transparent","min-height":"100%"},{default:a(()=>[t(Je,{class:"mx-3 my-2 mb-0 pb-0"},{default:a(()=>[t(re,{cols:"12",md:"8",xl:"10"},{default:a(()=>[t(D,{class:"sticky pa-0",color:"transparent",elevation:"0"},{default:a(()=>[t(j,{flat:"",density:"compact"},{default:a(()=>[t(J,{class:"d-flex align-center"},{default:a(()=>[...n[1]||(n[1]=[r(" Bot Configuration ",-1)])]),_:1}),t(fe,{"prepend-icon":"mdi-content-save",color:"grey-darken-3",variant:"flat",elevation:"0",onClick:i.saveConfig},{default:a(()=>[...n[2]||(n[2]=[r(" Save Config ",-1)])]),_:1},8,["onClick"])]),_:1}),t(K,{class:"pa-0"},{default:a(()=>[t(ot,{class:"my-0",style:{"min-height":"calc(100vh - 110px)"},modelValue:d.backendConfigText,"onUpdate:modelValue":n[0]||(n[0]=u=>d.backendConfigText=u),variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(re,null,{default:a(()=>[t(D,{color:"transparent",elevation:"0"},{default:a(()=>[t(j,{flat:"",density:"compact"},{default:a(()=>[t(J,{class:"d-flex align-center"},{default:a(()=>[...n[3]||(n[3]=[r(" OBS Scenes ",-1)])]),_:1})]),_:1}),t(K,{class:"pa-0"},{default:a(()=>[e.getScene?.background?(s(),k("div",ut,[t(L,{color:"grey-darken-4"},{default:a(()=>[(s(!0),k(p,null,E(e.getObsSceneData,u=>(s(),C(q,{key:u.uuid||u.index},{default:a(()=>[t(Q,null,{default:a(()=>[r(g(u.name),1)]),_:2},1024),t(X,{class:"pa-0"},{default:a(()=>[t(Y,null,{default:a(()=>[l("tbody",null,[l("tr",null,[n[4]||(n[4]=l("td",null,"UUID",-1)),l("td",null,[r(g(u.uuid)+" ",1),t(c,{content:u.uuid},null,8,["content"])])]),l("tr",null,[n[5]||(n[5]=l("td",null,"Index",-1)),l("td",null,[r(g(u.index)+" ",1),t(c,{content:u.index},null,8,["content"])])])])]),_:2},1024),u.items===0?(s(),k(p,{key:0},[],64)):(s(),C(L,{key:1,multiple:"",class:"mt-2"},{default:a(()=>[(s(!0),k(p,null,E(u.items,f=>(s(),C(q,{color:"grey-darken-3",key:f.uuid||f.id},{default:a(()=>[t(Q,null,{default:a(()=>[r(g(f.name),1)]),_:2},1024),t(X,{class:"pa-0"},{default:a(()=>[t(Y,{class:"wrap-anywhere"},{default:a(()=>[l("tbody",null,[l("tr",null,[n[6]||(n[6]=l("td",null,"UUID",-1)),l("td",null,[r(g(f.uuid)+" ",1),t(c,{content:f.uuid},null,8,["content"])])]),l("tr",null,[n[7]||(n[7]=l("td",null,"ID",-1)),l("td",null,[r(g(f.id)+" ",1),t(c,{content:f.id},null,8,["content"])])])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(s(),C(Ke,{key:1,"aspect-ratio":"16/9",cover:"",src:d.noObs},null,8,["src"]))]),_:1})]),_:1}),t(D,{class:"mt-3",color:"transparent",elevation:"0"},{default:a(()=>[t(j,{flat:"",density:"compact"},{default:a(()=>[t(J,{class:"d-flex align-center"},{default:a(()=>[...n[8]||(n[8]=[r(" Available Voices ",-1)])]),_:1})]),_:1}),t(K,{class:"pa-0"},{default:a(()=>[t(L,{color:"grey-darken-4"},{default:a(()=>[(s(!0),k(p,null,E(e.getVoices,(u,f)=>(s(),C(q,null,{default:a(()=>[t(Q,null,{default:a(()=>[r(g(f),1)]),_:2},1024),t(X,{class:"pa-0"},{default:a(()=>[t(Y,{class:"wrap-anywhere"},{default:a(()=>[l("tbody",null,[(s(!0),k(p,null,E(u,B=>(s(),k("tr",null,[l("td",null,[r(g(B)+" ",1),t(c,{content:B},null,8,["content"])])]))),256))])]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const mt=je(lt,[["render",st]]);export{mt as default};
