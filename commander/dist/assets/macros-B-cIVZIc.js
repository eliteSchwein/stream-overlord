import{F as p,G as h,bC as w,aV as f,k as c,o as e,w as a,f as n,h as t,z as d,ai as _,aX as g,t as l,l as b,E as C,bb as M,aY as k,a_ as B}from"./index-C3yONpiV.js";import{a as E,V as S,b as T}from"./VExpansionPanels-1nlLxRkJ.js";import{V as $}from"./VTable-DMpcC8-L.js";const v={props:["macro","name"],data(){return{loading:!1,icon:"mdi-play",color:""}},computed:{...p(h,["getRestApi"])},methods:{async triggerMacro(){this.loading||this.color!==""||(this.loading=!0,await fetch(`${this.getRestApi}/api/macro`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({macro:this.name})}),this.loading=!1,this.color="success",this.icon="mdi-check",await w(2500),this.color="",this.icon="mdi-play")}}};function N(u,r,i,x,s,m){return e(),c(S,null,{title:a(()=>[t("div",null,[n(C,{loading:s.loading,onClick:M(m.triggerMacro,["stop"]),icon:s.icon,color:s.color,class:"mr-2",size:"small",density:"compact",variant:"plain"},null,8,["loading","onClick","icon","color"]),b(" "+l(i.name),1)])]),default:a(()=>[n(E,{class:"pa-0"},{default:a(()=>[n($,null,{default:a(()=>[r[0]||(r[0]=t("thead",null,[t("tr",null,[t("th",{class:"text-left",style:{width:"220px"}}," Channel "),t("th",{class:"text-left",style:{width:"220px"}}," Method "),t("th",{class:"text-left"}," Data ")])],-1)),t("tbody",null,[(e(!0),d(_,null,g(i.macro.tasks,o=>(e(),d("tr",null,[t("td",null,l(o.channel),1),t("td",null,l(o.method),1),t("td",null,l(o.data),1)]))),256))])]),_:1})]),_:1})]),_:1})}const P=f(v,[["render",N]]),A={computed:{...p(h,["getMacros"])}};function R(u,r,i,x,s,m){const o=P;return e(),c(B,{class:"overflow-auto mx-auto","max-height":"100%",elevation:"0",color:"transparent","max-width":"100%"},{default:a(()=>[n(k,{class:"mx-3 my-2"},{default:a(()=>[n(T,null,{default:a(()=>[(e(!0),d(_,null,g(u.getMacros,(V,y)=>(e(),c(o,{macro:V,name:y},null,8,["macro","name"]))),256))]),_:1})]),_:1})]),_:1})}const O=f(A,[["render",R]]);export{O as default};
