import{l as we,q as ye,s as Ce,g as he,p as ke,aB as K,a2 as be,E as T,K as p,J as Pe,aC as _e,aD as Fe,aE as x,aF as Te,c as Be,af as Ie,f as t,h as a,F as y,a3 as A,Z as q,aG as Se,i as Re,a4 as De,P as E,Y as Ne,O as Ae,aH as Ee,_ as Ue,k as U,o as w,w as l,D as z,C as ze,y as B,aI as He,aJ as Me,aK as Ge,t as L,v as Y,z as g}from"./index-B8pMCw4K.js";import{V as Z,a as H}from"./VRow-DGIugjzE.js";import{u as Oe,V as Q,a as $e,m as je,b as Je,c as Ke}from"./autofocus-VPdK2-E7.js";import{a as qe,V as W,m as Le}from"./VLabel-D5RxWwWc.js";import{V as X,a as ee,c as te,b as ae}from"./VExpansionPanels-BCriTNnA.js";import{V as le}from"./VTable-Bt8YVkwe.js";const Ye={data(){return{backendConfigText:""}},mounted(){this.backendConfigText=this.getBackendConfig},computed:{...we(ye,["getBackendConfig","getObsSceneData"])},methods:{saveConfig(){Ce.$emit("websocket:send",{method:"update_config",params:{data:this.backendConfigText}})}}},Ze=ke({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Je(),...Le(),...je()},"VTextarea"),Qe=he()({name:"VTextarea",directives:{vIntersect:K},inheritAttrs:!1,props:Ze(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,o){let{attrs:C,emit:h,slots:i}=o;const s=be(e,"modelValue"),{isFocused:u,focus:f,blur:ne}=qe(e),{onIntersect:oe}=Ke(e),ue=T(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),se=T(()=>{if(C.maxlength)return C.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),M=p(),k=p(),G=Pe(""),b=p(),P=Oe(e),ie=T(()=>e.persistentPlaceholder||u.value||e.active);function I(){P.isSuppressing.value&&P.update(),b.value!==document.activeElement&&b.value?.focus(),u.value||f()}function re(n){I(),h("click:control",n)}function de(n){h("mousedown:control",n)}function ce(n){n.stopPropagation(),I(),E(()=>{s.value="",Ee(e["onClick:clear"],n)})}function fe(n){const r=n.target;if(s.value=r.value,e.modelModifiers?.trim){const d=[r.selectionStart,r.selectionEnd];E(()=>{r.selectionStart=d[0],r.selectionEnd=d[1]})}}const v=p(),V=p(Number(e.rows)),S=T(()=>["plain","underlined"].includes(e.variant));_e(()=>{e.autoGrow||(V.value=Number(e.rows))});function m(){e.autoGrow&&E(()=>{if(!v.value||!k.value)return;const n=getComputedStyle(v.value),r=getComputedStyle(k.value.$el),d=parseFloat(n.getPropertyValue("--v-field-padding-top"))+parseFloat(n.getPropertyValue("--v-input-padding-top"))+parseFloat(n.getPropertyValue("--v-field-padding-bottom")),R=v.value.scrollHeight,F=parseFloat(n.lineHeight),D=Math.max(parseFloat(e.rows)*F+d,parseFloat(r.getPropertyValue("--v-input-control-height"))),N=parseFloat(e.maxRows)*F+d||1/0,c=Ae(R??0,D,N);V.value=Math.floor((c-d)/F),G.value=Ne(c)})}Fe(m),x(s,m),x(()=>e.rows,m),x(()=>e.maxRows,m),x(()=>e.density,m),x(V,n=>{h("update:rows",n)});let _;return x(v,n=>{n?(_=new ResizeObserver(m),_.observe(v.value)):_?.disconnect()}),Te(()=>{_?.disconnect()}),Be(()=>{const n=!!(i.counter||e.counter||e.counterValue),r=!!(n||i.details),[d,R]=Ie(C),{modelValue:F,...D}=W.filterProps(e),N={...Q.filterProps(e),"onClick:clear":ce};return t(W,A({ref:M,modelValue:s.value,"onUpdate:modelValue":c=>s.value=c,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":S.value},e.class],style:e.style},d,D,{centerAffix:V.value===1&&!S.value,focused:u.value}),{...i,default:c=>{let{id:ve,isDisabled:O,isDirty:$,isReadonly:me,isValid:xe,hasDetails:ge}=c;return t(Q,A({ref:k,style:{"--v-textarea-control-height":G.value},onClick:re,onMousedown:de,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},N,{id:ve.value,active:ie.value||$.value,centerAffix:V.value===1&&!S.value,dirty:$.value||e.dirty,disabled:O.value,focused:u.value,details:ge.value,error:xe.value===!1}),{...i,default:Ve=>{let{props:{class:j,...J}}=Ve;return a(y,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[e.prefix]),q(a("textarea",A({ref:b,class:j,value:s.value,onInput:fe,autofocus:e.autofocus,readonly:me.value,disabled:O.value,placeholder:e.placeholder,rows:e.rows,name:P.fieldName.value,autocomplete:P.fieldAutocomplete.value,onFocus:I,onBlur:ne},J,R),null),[[K,{handler:oe},null,{once:!0}]]),e.autoGrow&&q(a("textarea",{class:Re([j,"v-textarea__sizer"]),id:`${J.id}-sizer`,"onUpdate:modelValue":pe=>s.value=pe,ref:v,readonly:!0,"aria-hidden":"true"},null),[[Se,s.value]]),e.suffix&&a("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:r?c=>a(y,null,[i.details?.(c),n&&a(y,null,[a("span",null,null),t($e,{active:e.persistentCounter||u.value,value:ue.value,max:se.value,disabled:e.disabled},i.counter)])]):void 0})}),De({},M,k,b)}});function We(e,o,C,h,i,s){return w(),U(z,{class:"overflow-auto mx-auto","max-height":"100%","max-width":"100%",elevation:"0",color:"transparent","min-height":"100%"},{default:l(()=>[t(Z,{class:"mx-3 my-2 mb-0 pb-0"},{default:l(()=>[t(H,{cols:"8"},{default:l(()=>[t(Qe,{style:{"min-height":"calc(100vh - 90px)"},modelValue:i.backendConfigText,"onUpdate:modelValue":o[0]||(o[0]=u=>i.backendConfigText=u),variant:"outlined"},null,8,["modelValue"])]),_:1}),t(H,null,{default:l(()=>[t(z,{class:"px-4 py-3"},{default:l(()=>[t(Z,{"align-content":"center",justify:"center",align:"center",dense:""},{default:l(()=>[t(H,{cols:"12"},{default:l(()=>[t(ze,{width:"100%","prepend-icon":"mdi-content-save",color:"grey-darken-3",variant:"flat",elevation:"0",onClick:s.saveConfig},{default:l(()=>[...o[1]||(o[1]=[B(" Save Config ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),t(z,{class:"mt-3",color:"transparent",elevation:"0"},{default:l(()=>[t(He,{flat:"",density:"compact"},{default:l(()=>[t(Me,{class:"d-flex align-center"},{default:l(()=>[...o[2]||(o[2]=[B(" OBS Scenes ",-1)])]),_:1})]),_:1}),t(Ge,{class:"pa-0"},{default:l(()=>[a("div",null,[t(X,{color:"grey-darken-4"},{default:l(()=>[(w(!0),L(y,null,Y(e.getObsSceneData,u=>(w(),U(ee,{key:u.uuid||u.index},{default:l(()=>[t(te,null,{default:l(()=>[B(g(u.name),1)]),_:2},1024),t(ae,{class:"pa-0"},{default:l(()=>[t(le,null,{default:l(()=>[a("tbody",null,[a("tr",null,[o[3]||(o[3]=a("td",null,"UUID",-1)),a("td",null,g(u.uuid),1)]),a("tr",null,[o[4]||(o[4]=a("td",null,"Index",-1)),a("td",null,g(u.index),1)])])]),_:2},1024),t(X,{multiple:"",class:"mt-2"},{default:l(()=>[(w(!0),L(y,null,Y(u.items,f=>(w(),U(ee,{color:"grey-darken-3",key:f.uuid||f.id},{default:l(()=>[t(te,null,{default:l(()=>[B(g(f.name),1)]),_:2},1024),t(ae,{class:"pa-0"},{default:l(()=>[t(le,null,{default:l(()=>[a("tbody",null,[a("tr",null,[o[5]||(o[5]=a("td",null,"UUID",-1)),a("td",null,g(f.uuid),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"ID",-1)),a("td",null,g(f.id),1)])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const ot=Ue(Ye,[["render",We]]);export{ot as default};
